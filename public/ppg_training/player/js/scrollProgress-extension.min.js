(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{1333:function(e,r,s){"use strict";const{registerEpics:t,registerReducer:i}=s(4),{registerElementsEpic:o}=s(2319),n=s(2322);t(o),i("scrollProgress",n)},2319:function(e,r,s){"use strict";const{SETUP_APP:t}=s(9),{addElement:i}=s(42),o=s(2320);r.registerElementsEpic=(e,r)=>e.filter(e=>{if(e.type!==t)return!1;const{course:s}=r.getState();return s._scrollProgress&&s._scrollProgress._isEnabled}).map(()=>{const e=r.getState().course._scrollProgress;return i({name:"scrollProgress",component:o,props:{scrollProgress:e},parent:"container"})})},2320:function(e,r,s){"use strict";const t=s(8),i=s(0),{connect:o}=s(6),n=s(2321);e.exports=o((e,r)=>{const{currentId:s,currentContentType:i}=e.location,o={isReady:!1,device:e.device,theme:e.theme,location:e.location,navigation:e.navigation,scrollTop:e.scrollProgress.scrollTop,isInline:e.inline.isEnabled};if("page"===i||"menu"===i){const r=e.contentObjects[s];o.isReady=t(r,"_isReady",!0)}else i&&(o.isReady=!0);if(r.scrollProgress._canReadFromVariable&&r.scrollProgress._variableId){const s=e.logic.variables[r.scrollProgress._variableId];s&&(o.canReadFromVariable=!0,o.variableValue=s.value,o.maxVariableValue=r.scrollProgress._maxVariableValue||0)}return o})(e=>i.createElement(n,e))},2321:function(e,r,s){"use strict";(function(r){const t=s(2),i=s(1),o=s(0),n=s(7),a=t({displayName:"ScrollProgressBar",propTypes:{device:i.object.isRequired,theme:i.object.isRequired,location:i.object.isRequired,scrollProgress:i.object.isRequired,scrollTop:i.number.isRequired,navigation:i.object.isRequired,canReadFromVariable:i.bool,isReady:i.bool,variableValue:i.number,maxVariableValue:i.number,isInline:i.bool.isRequired},getIsVisible(){if(!this.props.isReady)return!1;const{location:e,scrollProgress:r}=this.props;switch(e.currentContentType){case"page":return!0;case"menu":return r._displayOnMenus;default:return r._displayOnExtensions}},getProgress(){const{canReadFromVariable:e,variableValue:s,maxVariableValue:t,scrollTop:i}=this.props;if(e)return t>0?s/t*100:s;const o=r(document).height(),n=r(window).height(),a=r(window).width();if(o<=n)return a;return i/(o-n)*a},getPositionTop(){const{device:e,theme:s,navigation:t,isInline:i}=this.props,o=s._extensions._scrollProgress,n=o._settings._isNavigationBottom,a=s._navigation._settings._shouldHideTopNavigation;if(!i&&(!n||a))return 0;const l=parseInt(o._variables["@scroll-progress-bar-height"],10);if(i&&a){if(!n)return 0;const e=r(".appheader").height();return Math.max(e-l,0)}if("large"!==e.screenSize){return parseInt(t.navigationMobileHeight,10)-parseInt(o._variables["@scroll-progress-bar-mobile-height"],10)}return parseInt(t.navigationHeight,10)-l},render(){if(!this.getIsVisible())return null;const e=this.getProgress();return o.createElement("div",{className:"ev-scroll-progress-bar",style:{top:this.getPositionTop()+"px"}},o.createElement("div",{className:n("ev-scroll-progress-progress-indicator-bar",{"ev-can-animate":this.props.canReadFromVariable}),style:{width:this.props.canReadFromVariable?e+"%":e+"px"}}))}});e.exports=a}).call(this,s(29))},2322:function(e,r,s){"use strict";const{DEVICE_SCROLL:t}=s(123),i={scrollTop:0};e.exports=(e=i,r)=>{switch(r.type){case t:return{...e,scrollTop:r.payload};default:return e}}}}]);