(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{1271:function(e,t,i){"use strict";const{registerComponent:o}=i(4),{openFullScreen:n}=i(473);o("infographic",{component:i(1959),actions:{openFullScreen:n},reducer:i(1966),trackingMap:i(1967),mapStateToProps:i(1968)})},1370:function(e,t,i){"use strict";const o=i(7);e.exports=function(e){return o(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1373:function(e,t,i){"use strict";var o=i(30)(i(21));const n=i(0),s=i(7),r=i(1),a=i(119),l=i(300),c={default:"ev-default",chromeless:"ev-chromeless",warning:"ev-warning"};function d({text:e,icon:t,iconPosition:i,iconSize:r,showPulseAnimation:d,image:p,imagePosition:u,variant:m,className:h,textAlignment:g,...b}){const I=()=>{if(t)return n.createElement(l,{icon:t,size:r})},v=()=>{if(p&&p.src)return n.createElement(a,{graphicSrc:p.src,altText:p.alt})};return n.createElement("button",(0,o.default)({type:"button",className:s("ev-button",c[m],h,"ev-button-icon-position-"+i,"ev-button-image-position-"+u,"ev-button-text-align-"+g,{"ev-button-no-text":!e,"ev-has-icon":t,"ev-has-image":p&&p.src,"ev-pulse":d})},b),(()=>{if("top"===u||"left"===u)return v()})(),n.createElement("span",{className:"ev-button-inner"},(()=>{if("top"===i||"left"===i)return I()})(),e&&n.createElement("span",{className:"ev-button-text"},e),(()=>{if("bottom"===i||"right"===i)return I()})()),(()=>{if("bottom"===u||"right"===u)return v()})())}d.propTypes={text:r.string,textAlignment:r.string,icon:r.string,iconPosition:r.string,iconSize:r.number,showPulseAnimation:r.bool,image:r.object,imagePosition:r.string,className:r.string,variant:r.oneOf(["default","chromeless","warning"])},d.defaultProps={variant:"default",iconPosition:"left",iconSize:20,showPulseAnimation:!1,imagePosition:"top",textAlignment:"center"},e.exports=d},1394:function(e,t,i){"use strict";const o=i(8),n=i(0),s=i(2),r=i(1),{connect:a}=i(6),l=i(305),c=i(479),d=i(7),p=i(76),{addPrompt:u}=i(474),m=i(300),h=i(471),g=s({displayName:"TextVideoContent",propTypes:{title:r.string,body:r.string,mediaPosition:r.string,className:r.string,titleClassName:r.string,bodyClassName:r.string,styles:r.object,autoPlay:r.bool,controls:r.bool,onPlay:r.func,onEnded:r.func,metrics:r.object,onMetricsChange:r.func,shouldViewInPopup:r.bool,viewButtonText:r.string,viewButtonIcon:r.string,addPrompt:r.func.isRequired,tabIndex:r.number,_video:r.shape({src:r.object,poster:r.object,_subtitles:r.shape({label:r.string,src:r.object}),_transcript:r.shape({body:r.string,button:r.string})}),textVerticalAlignment:r.string,titleTextAlignment:r.string,bodyTextAlignment:r.string,transcriptType:r.string,animationEnded:r.bool,shouldDisplayTranscriptInline:r.bool,renderText:r.func},getDefaultProps:()=>({controls:!0,tabIndex:0}),getTranscriptType(){const{shouldDisplayTranscriptInline:e,transcriptType:t}=this.props;return t||e?"inline":"popup"},onViewClicked(){const{props:e}=this,t=n.createElement(c,{src:e._video.src,poster:e._video.poster,subtitles:e._video._subtitles,transcript:e._video._transcript,metrics:e.metrics,onMetricsChange:e.onMetricsChange,shouldAutoPlay:!0});e.addPrompt({_component:t,_shouldNotShowInNavigation:!1,_hasPriority:!0,_shouldWaitForDisplay:!0})},renderPoster(){const{_video:e,tabIndex:t}=this.props;if(null!=e&&e.poster)return n.createElement("img",{"aria-hidden":-1===t,src:p(e.poster),className:"ev-text-video-content-poster-image",alt:""})},renderVideo(){const{props:e}=this;if(e.shouldViewInPopup)return n.createElement(n.Fragment,null,this.renderPoster(),n.createElement("button",{tabIndex:e.tabIndex,className:"ev-button",onClick:this.onViewClicked},n.createElement(m,{icon:e.viewButtonIcon}),e.viewButtonText));const{_video:t,tabIndex:i}=e,s=o(t,"_subtitles",{}),r=o(t,"_transcript",{});return n.createElement(l,{tabIndex:i,src:p(t.src),posterSrc:p(t.poster),subtitlesLabel:s.label,subtitlesSrc:p(s.src),transcriptType:this.getTranscriptType(),transcriptText:r.body,transcriptButtonText:r.button,autoPlay:e.autoPlay,controls:e.controls,onPlay:e.onPlay,onEnded:e.onEnded,metrics:e.metrics,isVisible:-1!==i,onMetricsChange:e.onMetricsChange,animationEnded:e.animationEnded})},render(){var e,t;const{props:i}=this,o=null===(e=i._video)||void 0===e?void 0:e.src;return n.createElement(h,{title:i.title,body:i.body,mediaPosition:i.mediaPosition,className:d(i.className,{"ev-text-video-content":o,"ev-text-only-content":!o,"ev-is-popup":i.shouldViewInPopup,"ev-has-poster":i.shouldViewInPopup&&(null===(t=i._video)||void 0===t?void 0:t.poster)}),titleClassName:i.titleClassName,bodyClassName:i.bodyClassName,styles:i.styles,renderText:i.renderText,textVerticalAlignment:i.textVerticalAlignment,titleTextAlignment:i.titleTextAlignment,bodyTextAlignment:i.bodyTextAlignment},o&&this.renderVideo())}});e.exports=a(null,{addPrompt:u})(g)},1395:function(e,t,i){"use strict";const o=i(8),n=i(0),s=i(2),r=i(1),a=i(1400),l=i(7),c=i(76),d=i(471),p=s({displayName:"TextAudioContent",propTypes:{title:r.string,body:r.string,mediaPosition:r.string,className:r.string,titleClassName:r.string,bodyClassName:r.string,styles:r.object,autoPlay:r.bool,controls:r.bool,onPlay:r.func,onEnded:r.func,tabIndex:r.number,_audio:r.shape({src:r.object,poster:r.object,posterAltText:r.string,_transcript:r.shape({body:r.string,button:r.string})}),textVerticalAlignment:r.string,titleTextAlignment:r.string,bodyTextAlignment:r.string,renderText:r.func,shouldDisplayTranscriptInline:r.bool},getDefaultProps:()=>({controls:!0,tabIndex:0}),renderAudio(){const{props:e}=this,t=o(e._audio,"_transcript",{});return n.createElement(a,{src:c(e._audio.src),poster:c(e._audio.poster),posterAltText:e._audio.posterAltText,shouldDisplayTranscriptInline:this.props.shouldDisplayTranscriptInline,transcriptText:t.body,transcriptButtonText:t.button,autoPlay:e.autoPlay,controls:e.controls,onPlay:e.onPlay,onEnded:e.onEnded,tabIndex:e.tabIndex})},render(){var e;const{props:t}=this,i=null===(e=t._audio)||void 0===e?void 0:e.src;return n.createElement(d,{title:t.title,body:t.body,mediaPosition:t.mediaPosition,className:l(t.className,{"ev-text-audio-content":i,"ev-text-only-content":!i}),titleClassName:t.titleClassName,bodyClassName:t.bodyClassName,styles:t.styles,renderText:t.renderText,textVerticalAlignment:t.textVerticalAlignment,titleTextAlignment:t.titleTextAlignment,bodyTextAlignment:t.bodyTextAlignment},i&&this.renderAudio())}});e.exports=p},1400:function(e,t,i){"use strict";const o=i(2),n=i(0),s=i(1),r=i(48),{connect:a}=i(6),l=i(7),{addPrompt:c}=i(95),d=i(1373),p=i(24),u=o({displayName:"Audio",propTypes:{src:s.string.isRequired,poster:s.string,posterAltText:s.string,transcriptText:s.string,transcriptButtonText:s.string,autoPlay:s.bool,controls:s.bool,addPrompt:s.func,onPlay:s.func,onEnded:s.func,tabIndex:s.number,shouldDisplayTranscriptInline:s.bool},componentWillUnmount(){if(this._audio){var e,t;const i=r.findDOMNode(this._audio);null===(e=i.pause)||void 0===e||e.call(i),null===(t=i.setAttribute)||void 0===t||t.call(i,"src","")}},componentDidUpdate({tabIndex:e}){const{props:t}=this;-1===t.tabIndex&&e>-1&&this._audio&&!this._audio.paused&&this._audio.pause()},getDefaultProps:()=>({tabIndex:0}),onTranscriptButtonClicked(){const e={body:this.props.transcriptText,_glyph:{_type:"icon",_className:"ev-icon-audio-book"}};this.props.addPrompt(e)},renderTranscriptButton(){const{shouldDisplayTranscriptInline:e,transcriptText:t,transcriptButtonText:i,tabIndex:o}=this.props;if(t&&i&&!e)return n.createElement(d,{tabIndex:o,className:"ev-transcript-button",onClick:this.onTranscriptButtonClicked,text:i})},renderPoster(){if(this.props.poster)return n.createElement("img",{"aria-hidden":-1===this.props.tabIndex,className:"ev-audio-poster-image",src:this.props.poster,alt:this.props.posterAltText})},renderTranscriptInline(){if(this.props.shouldDisplayTranscriptInline)return n.createElement(p,{className:"ev-audio-transcript-inline",html:this.props.transcriptText,style:{marginTop:"20px"}})},render(){const{props:e}=this;return n.createElement("div",{className:l("ev-audio-player",{"has-no-poster":!e.poster})},this.renderPoster(),n.createElement("audio",{tabIndex:e.tabIndex,ref:e=>this._audio=e,src:e.src,autoPlay:e.autoPlay,onPlay:e.onPlay,onEnded:e.onEnded,controls:e.controls,controlsList:"nodownload"}),this.renderTranscriptButton(),this.renderTranscriptInline())}});e.exports=a(null,{addPrompt:c})(u)},1405:function(e,t,i){"use strict";const o=i(8),n=i(0),s=i(2),r=i(1),{connect:a}=i(6),l=i(306),c=i(486),d=i(7),p=i(76),{addPrompt:u}=i(474),m=i(300),h=i(471),g=s({displayName:"TextVideoStreamContent",propTypes:{id:r.string.isRequired,title:r.string,body:r.string,mediaPosition:r.string,className:r.string,titleClassName:r.string,bodyClassName:r.string,styles:r.object,shouldViewInPopup:r.bool,viewButtonText:r.string,viewButtonIcon:r.string,posterImage:r.object,posterAltText:r.string,addPrompt:r.func.isRequired,tabIndex:r.number,videoStream:r.shape({_service:r.string,_options:r.object}),textVerticalAlignment:r.string,titleTextAlignment:r.string,bodyTextAlignment:r.string,isVisible:r.bool.isRequired,renderText:r.func},getDefaultProps:()=>({tabIndex:0,isVisible:!0}),onViewClicked(){const{id:e,videoStream:t,addPrompt:i}=this.props;if(o(t,"_options._source",!1)){i({_component:n.createElement(c,{id:e,service:t._service,options:t._options}),_shouldNotShowInNavigation:!1,_hasPriority:!0,_shouldWaitForDisplay:!1})}},renderPoster(){const{posterImage:e,posterAltText:t,tabIndex:i}=this.props;if(e)return n.createElement("img",{"aria-hidden":-1===i,src:p(e),className:"ev-text-video-content-poster-image",alt:t})},renderVideoStream(){const{props:e}=this;if(e.shouldViewInPopup)return n.createElement(n.Fragment,null,this.renderPoster(),n.createElement("button",{tabIndex:e.tabIndex,className:"ev-button",onClick:this.onViewClicked},n.createElement(m,{icon:e.viewButtonIcon}),e.viewButtonText));const{id:t,videoStream:i,isVisible:o}=e;return n.createElement(l,{id:t,service:i._service,options:i._options,isVisible:o})},render(){var e,t;const{props:i}=this,o=null===(e=i.videoStream)||void 0===e||null===(t=e._options)||void 0===t?void 0:t._source;return n.createElement(h,{title:i.title,body:i.body,mediaPosition:i.mediaPosition,className:d(i.className,{"ev-text-video-content":o,"ev-text-only-content":!o,"ev-is-popup":i.shouldViewInPopup,"ev-has-poster":i.shouldViewInPopup}),titleClassName:i.titleClassName,bodyClassName:i.bodyClassName,styles:i.styles,renderText:i.renderText,textVerticalAlignment:i.textVerticalAlignment,titleTextAlignment:i.titleTextAlignment,bodyTextAlignment:i.bodyTextAlignment},o&&this.renderVideoStream())}});e.exports=a(null,{addPrompt:u})(g)},1543:function(e,t,i){"use strict";var o=i(30)(i(21));const n=i(8),s=i(75),r=i(18),a=i(31),l=i(2),c=i(1),d=i(0),p=i(48),u=i(7),{connect:m}=i(6),{setComponentAsStarted:h}=i(61),{addPrompt:g}=i(95),b=i(119),I=i(219),v=i(2359).default,y=i(24),_=i(1962),f=i(1963),{onShowItemTooltip:S,onHideItemTooltip:T,onShowHideItems:x,onItemNavigate:P,clearItemFocus:E,onInfographicReset:C}=i(1545),A=l({displayName:"InfographicGraphic",propTypes:{component:c.object.isRequired,isLivePreview:c.bool.isRequired,screenSize:c.string.isRequired,isFullScreen:c.bool.isRequired,isFullScreenOpen:c.bool.isRequired,openFullScreen:c.func,onShowItemTooltip:c.func.isRequired,onItemNavigate:c.func.isRequired,onInfographicReset:c.func.isRequired,setComponentAsStarted:c.func.isRequired,fonts:c.object.isRequired,swatches:c.object.isRequired,variables:c.object.isRequired,onShowHideItems:c.func,clearItemFocus:c.func,addPrompt:c.func,onHideItemTooltip:c.func},getInitialState:()=>({_containerWidth:0,_containerHeight:0,_imageLoaded:!1,_isVisible:!1}),UNSAFE_componentWillReceiveProps(e){const{component:t,isFullScreenOpen:i}=this.props;if(n(t,"_graphic.src")&&!n(e.component,"_graphic.src")&&this.state._imageLoaded)return this.setState({_imageLoaded:!1});e.component._graphicMaxWidth!==t._graphicMaxWidth&&s(()=>{this.setImageLoaded()}),e.isFullScreenOpen!==i&&s(()=>{this.setState({_imageLoaded:!1},()=>{this.setImageLoaded()})})},getVisibilitySensorActive(){const{_imageLoaded:e,_isVisible:t}=this.state;return e&&!t},onVisibilityChange(e){e&&this.setState({_isVisible:e})},onResize(){this.state._imageLoaded&&s(()=>{this.setImageLoaded()})},onImageLoaded(){s(()=>{this.setImageLoaded()})},setImageLoaded(){const e=p.findDOMNode(this._container);this.setState({_containerWidth:e.offsetWidth,_containerHeight:e.offsetHeight},()=>{this.setState({_imageLoaded:!0})})},onItemClick(){const{component:e,setComponentAsStarted:t}=this.props;"itemsInteracted"!==e._completionMethod||e._hasStarted||t(e._id)},closeTooltip(){const{component:e,onHideItemTooltip:t}=this.props;t(e._id)},getWidthHeightPercentages(){const{_containerHeight:e,_containerWidth:t}=this.state,{_graphicMaxWidth:i}=this.props.component;return{widthPercentage:t/i*100,heightPercentage:e/(i*(e/t))*100}},renderItems(){const{_imageLoaded:e,_isVisible:t}=this.state,{isLivePreview:i,component:n,onShowItemTooltip:s,onShowHideItems:r,onItemNavigate:l,clearItemFocus:c,addPrompt:p,onInfographicReset:u,fonts:m,swatches:h,variables:g}=this.props,{_items:b,_displayItemOutlines:I,focusItemId:v,_useHoverStylesForFocus:y,_allowFocusOnAllItems:_,_useCustomFocusOutline:S,focusOutlineStyle:T,focusOutlineColor:x,focusOutlineWidth:P}=n;if(!e)return;const E=I&&i;return a(b,e=>d.createElement(f,(0,o.default)({key:e._id,componentId:n._id,displayItemOutline:E,onShowItemTooltip:s,onShowHideItems:r,onItemNavigate:l,onInfographicReset:u,canAnimate:t,shouldFocus:v===e._id,clearItemFocus:c,useHoverStylesForFocus:y,allowFocusOnAllItems:_,useCustomFocusOutline:S,focusOutlineStyle:T,focusOutlineColor:x,focusOutlineWidth:P,addPrompt:p,fonts:m,swatches:h,variable:g[e._variableId],onItemClick:this.onItemClick},this.getWidthHeightPercentages(),e)))},renderGraphic(){const{component:e}=this.props;if(!n(e,"_graphic.src",!1))return;const{isTooltipVisible:t,tooltipItemId:i}=e;return d.createElement(b,{graphicSrc:e._graphic.src,altText:e._graphic.alt,onLoad:this.onImageLoaded,autoSize:!1,onClick:()=>{t&&i&&this.closeTooltip()}})},renderOpenFullScreenButton(){const{isFullScreen:e,openFullScreen:t,component:i}=this.props;if(i._allowFullscreen&&!e)return d.createElement("button",{id:"infographic-component-open-fullscreen-button-"+i._id,className:"ev-button ev-infographic-open-fullscreen-button ev-is-"+i._fullscreenButtonPosition,onClick:t,"aria-label":i.fullscreenButtonAriaLabel},d.createElement("i",{className:"ev-icon ev-icon-expand4"}))},renderTooltip(){const{_id:e,isTooltipVisible:t,tooltipItemId:i,_items:n}=this.props.component;if(!t||!i)return null;const{_containerHeight:s,_containerWidth:a}=this.state,{screenSize:l,isFullScreen:c}=this.props,p=r(n,{_id:i});return d.createElement(_,(0,o.default)({},p,{_id:`${e}-${p._id}`,key:i,containerHeight:s,containerWidth:a,screenSize:l,isFullScreen:c,closeTooltip:this.closeTooltip},this.getWidthHeightPercentages()))},render(){const{component:e,isFullScreen:t}=this.props,i={position:"relative",maxWidth:e._graphicMaxWidth+"px"};return t&&(i.width=e._graphicMaxWidth+"px"),n(e,"_graphic.src",!1)?d.createElement(I,{active:this.getVisibilitySensorActive(),partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:200,onChange:this.onVisibilityChange},d.createElement(v,{handleWidth:!0,handleHeight:!0,onResize:this.onResize},d.createElement("div",{key:"graphic",className:u("ev-infographic-graphic",{"ev-is-overflow-hidden":e._isContainerOverflowHidden}),style:i,ref:e=>this._container=e},this.renderGraphic(),this.renderItems(),this.renderOpenFullScreenButton(),this.renderTooltip()),e.caption&&d.createElement(y,{key:"caption",className:"ev-infographic-graphic-caption ev-caption",html:e.caption}))):d.createElement("div",{className:"ev-infographic-graphic"})}});e.exports=m(null,{onShowItemTooltip:S,onHideItemTooltip:T,onShowHideItems:x,onItemNavigate:P,clearItemFocus:E,addPrompt:g,onInfographicReset:C,setComponentAsStarted:h})(A)},1544:function(e,t,i){"use strict";e.exports={TOOLTIP:"tooltip",NAVIGATION:"navigation",SHOW_HIDE_ITEM:"showItem",RESET:"reset"}},1545:function(e,t,i){"use strict";t.INFOGRAPHIC_SHOW_ITEM_TOOLTIP="INFOGRAPHIC_SHOW_ITEM_TOOLTIP",t.INFOGRAPHIC_HIDE_ITEM_TOOLTIP="INFOGRAPHIC_HIDE_ITEM_TOOLTIP",t.INFOGRAPHIC_SHOW_HIDE_ITEMS="INFOGRAPHIC_SHOW_HIDE_ITEMS",t.INFOGRAPHIC_ITEM_NAVIGATE="INFOGRAPHIC_ITEM_NAVIGATE",t.INFOGRAPHIC_CLEAR_ITEM_FOCUS="INFOGRAPHIC_CLEAR_ITEM_FOCUS",t.INFOGRAPHIC_RESET="INFOGRAPHIC_RESET",t.onShowItemTooltip=(e,i,o)=>({type:t.INFOGRAPHIC_SHOW_ITEM_TOOLTIP,payload:{componentId:e,itemId:i,isDialogTooltip:o}}),t.onHideItemTooltip=e=>({type:t.INFOGRAPHIC_HIDE_ITEM_TOOLTIP,payload:{componentId:e}}),t.onShowHideItems=(e,i,o,n)=>({type:t.INFOGRAPHIC_SHOW_HIDE_ITEMS,payload:{componentId:e,itemId:i,showItemIds:o,hideItemIds:n}}),t.onItemNavigate=(e,i)=>({type:t.INFOGRAPHIC_ITEM_NAVIGATE,payload:{componentId:e,itemId:i}}),t.clearItemFocus=e=>({type:t.INFOGRAPHIC_CLEAR_ITEM_FOCUS,payload:{componentId:e}}),t.onInfographicReset=e=>({type:t.INFOGRAPHIC_RESET,payload:{componentId:e}})},1959:function(e,t,i){"use strict";const o=i(32),n=i(8),s=i(39),r=i(2),a=i(1),l=i(0),{Component:c}=i(468),d=i(1370),p=i(218),u=i(76),m=i(1543),h=i(1965),g=i(1544),b=r({displayName:"Infographic",propTypes:{component:a.object.isRequired,setComponentAsReady:a.func.isRequired,setComponentAsViewed:a.func.isRequired,setComponentAsStarted:a.func.isRequired,setComponentAsComplete:a.func.isRequired,openFullScreen:a.func.isRequired,articleStyle:a.string,isPageReady:a.bool,styles:a.object,screenSize:a.string.isRequired,theme:a.object.isRequired,isLivePreview:a.bool.isRequired,isFullScreenOpen:a.bool,variables:a.object.isRequired},componentDidMount(){const{props:e}=this;this.loadImages(),this._timeout=setTimeout(()=>{e.component._isReady||e.setComponentAsReady(e.component._id),this._timeout=void 0},1e3)},UNSAFE_componentWillReceiveProps(e){const{component:t,setComponentAsComplete:i}=this.props,n=e.component._items;if(n.length&&"itemsVisible"===t._completionMethod&&!e.component._isComplete){o(n,{isVisible:!0}).length===n.length&&i(t._id)}if(n.length&&"itemsInteracted"===t._completionMethod&&!e.component._isComplete){const e=o(n,e=>e.isInteractive&&e.interactiveActionType!==g.RESET),s=o(e,{_hasInteracted:!0});e.length===s.length&&i(t._id)}},componentWillUnmount(){this._timeout&&clearTimeout(this._timeout)},loadImages(){const{component:e}=this.props,t=["backgroundImage.src","hoverBackgroundImage.src","interactedBackgroundImage.src","tooltipMediaGraphic.src"],i=n(e,"_items",[]);s(i).reduce((e,i)=>[...e,...t.map(e=>n(i,e))],[]).map(e=>u(e)).compact().uniq().forEach(e=>p(e)).commit()},onVisibilityChange(e,{top:t,bottom:i}){const{props:o}=this;t&&(this.isInviewTop=!0),i&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&(o.component._hasBeenViewed||o.setComponentAsViewed(o.component._id),o.setComponentAsStarted(o.component._id),"inview"===o.component._completionMethod&&o.setComponentAsComplete(o.component._id))},getIsVisibilitySensorActive(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&("inview"===e._completionMethod||"itemsVisible"===e._completionMethod)&&!0!==e._isComplete},openFullScreen(e){e.preventDefault();const{props:t}=this,i=t.component._id;t.openFullScreen({component:h,props:{componentId:i,articleStyle:t.articleStyle}})},render(){const{props:e}=this;return l.createElement(c,{component:e.component,styles:e.styles,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange},l.createElement("div",{className:d(e.component)},l.createElement("div",{className:"ev-infographic-graphic-container"},l.createElement(m,{component:e.component,isLivePreview:e.isLivePreview,screenSize:e.screenSize,isFullScreen:!1,isFullScreenOpen:e.isFullScreenOpen,openFullScreen:this.openFullScreen,fonts:e.theme._fonts,swatches:e.theme._swatches,variables:e.variables}))))}});e.exports=b},1962:function(e,t,i){"use strict";var o=i(30)(i(21));const n=i(75),s=i(2),r=i(1),a=i(0),l=i(48),{Spring:c,config:d,animated:p,interpolate:u}=i(77),m=i(1394),h=i(1395),g=i(483),b=i(1405),I="anchor",v="center",y="cover",_="topLeft",f="topRight",S="bottomLeft",T="bottomRight",x=s({displayName:"InfographicTooltip",propTypes:{_id:r.string.isRequired,x:r.number.isRequired,y:r.number.isRequired,width:r.number.isRequired,height:r.number.isRequired,widthPercentage:r.number.isRequired,heightPercentage:r.number.isRequired,containerHeight:r.number.isRequired,containerWidth:r.number.isRequired,tooltipText:r.string,tooltipPosition:r.string.isRequired,tooltipMediaType:r.string,tooltipMediaLayout:r.string,tooltipMediaGraphic:r.object,tooltipMediaVideo:r.object,tooltipMediaAudio:r.object,_videoStream:r.object,screenSize:r.string.isRequired,isFullScreen:r.bool.isRequired,closeTooltip:r.func.isRequired,tooltipAnimateOpacity:r.number,tooltipAnimateScale:r.number,tooltipAnimateEasing:r.string},getInitialState:()=>({_tooltipHeight:0,_tooltipWidth:0,_animationEnded:!1}),componentDidMount(){const e=l.findDOMNode(this);e.focus(),e.scrollTop=0,this.setTooltipSize()},UNSAFE_componentWillReceiveProps(e){const{containerWidth:t}=this.props;e.containerWidth!==t&&n(()=>{this.setTooltipSize()})},setTooltipSize(){const e=l.findDOMNode(this);this.setState({_tooltipHeight:e.offsetHeight,_tooltipWidth:e.offsetWidth})},onCloseTooltipClick(e){e.preventDefault(),this.props.closeTooltip()},onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},getSpringFrom(){const{tooltipAnimateOpacity:e,tooltipAnimateScale:t}=this.props;return{opacity:e,scale:t}},getSpringTo:()=>({opacity:1,scale:1}),getStyle(e,t){const{tooltipPosition:i,screenSize:o,isFullScreen:n}=this.props,{_animationEnded:s,_tooltipHeight:r,_tooltipWidth:a}=this.state,l={opacity:e,transform:u([t],e=>`scale(${e})`)};if(s&&(l.transform="none"),"small"===o||i===y)return l.top=0,l.left=0,l.bottom=0,l.right=0,n&&(l.position="fixed",l.zIndex="999999"),l;switch(l.width="50%",l.maxHeight="50%",i){case I:this.getAnchorPosition(l);break;case v:l.top="50%",l.left="50%",l.marginTop=`-${r/2}px`,l.marginLeft=`-${a/2}px`;break;case _:l.top="5%",l.left="5%";break;case f:l.top="5%",l.right="5%";break;case S:l.bottom="5%",l.left="5%";break;case T:l.bottom="5%",l.right="5%"}return s&&(l.transform="none"),l},getAnchorPosition(e){const{x:t,y:i,width:o,height:n,widthPercentage:s,heightPercentage:r,containerWidth:a,containerHeight:l}=this.props,{_tooltipHeight:c}=this.state;let d=!1,p=!1;t/a*100>50&&(d=!0),i/l*100>50&&(p=!0);const u=t*s/100,m=i*r/100,h=o*s/100,g=n*r/100;e.left=d?u+h-a/2:u,e.top=p?m-c-10:m+g+10},renderContent(){const{_id:e,tooltipText:t,tooltipMediaType:i,tooltipMediaLayout:n,tooltipMediaGraphic:s,tooltipMediaVideo:r,tooltipMediaAudio:l,_videoStream:c}=this.props,d={ref:e=>this._item=e,className:"ev-infographic-tooltip-content",bodyClassName:"ev-infographic-tooltip-text",body:t,mediaPosition:n,tabIndex:1};switch(i){case"video":return a.createElement(m,(0,o.default)({},d,{_video:r}));case"videoStream":return a.createElement(b,(0,o.default)({},d,{id:e,videoStream:c}));case"audio":return a.createElement(h,(0,o.default)({},d,{_audio:l}));case"image":return a.createElement(g,(0,o.default)({},d,{_graphic:s}));default:return a.createElement(g,d)}},render(){const{tooltipAnimateEasing:e}=this.props;return a.createElement(c,{native:!0,from:this.getSpringFrom(),to:this.getSpringTo(),onStart:this.onStart,onRest:this.onRest,config:d[e]||d.default},({opacity:e,scale:t})=>a.createElement(p.div,{className:"ev-infographic-tooltip",style:this.getStyle(e,t),tabIndex:"0"},a.createElement("div",{className:"ev-infographic-tooltip-top"},a.createElement("button",{className:"ev-infographic-tooltip-close-button",onClick:this.onCloseTooltipClick},a.createElement("i",{className:"ev-icon ev-icon-cross-circle"}))),this.renderContent()))}});e.exports=x},1963:function(e,t,i){"use strict";var o=i(30)(i(21));const n=i(8),s=i(1380),r=i(2),a=i(1),l=i(0),c=i(7),d=i(76),p=i(171),{withRouter:u}=i(34),m=i(214),{Transition:h,config:g,animated:b,interpolate:I}=i(77),{easeCubicOut:v,easeSinInOut:y,easeElastic:_,easeCircle:f,easeExpIn:S}=i(2361),T=i(140),x=i(33),P=i(1544),E=i(1964),C={default:v,gentle:y,wobbly:_,stiff:f,slow:S},A=r({displayName:"InfographicItem",propTypes:{componentId:a.string.isRequired,_id:a.string.isRequired,x:a.number.isRequired,y:a.number.isRequired,width:a.number.isRequired,height:a.number.isRequired,editorOutlineColor:a.string,text:a.string,ariaLabel:a.string,fontSize:a.number,fontFamily:a.string,textAlign:a.string,alignItems:a.string,color:a.string,backgroundColor:a.string,borderWidth:a.number,borderStyle:a.string,borderColor:a.string,borderRadius:a.number,paddingTop:a.number,paddingRight:a.number,paddingBottom:a.number,paddingLeft:a.number,backgroundImage:a.object,enableHoverStyles:a.bool,hoverColor:a.string,hoverBackgroundColor:a.string,hoverBorderColor:a.string,hoverBackgroundImage:a.object,enableInteractedStyles:a.bool,interactedColor:a.string,interactedBackgroundColor:a.string,interactedBorderColor:a.string,interactedBackgroundImage:a.object,animateX:a.number,animateY:a.number,animateOpacity:a.number,animateScale:a.number,animateRotate:a.number,animateLeaveX:a.number,animateLeaveY:a.number,animateLeaveOpacity:a.number,animateLeaveScale:a.number,animateLeaveRotate:a.number,animateEasing:a.string,animationDelay:a.number,animationDuration:a.number,animationDurationLeave:a.number,isInteractive:a.bool,widthPercentage:a.number.isRequired,heightPercentage:a.number.isRequired,displayItemOutline:a.bool,onShowItemTooltip:a.func.isRequired,navigationLink:a.object,showItemIds:a.array,hideItemIds:a.array,onShowHideItems:a.func.isRequired,onItemNavigate:a.func.isRequired,onInfographicReset:a.func.isRequired,shouldFocus:a.bool,clearItemFocus:a.func,useHoverStylesForFocus:a.bool,allowFocusOnAllItems:a.bool,useCustomFocusOutline:a.bool,focusOutlineStyle:a.string,focusOutlineColor:a.string,focusOutlineWidth:a.number,fonts:a.object.isRequired,swatches:a.object.isRequired,variable:a.object,onItemClick:a.func.isRequired,interactiveActionType:a.string,history:a.object.isRequired,addPrompt:a.func.isRequired,isDialogTooltip:a.bool,tooltipText:a.string,tooltipMediaType:a.string,tooltipMediaLayout:a.string,tooltipMediaGraphic:a.object,tooltipMediaVideo:a.object,tooltipMediaAudio:a.object,_videoStream:a.object,enableAnimations:a.bool,_hasInteracted:a.bool,isAutoLineHeight:a.bool,lineHeight:a.number,isVisible:a.bool,canAnimate:a.bool,_canReadFromVariable:a.bool},getInitialState:()=>({_isHover:!1,_isFocus:!1}),componentDidUpdate(){const{shouldFocus:e,clearItemFocus:t,componentId:i}=this.props;e&&(this._item.focus(),t(i))},onClick(e){e.preventDefault(),e.stopPropagation();const{componentId:t,_id:i,onShowItemTooltip:o,interactiveActionType:n,navigationLink:s,showItemIds:r,hideItemIds:a,onShowHideItems:c,onItemNavigate:d,onInfographicReset:p,addPrompt:u,tooltipText:h,tooltipMediaType:g,isDialogTooltip:b,tooltipMediaLayout:I,tooltipMediaGraphic:v,tooltipMediaVideo:y,tooltipMediaAudio:_,_videoStream:f,history:S,onItemClick:T}=this.props;return T(),n===P.TOOLTIP?(b&&u({_component:l.createElement(E,{_id:`${t}-${i}`,tooltipText:h,tooltipMediaType:g,tooltipMediaLayout:I,tooltipMediaGraphic:v,tooltipMediaVideo:y,tooltipMediaAudio:_,_videoStream:f})}),o(t,i,b)):n===P.SHOW_HIDE_ITEM?c(t,i,r,a):n===P.RESET?p(t,i):void(n===P.NAVIGATION&&s._isEnabled&&(d(t,i),"course"===s._linkType?S.push("/"):"extensions"===s._linkType||"additionalContent"===s._linkType?S.push("/"+s._link):m(s._link)))},onMouseEnter(){this.setState({_isHover:!0})},onMouseLeave(){this.setState({_isHover:!1})},onFocus(){this.setState({_isHover:this.props.useHoverStylesForFocus,_isFocus:!0})},onBlur(){this.setState({_isHover:!1,_isFocus:!1})},onKeyPress(e){(p.isEnterKey(e)||p.isSpaceKey(e))&&this.onClick(e)},getTransitionFrom(){const{x:e,y:t,widthPercentage:i,heightPercentage:o,animateX:n,animateY:s,animateOpacity:r,animateScale:a,animateRotate:l,enableAnimations:c}=this.props;return c?{x:n*i/100,y:s*o/100,opacity:r,scale:a,rotate:l||0,animatable:0}:{x:e*i/100,y:t*o/100,opacity:1,scale:1,rotate:0,animatable:0}},getTransitionEnter(){const{x:e,y:t,widthPercentage:i,heightPercentage:o}=this.props;return{x:e*i/100,y:t*o/100,opacity:1,scale:1,rotate:0,animatable:1}},getTransitionLeave(){const{x:e,y:t,widthPercentage:i,heightPercentage:o,enableAnimations:s}=this.props;if(!s)return{x:e*i/100,y:t*o/100,opacity:0,scale:1,rotate:0,animatable:0};return{x:n(this.props,"animateLeaveX",e)*i/100,y:n(this.props,"animateLeaveY",t)*o/100,opacity:n(this.props,"animateLeaveOpacity",0),scale:n(this.props,"animateLeaveScale",1),rotate:n(this.props,"animateLeaveRotate",0),animatable:0}},getSize(){const{width:e,height:t,widthPercentage:i,heightPercentage:o}=this.props;return{width:e*i/100+"px",height:t*o/100+"px"}},getScaledPixelSize(e){const{widthPercentage:t}=this.props;return e*t/100+"px"},getInteractionStyle(e,t,i){const{enableHoverStyles:o,enableInteractedStyles:n,_hasInteracted:s}=this.props,{_isHover:r}=this.state;return n&&s?i:o&&r?t:e},getBackgroundImageStyle(e){const{enableHoverStyles:t,enableInteractedStyles:i,_hasInteracted:o,backgroundImage:n,hoverBackgroundImage:s,interactedBackgroundImage:r}=this.props,{_isHover:a}=this.state,l={display:"none",position:"absolute",zIndex:0,top:0,left:0,right:0,bottom:0,height:"100%",width:"100%",backgroundPosition:"center",backgroundSize:"contain",backgroundRepeat:"no-repeat"};return"interacted"===e?(l.backgroundImage=r&&r.src?`url(${d(r.src)})`:"none",i&&o&&(l.display="block")):"hover"===e?(l.backgroundImage=s&&s.src?`url(${d(s.src)})`:"none",(!i||i&&!o)&&t&&a&&(l.display="block")):(l.backgroundImage=n&&n.src?`url(${d(n.src)})`:"none",i&&(!i||o)||t&&(!t||a)||(l.display="block")),l},getStyle(e,t,i,o,n){const{editorOutlineColor:s,fontSize:r,fontFamily:a,textAlign:l,alignItems:c,isAutoLineHeight:d,lineHeight:p,color:u,backgroundColor:m,borderWidth:h,borderStyle:g,borderColor:b,borderRadius:v,paddingTop:y,paddingRight:_,paddingBottom:f,paddingLeft:S,hoverColor:x,hoverBackgroundColor:P,hoverBorderColor:E,interactedColor:C,interactedBackgroundColor:A,interactedBorderColor:R,displayItemOutline:N,useCustomFocusOutline:w,focusOutlineStyle:F,focusOutlineColor:O,focusOutlineWidth:H,isInteractive:M,fonts:V,swatches:L}=this.props,{_isFocus:k}=this.state;return{position:"absolute",transition:"color 0.25s, background-color 0.25s, border-color 0.25s",top:0,left:0,transform:I([e,t,o,n],(e,t,i,o)=>`translate(${e}px, ${t}px) scale(${i}) rotate(${o}deg)`),...this.getSize(),display:"flex",textAlign:l,alignItems:c,outline:w&&k?`${H}px ${F} ${T(O,L)}`:N?"dashed 2px "+s:"none",lineHeight:d?"100%":this.getScaledPixelSize(p),color:T(this.getInteractionStyle(u,x,C),L),backgroundColor:T(this.getInteractionStyle(m,P,A),L),borderWidth:this.getScaledPixelSize(h),borderStyle:g,borderColor:T(this.getInteractionStyle(b,E,R),L),borderRadius:this.getScaledPixelSize(v),paddingTop:this.getScaledPixelSize(y),paddingRight:this.getScaledPixelSize(_),paddingBottom:this.getScaledPixelSize(f),paddingLeft:this.getScaledPixelSize(S),fontSize:this.getScaledPixelSize(r),fontFamily:V[a]?V[a]._fontFamily:null,opacity:i,cursor:M?"pointer":void 0}},getCanShowItem(){const{isVisible:e,canAnimate:t,_canReadFromVariable:i,variable:o}=this.props;let s=!1;if(i&&o){s=n(this.props,"_variableComparsion",!1)===o.value&&t}else e&&t&&(s=!0);return s},render(){const{text:e,ariaLabel:t,isInteractive:i,animateEasing:n,allowFocusOnAllItems:r,useCustomFocusOutline:a,enableAnimations:d,animationDelay:p,animationDuration:u,animationDurationLeave:m,isVisible:I}=this.props,v={};let y,_;i&&(v.role="button",v.onClick=this.onClick,v.onKeyPress=this.onKeyPress,v.onMouseEnter=this.onMouseEnter,v.onMouseLeave=this.onMouseLeave,y=l.createElement("span",{className:"ev-infographic-background-image",style:this.getBackgroundImageStyle("hover")}),_=l.createElement("span",{className:"ev-infographic-background-image",style:this.getBackgroundImageStyle("interacted")})),(i||r)&&(v.onFocus=this.onFocus,v.onBlur=this.onBlur,v.tabIndex=0);const f=I?u:m,S=this.getCanShowItem();let T=g[n]||g.default;return s(f)&&f>0&&(T={duration:f,easing:C[n]||C.default}),l.createElement(h,{native:!0,items:S,from:this.getTransitionFrom(),enter:this.getTransitionEnter(),leave:this.getTransitionLeave(),update:this.getTransitionEnter(),config:T,immediate:!d,trail:S?p:0},i=>i&&(({x:i,y:n,opacity:s,scale:r,rotate:d})=>l.createElement(b.div,(0,o.default)({ref:e=>this._item=e,className:c("ev-infographic-item",{"ev-no-accessibility-focus":a}),style:this.getStyle(i,n,s,r,d),"aria-label":t},v),l.createElement("span",{className:"ev-infographic-background-image",style:this.getBackgroundImageStyle()}),y,_,l.createElement(x,{tag:"span",className:"ev-infographic-item-inner",style:{position:"relative",zIndex:1,flex:1},body:e,hasInner:!1,allowVariableInlineStyle:!1}))))}});e.exports=u(A)},1964:function(e,t,i){"use strict";var o=i(30)(i(21));const n=i(2),s=i(1),r=i(0),a=i(1394),l=i(1395),c=i(483),d=i(1405),p=n({displayName:"InfographicTooltipPrompt",propTypes:{_id:s.string,tooltipText:s.string,tooltipMediaType:s.string,tooltipMediaLayout:s.string,tooltipMediaGraphic:s.object,tooltipMediaVideo:s.object,tooltipMediaAudio:s.object,_videoStream:s.object},renderContent(){const{_id:e,tooltipText:t,tooltipMediaType:i,tooltipMediaLayout:n,tooltipMediaGraphic:s,tooltipMediaVideo:p,tooltipMediaAudio:u,_videoStream:m}=this.props,h={ref:e=>this._item=e,className:"ev-infographic-tooltip-content",bodyClassName:"ev-infographic-tooltip-text ev-prompt-body",body:t,mediaPosition:n,tabIndex:1};switch(i){case"video":return r.createElement(a,(0,o.default)({},h,{_video:p,shouldDisplayTranscriptInline:!0}));case"videoStream":return r.createElement(d,(0,o.default)({},h,{id:e,videoStream:m}));case"audio":return r.createElement(l,(0,o.default)({},h,{_audio:u,shouldDisplayTranscriptInline:!0}));case"image":return r.createElement(c,(0,o.default)({},h,{_graphic:s}));default:return r.createElement(c,h)}},render(){return r.createElement("div",{className:"ev-infographic-prompt"},this.renderContent())}});e.exports=p},1965:function(e,t,i){"use strict";const o=i(2),n=i(1),s=i(0),{closeFullScreen:r}=i(473),{connect:a}=i(6),l=i(1543),c=o({displayName:"InfographicGraphicFullscreen",propTypes:{component:n.object.isRequired,isLivePreview:n.bool.isRequired,closeFullScreen:n.func.isRequired,isFullScreenOpen:n.bool.isRequired,articleStyle:n.string,screenSize:n.string.isRequired,theme:n.object.isRequired,variables:n.object.isRequired},closeFullScreen(e){e.preventDefault();const{closeFullScreen:t}=this.props;t()},render(){const{component:e,isLivePreview:t,isFullScreenOpen:i,screenSize:o,articleStyle:n,theme:r,variables:a}=this.props;return s.createElement("div",{className:"ev-infographic-fullscreen ev-"+n},s.createElement("div",{className:"ev-infographic-fullscreen-graphic-container"},s.createElement(l,{component:e,isLivePreview:t,screenSize:o,isFullScreen:!0,isFullScreenOpen:i,fonts:r._fonts,swatches:r._swatches,variables:a})),s.createElement("button",{className:"ev-button ev-infographic-fullscreen-close-button",onClick:this.closeFullScreen,"aria-label":e.closeFullscreenButtonAriaLabel},s.createElement("i",{className:"ev-icon ev-icon-cross"})))}});e.exports=a(({device:e,app:t,components:i,fullScreen:o,theme:n,logic:s},r)=>({component:i[r.componentId],screenSize:e.screenSize,isLivePreview:t.isLivePreview,isFullScreenOpen:o.isOpen,variables:s.variables,theme:n}),{closeFullScreen:r})(c)},1966:function(e,t,i){"use strict";const o=i(10),n=i(31),s=i(57),{SETUP_COMPONENT:r}=i(61),{INFOGRAPHIC_SHOW_ITEM_TOOLTIP:a,INFOGRAPHIC_HIDE_ITEM_TOOLTIP:l,INFOGRAPHIC_SHOW_HIDE_ITEMS:c,INFOGRAPHIC_ITEM_NAVIGATE:d,INFOGRAPHIC_CLEAR_ITEM_FOCUS:p,INFOGRAPHIC_RESET:u}=i(1545);function m(e,t){const i=n(e._items,e=>e._id===t?o({},e,{_hasInteracted:!0}):e);return o({},e,{_items:i})}e.exports=(e,t)=>{switch(t.type){case r:return o({},e,{isTooltipVisible:!1,tooltipItemId:void 0,initialItems:[...e._items]});case a:return m(o({},e,{isTooltipVisible:!t.payload.isDialogTooltip,tooltipItemId:t.payload.isDialogTooltip?void 0:t.payload.itemId}),t.payload.itemId);case l:return o({},e,{isTooltipVisible:!1,tooltipItemId:void 0,focusItemId:e.tooltipItemId});case c:return o({},e,m(function(e,t,i){const r=n(e._items,e=>s(t,e._id)?o({},e,{isVisible:!0}):s(i,e._id)?o({},e,{isVisible:!1}):e);return o({},e,{_items:r})}(e,t.payload.showItemIds,t.payload.hideItemIds),t.payload.itemId),{isTooltipVisible:!1,tooltipItemId:void 0});case d:return m(e,t.payload.itemId);case p:return o({},e,{focusItemId:void 0});case u:return o({},e,{_items:[...e.initialItems]});default:return e}}},1967:function(e,t,i){"use strict";e.exports={_interactionType:{type:"String",default:"presentation",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0},isVisible:{fieldKey:"isVisible",type:"Boolean",shouldRestore:!0}}}}},1968:function(e,t,i){"use strict";const o=i(78);e.exports=(e,t)=>{const{app:i,fullScreen:n,logic:s}=e;return{isLivePreview:i.isLivePreview,isFullScreenOpen:n.isOpen,articleStyle:o(e,t,"article")._classes,variables:s.variables}}}}]);