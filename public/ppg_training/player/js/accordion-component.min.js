(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1243:function(e,t,n){"use strict";const{registerComponent:i}=n(4),o=n(1619),r=n(1629),{accordionItemClicked:s,accordionItemVideoMetricsChanged:c}=n(1502);i("accordion",{component:o,actions:{accordionItemClicked:s,accordionItemVideoMetricsChanged:c},reducer:r,trackingMap:n(1630)})},1370:function(e,t,n){"use strict";const i=n(7);e.exports=function(e){return i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,n){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:i}=e;return!0===i&&!0===n._isReady&&!0!==n[t]}},1372:function(e,t,n){"use strict";e.exports=function(e,t,n,i,o){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&o&&o(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1431:function(e,t,n){"use strict";const i=n(8),o=n(170);e.exports=e=>{const t=i(e,"_mediaType","image");switch(t){case"gif":if(!e._gif||!e._gif.src)return;break;case"video":if(!e._video||!e._video.mp4)return;break;case"videoStream":if(!e._videoStream._service||!i(e,"_videoStream._options._source"))return;break;case"image":default:if(!e._graphic||!o(e._graphic.src,e._graphic.srcAdvanced))return}return t}},1500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Collapse=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(0)),s=a(n(1)),c=n(1401);function a(e){return e&&e.__esModule?e:{default:e}}var d=function(){return null},p=t.Collapse=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.call(n),n.state={currentState:"IDLING",from:0,to:0},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.isOpened,n=e.forceInitialAnimation,i=e.onRest;if(t){var o=this.getTo();if(n){var r=this.wrapper.clientHeight;this.setState({currentState:"RESIZING",from:r,to:o})}else this.setState({currentState:"IDLING",from:o,to:o})}i()}},{key:"componentWillReceiveProps",value:function(e){e.hasNestedCollapse?e.isOpened!==this.props.isOpened&&this.setState({currentState:"WAITING"}):"IDLING"===this.state.currentState&&(e.isOpened||this.props.isOpened)&&this.setState({currentState:"WAITING"})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,i=n.isOpened,o=n.onRest,r=n.onMeasure;if("IDLING"!==this.state.currentState){t.to!==this.state.to&&r({height:this.state.to,width:this.content.clientWidth});var s=this.wrapper.clientHeight,c=i?this.getTo():0;s===c?"RESTING"!==this.state.currentState&&"WAITING"!==this.state.currentState||this.setState({currentState:"IDLING",from:s,to:c}):this.setState({currentState:"RESIZING",from:s,to:c})}else o()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.raf)}},{key:"render",value:function(){return r.default.createElement(c.Motion,i({},this.getMotionProps(),{onRest:this.onRest,children:this.renderContent}))}}]),t}(r.default.PureComponent);p.propTypes={isOpened:s.default.bool.isRequired,springConfig:s.default.objectOf(s.default.number),forceInitialAnimation:s.default.bool,hasNestedCollapse:s.default.bool,fixedHeight:s.default.number,theme:s.default.objectOf(s.default.string),style:s.default.object,onRender:s.default.func,onRest:s.default.func,onMeasure:s.default.func,children:s.default.node.isRequired},p.defaultProps={forceInitialAnimation:!1,hasNestedCollapse:!1,fixedHeight:-1,style:{},theme:{collapse:"ReactCollapse--collapse",content:"ReactCollapse--content"},onRender:d,onRest:d,onMeasure:d};var l=function(){var e=this;this.onContentRef=function(t){e.content=t},this.onWrapperRef=function(t){e.wrapper=t},this.onRest=function(){e.raf=requestAnimationFrame(e.setResting)},this.setResting=function(){e.setState({currentState:"RESTING"})},this.getTo=function(){var t=e.props.fixedHeight;return t>-1?t:e.content.clientHeight},this.getWrapperStyle=function(t){if("IDLING"===e.state.currentState&&e.state.to){var n=e.props.fixedHeight;return n>-1?{overflow:"hidden",height:n}:{height:"auto"}}return"WAITING"!==e.state.currentState||e.state.to?{overflow:"hidden",height:Math.max(0,t)}:{overflow:"hidden",height:0}},this.getMotionProps=function(){var t=e.props.springConfig;return"IDLING"===e.state.currentState?{defaultStyle:{height:e.state.to},style:{height:e.state.to}}:{defaultStyle:{height:e.state.from},style:{height:(0,c.spring)(e.state.to,i({precision:1},t))}}},this.renderContent=function(t){var n=t.height,o=e.props,s=(o.isOpened,o.springConfig,o.forceInitialAnimation,o.hasNestedCollapse,o.fixedHeight,o.theme),c=o.style,a=o.onRender,d=(o.onRest,o.onMeasure,o.children),p=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(o,["isOpened","springConfig","forceInitialAnimation","hasNestedCollapse","fixedHeight","theme","style","onRender","onRest","onMeasure","children"]),l=e.state;return a({current:n,from:l.from,to:l.to}),r.default.createElement("div",i({ref:e.onWrapperRef,className:s.collapse,style:i({},e.getWrapperStyle(Math.max(0,n)),c)},p),r.default.createElement("div",{ref:e.onContentRef,className:s.content},d))}}},1502:function(e,t,n){"use strict";t.ACCORDION_ITEM_CLICKED="ACCORDION_ITEM_CLICKED",t.ACCORDION_ITEM_VIDEO_METRICS="ACCORDION_ITEM_VIDEO_METRICS",t.accordionItemClicked=e=>({type:t.ACCORDION_ITEM_CLICKED,payload:e}),t.accordionItemVideoMetricsChanged=e=>({type:t.ACCORDION_ITEM_VIDEO_METRICS,payload:e})},1619:function(e,t,n){"use strict";const i=n(8),o=n(2),r=n(1),s=n(0),c=n(7),{Component:a}=n(468),d=n(1370),p=n(1371),l=n(1372),u=n(1620),m=o({displayName:"Accordion",propTypes:{component:r.object.isRequired,accordionItemClicked:r.func.isRequired,accordionItemVideoMetricsChanged:r.func.isRequired,setComponentAsReady:r.func.isRequired,setComponentAsViewed:r.func.isRequired,setComponentAsStarted:r.func.isRequired,setComponentAsComplete:r.func.isRequired,styles:r.object,theme:r.object.isRequired,animationEnded:r.bool},componentDidMount:function(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps:function(e){if(!e.component._isComplete){e.component._items.filter(e=>e._isVisited).length===e.component._items.length&&this.props.setComponentAsComplete(this.props.component._id)}},onItemClicked:function(e){const{props:t}=this;t.component._hasStarted||t.setComponentAsStarted(t.component._id),t.accordionItemClicked({componentId:t.component._id,itemId:e})},onItemVideoMetricsChanged:function(e,t){const{component:n,accordionItemVideoMetricsChanged:i}=this.props;i({componentId:n._id,itemId:e,metrics:t})},onVisibilityChange:function(...e){l(...e,this,this.props.setComponentAsViewed)},getClassName:function(){const{component:e,theme:t}=this.props,n=i(t,"_components._accordion._settings",{});return c(d(e),{"ev-is-icon-right-side":n._isIconOnRightSide,"ev-is-collapsed":n._isItemSpacingCollapsed})},renderItems:function(){const{props:e}=this;return e.component._items.map(t=>s.createElement(u,{key:t._id,item:t,componentId:e.component._id,shouldShowCheckIcon:e.component._shouldShowCheckIcon,onItemClicked:this.onItemClicked,onItemVideoMetricsChanged:this.onItemVideoMetricsChanged,animationEnded:e.animationEnded}))},render:function(){const{props:e}=this;return s.createElement(a,{component:e.component,styles:e.styles,isVisibilitySensorActive:p(e),onVisibilityChange:this.onVisibilityChange},s.createElement("div",{className:this.getClassName()},s.createElement("div",{className:"ev-accordion-items"},this.renderItems())))}});e.exports=m},1620:function(e,t,n){"use strict";const i=n(8),o=n(2),r=n(1),s=n(0),c=n(7),a=n(218),d=n(76),p=n(1431),{Collapse:l}=n(1621),u=n(119),m=n(16),h=n(305),f=n(171),v=n(33),_=n(306),y=n(24),I=o({displayName:"AccordionItem",propTypes:{item:r.object.isRequired,onItemClicked:r.func.isRequired,onItemVideoMetricsChanged:r.func.isRequired,shouldShowCheckIcon:r.bool,componentId:r.string.isRequired,animationEnded:r.bool},mixins:[m],componentDidUpdate:function({item:e}){const{item:t}=this.props;"video"===p(t)&&t._isSelected&&!e._isSelected&&i(t,"_video._shouldAutoPlay")&&this._video&&this._video.play()},onItemClicked:function(e){e.preventDefault(),this.props.onItemClicked(this.props.item._id)},onKeyDown:function(e){f.isSpaceKey(e)&&this.onItemClicked(e)},onItemVideoMetricsChange:function(e){const{item:t,onItemVideoMetricsChanged:n}=this.props;n(t._id,e)},getClassName:function(){const{item:e}=this.props;return c("ev-accordion-item ev-component-item-title",{"ev-visited":e._isVisited,"ev-selected":e._isSelected})},getBodyClassName:function(){const{item:e}=this.props;let t;return p(e)&&(t="ev-js-graphic-"+e._itemGraphicLayout),c("ev-accordion-item-body-inner ev-component-item-body-inner ev-clearfix",t)},renderIcon:function(){const e=c("ev-accordion-item-title-icon ev-icon ev-component-item-title-icon",{"ev-icon-plus":!this.props.item._isSelected&&!this.props.shouldShowCheckIcon||!this.props.item._isVisited,"ev-icon-check":this.props.item._isVisited&&this.props.shouldShowCheckIcon,"ev-icon-minus":this.props.item._isSelected&&!this.props.shouldShowCheckIcon});return s.createElement("i",{className:e})},renderBodyTextTop:function(){const{item:e}=this.props;if("bottom"===e._itemGraphicLayout||"right"===e._itemGraphicLayout)return this.renderBodyText()},renderBodyTextBottom:function(){const{item:e}=this.props;if("top"===e._itemGraphicLayout||"left"===e._itemGraphicLayout)return this.renderBodyText()},renderBodyText:function(){return s.createElement(v,{className:"ev-accordion-item-body-content",body:this.props.item.body})},renderMedia:function(){switch(p(this.props.item)){case"image":return this.renderGraphic();case"gif":return this.renderGif();case"video":return this.renderVideo();case"videoStream":return this.renderVideoStream();default:return null}},renderGraphic:function(){const{item:e}=this.props;return s.createElement("div",{className:"ev-accordion-item-graphic"},s.createElement("div",{className:"ev-accordion-item-graphic-inner"},s.createElement(u,{graphicSrc:e._graphic.src,graphicSrcAdvanced:e._graphic.srcAdvanced,altText:e._graphic.alt,autoSize:!0})))},renderGif:function(){const{item:e}=this.props;return s.createElement("div",{className:"ev-accordion-item-graphic"},s.createElement("div",{className:"ev-accordion-item-graphic-inner"},s.createElement(u,{graphicSrc:e._gif.src,altText:e._gif.alt})))},renderVideo:function(){const{item:e}=this.props;return s.createElement("div",{className:"ev-accordion-item-video"},s.createElement("div",{className:"ev-accordion-item-video-inner"},s.createElement(h,{ref:e=>this._video=e,src:d(e._video.mp4),posterSrc:a(e._video.poster),subtitlesSrc:d(i(e,"_video._subtitles.src")),subtitlesLabel:i(e,"_video._subtitles.label"),transcriptText:i(e,"_video._transcript.body"),transcriptType:"popup",transcriptButtonText:i(e,"_video._transcript.button"),controls:!0,hasBigPlayButton:!0,metrics:e._metrics,autoPlay:!1,onMetricsChange:this.onItemVideoMetricsChange,isVisible:e._isSelected,animationEnded:this.props.animationEnded})))},renderVideoStream:function(){const{componentId:e,item:t}=this.props;return s.createElement("div",{className:"ev-accordion-item-video"},s.createElement("div",{className:"ev-accordion-item-video-inner"},s.createElement(_,{id:`${e}-${t._id}`,service:t._videoStream._service,options:t._videoStream._options,isVisible:t._isSelected})))},render:function(){const{componentId:e,item:t}=this.props,n=t._isSelected||!1,i=e+t._id,o=i+"label",r=i+"region";return s.createElement("div",{className:c("ev-accordion-item-container",{"ev-selected":this.props.item._isSelected})},s.createElement("div",{key:o,className:this.getClassName()},s.createElement("a",{href:"#",className:c("ev-accordion-item-title ev-component-item-title",{"ev-visited":this.props.item._isVisited,"ev-selected":this.props.item._isSelected}),tabIndex:"0",onClick:this.onItemClicked,onKeyDown:this.onKeyDown,id:o,"aria-expanded":n,"aria-controls":r,role:"button"},s.createElement("div",{className:"ev-accordion-item-title-inner ev-component-item-title-inner"},this.renderIcon(),s.createElement(y,{element:"span",className:"ev-accordion-item-title-text",html:this.props.item.title})))),s.createElement("div",{key:r,id:r,"aria-hidden":!n,"aria-labelledby":o,role:"region",className:"ev-accordion-item-body ev-component-item-body"},s.createElement(l,{springConfig:{stiffness:200,damping:20},isOpened:n,style:{visibility:n?"visible":"hidden"}},s.createElement("div",{className:this.getBodyClassName()},this.renderBodyTextTop(),this.renderMedia(),this.renderBodyTextBottom()))))}});e.exports=I},1621:function(e,t,n){"use strict";var i=n(1500).Collapse,o=n(1628).UnmountClosed;o.Collapse=i,o.UnmountClosed=o,e.exports=o},1628:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnmountClosed=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(0)),s=a(n(1)),c=n(1500);function a(e){return e&&e.__esModule?e:{default:e}}(t.UnmountClosed=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.componentWillReceiveProps=function(e){var t=e.isOpened;!n.props.isOpened&&t&&n.setState({forceInitialAnimation:!0,shouldUnmount:!1})},n.onRest=function(){var e=n.props,t=e.isOpened,i=e.onRest;t||n.setState({shouldUnmount:!0}),i&&i.apply(void 0,arguments)},n.state={shouldUnmount:!n.props.isOpened,forceInitialAnimation:!n.props.isOpened},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this.props,t=e.isOpened,n=(e.onRest,function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["isOpened","onRest"])),o=this.state,s=o.forceInitialAnimation;return o.shouldUnmount?null:r.default.createElement(c.Collapse,i({forceInitialAnimation:s,isOpened:t,onRest:this.onRest},n))}}]),t}(r.default.PureComponent)).propTypes={isOpened:s.default.bool.isRequired,onRest:s.default.func}},1629:function(e,t,n){"use strict";const{ACCORDION_ITEM_CLICKED:i,ACCORDION_ITEM_VIDEO_METRICS:o}=n(1502);e.exports=function(e,t){switch(t.type){case i:{const n=e._items.map(n=>{const i=n._id===t.payload.itemId;if(i&&!n._isSelected)return{...n,_isSelected:!0,_isVisited:!0};const{_shouldKeepItemsOpen:o}=e;return i||!o&&n._isSelected?{...n,_isSelected:!1}:n});return{...e,_items:n}}case o:{const n=e._items.map(e=>e._id===t.payload.itemId?{...e,_metrics:t.payload.metrics}:e);return{...e,_items:n}}default:return e}}},1630:function(e,t,n){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isVisited:{fieldKey:"_isVisited",type:"Boolean",shouldRestore:!0},_metrics:{fieldKey:"_metrics",type:"Object",shouldRestore:!0}}}}}}]);