(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1273:function(e,n,t){"use strict";const{registerComponent:s,registerEpics:i}=t(4),o=t(1981),r=t(1982),{sliderValueChanged:a}=t(1547),{confidenceSliderCompletedEpic:l}=t(1983),d=t(1984),c=t(1985);i(l),s("linkedConfidenceSlider",{component:o,actions:{sliderValueChanged:a},reducer:r,mapStateToProps:d,trackingMap:c})},1370:function(e,n,t){"use strict";const s=t(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,n,t){"use strict";e.exports=(e,n="_hasBeenViewed")=>{const{component:t,isPageReady:s}=e;return!0===s&&!0===t._isReady&&!0!==t[n]}},1372:function(e,n,t){"use strict";e.exports=function(e,n,t,s,i){s&&s.props&&s.props.component?(n.top&&(s.isInviewTop=!0),n.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&i&&i(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1398:function(e,n,t){"use strict";const s=t(217),i=t(2),o=t(1),r=t(0),a=t(309),l=t(7),d=i({displayName:"RangeSlider",propTypes:{labels:o.shape({min:o.string.isRequired,max:o.string.isRequired,selected:o.string.isRequired,aria:o.string}),defaultValue:o.number,value:o.number,min:o.number.isRequired,max:o.number.isRequired,step:o.number.isRequired,onChange:o.func.isRequired,onAfterChange:o.func,onBeforeChange:o.func,onSliderClick:o.func,isDisabled:o.bool.isRequired,isRTL:o.bool,onReady:o.func},componentDidMount(){this._isMounted=!0,s(()=>{this._isMounted&&(this.props.onReady&&this.props.onReady(),this._slider&&this._slider._resize())},500)},componentWillUnmount(){this._isMounted=!1},getDefaultProps:()=>({isDisabled:!1}),renderRangeLabels(){if(this.props.labels)return r.createElement("div",{className:"ev-rangeslider-range-labels"},r.createElement("div",{className:"ev-rangeslider-range-labels-inner ev-clearfix"},r.createElement("div",{className:"ev-rangeslider-range-min ev-label"},r.createElement("span",null,this.props.labels.min)),r.createElement("div",{className:"ev-rangeslider-range-max ev-label"},r.createElement("span",null,this.props.labels.max))))},renderSelectedLabel(){var e;if(null!==(e=this.props.labels)&&void 0!==e&&e.selected)return r.createElement("div",{className:"ev-rangeslider-range-current-value ev-label"},r.createElement("span",{className:"ev-rangeslider-range-current-value-text"},this.props.labels.selected),r.createElement("span",{className:"ev-rangeslider-range-current-value-number"},this.props.value))},render(){var e;const{props:n}=this;return r.createElement("div",{className:"ev-rangeslider-container"},this.renderRangeLabels(),r.createElement("div",{className:"ev-slider-container"},r.createElement(a,{ariaLabel:null===(e=n.labels)||void 0===e?void 0:e.aria,ref:e=>this._slider=e,value:n.value,defaultValue:n.defaultValue,min:n.min,max:n.max,step:n.step,onChange:n.onChange,onAfterChange:n.onAfterChange,onBeforeChange:n.onBeforeChange,onSliderClick:n.onSliderClick,withBars:!0,className:l("ev-rangeslider",{"ev-rangeslider--disabled":n.isDisabled}),handleClassName:"ev-rangeslider__handle",barClassName:"ev-rangeslider__bar",disabled:n.isDisabled,invert:n.isRTL}),this.renderSelectedLabel()))}});e.exports=d},1547:function(e,n,t){"use strict";n.SLIDER_VALUE_CHANGED="SLIDER_VALUE_CHANGED",n.sliderValueChanged=(e,t)=>({type:n.SLIDER_VALUE_CHANGED,payload:{componentId:e,value:t}})},1981:function(e,n,t){"use strict";const s=t(2),i=t(1),o=t(0),r=t(7),{Component:a}=t(468),l=t(1398),d=t(1370),c=t(214),u=t(1371),p=t(1372),m=s({displayName:"LinkedConfidenceSlider",propTypes:{component:i.object.isRequired,setComponentAsReady:i.func.isRequired,setComponentAsViewed:i.func.isRequired,setComponentAsStarted:i.func.isRequired,setComponentAsComplete:i.func.isRequired,showFeedback:i.func.isRequired,sliderValueChanged:i.func.isRequired,isRTL:i.bool,theme:i.object.isRequired,articleStyle:i.string.isRequired,linkedComponent:i.object,buttons:i.object.isRequired,styles:i.object},componentDidMount(){const{props:e}=this;void 0===e.component._selectedAnswer&&e.linkedComponent&&e.sliderValueChanged(e.component._id,e.linkedComponent._range._min),e.setComponentAsReady(e.component._id)},componentDidUpdate(e){const{component:n}=this.props;!e.component._isSubmitted&&n._isSubmitted&&this.showFeedback()},setComponentAsStarted(){const{props:e}=this;e.component._hasStarted||e.setComponentAsStarted(e.component._id)},onChange(e){const{props:n}=this;this.setComponentAsStarted(),n.sliderValueChanged(n.component._id,e)},onSubmitClicked(e){e.preventDefault();const{props:n}=this;this.setComponentAsStarted(),n.setComponentAsComplete(n.component._id,{_isSubmitted:!0})},onShowFeedbackClicked(e){e.preventDefault(),this.showFeedback()},onNavigateClicked(e){e.preventDefault();const{component:n}=this.props;n._linkedConfidenceSliderId&&c(n._linkedConfidenceSliderId)},onVisibilityChange(...e){p(...e,this,this.props.setComponentAsViewed)},showFeedback(){const{component:e}=this.props,n=this.getFeedbackMessage();if(!n)return;let t=e.displayTitle;e._shouldShowDisplayTitleInFeedback||(t=null);const s={feedbackTitle:t,feedbackMessage:n};this.props.showFeedback(s)},getFeedbackMessage(){const{linkedComponent:e,component:n}=this.props,t=n._selectedAnswer,s=e._selectedAnswer;if(n._feedback)return t<s?n._feedback._lessConfidence:t>s?n._feedback._higherConfidence:t===s?n._feedback._matchingConfidence:void 0},getButtonSettings(){const{articleStyle:e,theme:n}=this.props;let t=n._button._settings;if(e&&"none"!==e){t=n._articleStyles[e]._elements._button._settings}return t},getButtonsClassName(e){var n,t;return r("ev-buttons",{"ev-buttons-full":e._isFullLayout,"ev-buttons-hide-marking-icon":e._shouldHideMarkingIcon,"ev-buttons-hide-show-feedback":null===(n=this.props.buttons)||void 0===n||null===(t=n._showFeedback)||void 0===t?void 0:t._isDisabled,"ev-buttons-action-is-right":e._isActionButtonOnRight,"ev-buttons-individual-styles":e._hasIndividualButtonStyles,"ev-buttons-center":e._isCenterLayout&&!e._isFullLayout})},renderSlider(){const{linkedComponent:e,component:n,isRTL:t}=this.props;if(!e)return;const s=!e._isComplete||n._isComplete;return o.createElement(l,{value:n._selectedAnswer,step:e._step,min:e._range._min,max:e._range._max,isDisabled:s,onChange:this.onChange,labels:{min:e._labels._min,max:e._labels._max,selected:e._isComplete?n._labels._selected:"",aria:n._labels.aria},isRTL:t})},renderPrevious(){const{linkedComponent:e,component:n}=this.props;if(e)return e._isComplete?o.createElement("div",{className:"ev-linkedConfidenceSlider-range-linked"},o.createElement("div",{className:"linkedConfidenceSlider-range-linked-value ev-label"},o.createElement("span",{className:"ev-linkedConfidenceSlider-range-linked-value-text"},n._labels._previouslySelected),o.createElement("span",{className:"ev-linkedConfidenceSlider-range-linked-value-number ev-rangeslider-range-current-value-number"},e._selectedAnswer))):o.createElement("div",{className:"ev-linkedConfidenceSlider-linked-incomplete-message"},o.createElement("div",{className:"ev-linkedConfidenceSlider-linked-incomplete-message-inner ev-label"},n._linkedIncompleteMessage),o.createElement("button",{className:"ev-linkedConfidenceSlider-navigate-linked-button ev-button ev-primary",onClick:this.onNavigateClicked},n._navigateToLinkedButtonText))},renderShowFeedbackButton(){const{component:e,buttons:n}=this.props;if(e._feedback&&!e._shouldDisplayFeedbackInline)return o.createElement("button",{className:"ev-button ev-buttons-feedback ev-primary","aria-label":n._showFeedback.ariaLabel,onClick:this.onShowFeedbackClicked,disabled:!e._isComplete},n._showFeedback.buttonText)},renderButtons(){const{linkedComponent:e,buttons:n,component:t}=this.props;if(null==e||!e._isComplete)return;const s=this.getButtonSettings();return o.createElement("div",{className:this.getButtonsClassName(s)},o.createElement("div",{className:"ev-buttons-cluster-bottom ev-clearfix"},o.createElement("button",{className:"ev-button ev-buttons-action ev-primary","aria-label":n._submit.ariaLabel,onClick:this.onSubmitClicked,disabled:t._isComplete},n._submit.buttonText),this.renderShowFeedbackButton()))},render(){const{props:e}=this;return o.createElement(a,{component:e.component,styles:e.styles,isVisibilitySensorActive:u(e),onVisibilityChange:this.onVisibilityChange},o.createElement("div",{className:d(e.component)},this.renderSlider(),this.renderPrevious(),this.renderButtons()))}});e.exports=m},1982:function(e,n,t){"use strict";const{SET_COMPONENT_AS_COMPLETE:s}=t(61),{SLIDER_VALUE_CHANGED:i}=t(1547);e.exports=(e,n)=>{switch(n.type){case i:return{...e,_selectedAnswer:n.payload.value};case s:return{...e,_isCorrect:!0};default:return e}}},1983:function(e,n,t){"use strict";const s=t(39),i=t(10),{Observable:o}=t(5),{COMPONENT_COMPLETED:r,updateComponents:a}=t(61);n.confidenceSliderCompletedEpic=(e,n)=>e.ofType(r).mergeMap(({payload:e})=>{const{components:t}=n.getState(),r=t[e.componentId];if("confidenceSlider"===r._component){const e=s(t).filter(e=>"linkedConfidenceSlider"===e._component&&e._linkedConfidenceSliderId===r._refId&&!e._isComplete).mapValues(e=>i({},e,{_selectedAnswer:r._selectedAnswer})).keyBy("_id").value();return o.of(a(e))}return o.empty()})},1984:function(e,n,t){"use strict";const s=t(78),i=t(215);e.exports=(e,n)=>({theme:e.theme,articleStyle:s(e,n,"article")._classes,buttons:e.course._buttons,linkedComponent:i(n._linkedConfidenceSliderId)})},1985:function(e,n,t){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_selectedAnswer:{fieldKey:"_selectedAnswer",type:"Number",shouldRestore:!0}}}}]);