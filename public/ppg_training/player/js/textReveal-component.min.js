(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{1302:function(e,t,i){"use strict";const{registerComponent:s}=i(4),n=i(2152),o=i(2155),{textRevealItemClicked:r}=i(1590);s("textReveal",{component:n,actions:{textRevealItemClicked:r},reducer:o,trackingMap:i(2156)})},1370:function(e,t,i){"use strict";const s=i(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,i){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:s}=e;return!0===s&&!0===i._isReady&&!0!==i[t]}},1372:function(e,t,i){"use strict";e.exports=function(e,t,i,s,n){s&&s.props&&s.props.component?(t.top&&(s.isInviewTop=!0),t.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&n&&n(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1374:function(e,t,i){"use strict";const s=i(39),n=i(10),o=i(2),r=i(0),a=i(7),l=i(1),c=i(219),{Trail:p,config:m,animated:d,interpolate:h}=i(77),{connect:u}=i(6),v=o({displayName:"Grid",propTypes:{isList:l.bool.isRequired,isRTL:l.bool.isRequired,shouldIgnoreScreenSize:l.bool.isRequired,animations:l.object,gridItemStyle:l.object,gridItemInnerStyle:l.object,windowWidth:l.number.isRequired,getGridItemInnerStyle:l.func,hasGridItemInnerPadding:l.bool,className:l.string,columns:l.number,separatorBorder:l.string},getDefaultProps:()=>({isList:!1,isRTL:!1,shouldIgnoreScreenSize:!1,gridItemStyle:{},gridItemInnerStyle:{},hasGridItemInnerPadding:!0,animations:{_slideInX:{_isEnabled:!1},_slideInY:{_isEnabled:!1},_fadeInItem:{_isEnabled:!1},_scaleInItem:{_isEnabled:!1},_easing:"default"}}),getInitialState(){return{columns:this.getColumns(window.innerWidth,this.props.columns),isVisible:!1,_animationEnded:!1}},componentDidMount(){this._isMounted=!0},componentWillUnmount(){this._isMounted=!1},UNSAFE_componentWillReceiveProps(e){const{props:t}=this,i=e.windowWidth!==t.windowWidth,s=t.columns!==e.columns;(i||s)&&this.updateColumns(e.windowWidth,e.columns)},getGridClassName(){return a("ev-grid",this.props.className)},getColumns(e,t){if(this.props.shouldIgnoreScreenSize)return t;return e>=768?t||2:e<768&&e>=520?2:1},updateColumns(e,t){this._isMounted&&this.setState({columns:this.getColumns(e,t)})},getAnimationsEnabled(){const{animations:e}=this.props;let t=!1;return e&&(t=0!==s(e).values().filter({_isEnabled:!0}).value().length),t},getGridItemStyle(e,t,i,s,o,r){const{isRTL:a}=this.props,{_animationEnded:l}=this.state,c=100/this.state.columns,p=n({flex:c+"%",textAlign:"center",boxSizing:"border-box",margin:"10px 0"},this.props.gridItemStyle);t&&(p.opacity=i,p.transform=h([s,o,r],(e,t,i)=>`translate(${e}%,${t}%) scale(${i})`),l&&(p.transform="none"));const m=this.props.children.length%this.state.columns;if((e+1)%this.state.columns!=0&&this.props.separatorBorder&&(p.borderRight=this.props.separatorBorder),0!==m)if(1===m){e===this.props.children.length-1&&(p.margin="auto")}else{if(e===this.props.children.length-m){let e=c/2;2===m&&4===this.state.columns&&(e=c),a?p.marginRight=e+"%":p.marginLeft=e+"%"}}return p},getGridItemInnerStyle(e){const{gridItemInnerStyle:t,getGridItemInnerStyle:i,hasGridItemInnerPadding:s}=this.props,o=i?i(e):{};return n({padding:s?"0 10px":0,boxSizing:"border-box"},t,o)},getVisibilitySensorActive(){return!1===this.state.isVisible},onVisibilityChange(e){e&&this.setState({isVisible:!0})},getSpringFrom(){const{animations:e}=this.props,{_slideInX:t,_slideInY:i,_fadeIn:s,_scaleIn:n}=e;return{x:t&&t._isEnabled?t._isReverseDirection?-t._from:t._from:0,y:i&&i._isEnabled?i._isReverseDirection?-i._from:i._from:0,opacity:s&&s._isEnabled?s._from/100:1,scale:n&&n._isEnabled?n._from/100:1}},getSpringTo(){const{isVisible:e}=this.state;return e?{opacity:1,x:0,y:0,scale:1}:this.getSpringFrom()},onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderGridItems(e){const{isList:t,children:i,animations:s}=this.props,n=t?d.li:d.div;return e?r.createElement(p,{native:!0,key:i.length,from:this.getSpringFrom(),to:this.getSpringTo(),onStart:this.onStart,onRest:this.onRest,config:m[s._easing]||m.default,keys:i.map((e,t)=>t),items:i},(e,t)=>({opacity:i,x:s,y:o,scale:a})=>r.createElement(n,{key:t,className:"ev-grid-item",style:this.getGridItemStyle(t,!0,i,s,o,a)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e))):i.map((e,t)=>r.createElement(n,{key:t,className:"ev-grid-item",style:this.getGridItemStyle(t,!1)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e)))},render(){const{isList:e}=this.props,t=e?"ul":"div";return this.getAnimationsEnabled()?r.createElement(c,{active:this.getVisibilitySensorActive(),partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:200,onChange:this.onVisibilityChange},r.createElement(t,{className:this.getGridClassName()},this.renderGridItems(!0))):r.createElement(t,{className:this.getGridClassName()},this.renderGridItems(!1))}});e.exports=u(({device:e,course:t})=>({windowWidth:e.windowWidth,isRTL:t._isRTL}))(v)},1590:function(e,t,i){"use strict";t.TEXT_REVEAL_ITEM_CLICKED="TEXT_REVEAL_ITEM_CLICKED",t.textRevealItemClicked=(e,i)=>({type:t.TEXT_REVEAL_ITEM_CLICKED,payload:{componentId:e,itemId:i}})},2152:function(e,t,i){"use strict";const s=i(32),n=i(8),o=i(2),r=i(1),a=i(0),l=i(1374),c=i(1370),p=i(1371),m=i(1372),{Component:d}=i(468),h=i(62),u=i(2153),v=o({displayName:"TextReveal",propTypes:{component:r.object.isRequired,setComponentAsReady:r.func.isRequired,setComponentAsViewed:r.func.isRequired,setComponentAsStarted:r.func.isRequired,setComponentAsComplete:r.func.isRequired,textRevealItemClicked:r.func.isRequired,showPrompt:r.func.isRequired,screenSize:r.string.isRequired,isRTL:r.bool,styles:r.object},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps({component:e}){e._isComplete||this.checkCompletion(e)},checkCompletion(e){const t=e._items,i=s(t,{_isComplete:!0});if(e._isExploratoryQuestion){const i=s(t,{_shouldSetCompletion:!0});s(i,{_isComplete:!0}).length===i.length&&this.props.setComponentAsComplete(e._id)}else t.length===i.length&&this.props.setComponentAsComplete(e._id)},onTextRevealItemClicked(e){const{props:t}=this;t.component._hasStarted||t.setComponentAsStarted(t.component._id),t.textRevealItemClicked(t.component._id,e._id)},onVisibilityChange(...e){m(...e,this,this.props.setComponentAsViewed)},renderItems(){const{component:e,screenSize:t}=this.props,i=n(e,["_itemLayout",t],50);return e._items.map(t=>a.createElement(u,{key:t._id,item:t,showRevealTextOnSide:!e._showNavOnTop,showTitle:!e._shouldDisableItemTitles,showCaptionOverGraphic:e._shouldDisplayCaptionOverGraphic,centerCaption:e._shouldCenterCaption,shouldShowMarkingInReveal:e._shouldShowMarking&&e._isExploratoryQuestion,isExploratoryQuestion:e._isExploratoryQuestion,graphicWidth:i,onTextRevealItemClicked:this.onTextRevealItemClicked,showPrompt:e=>this.props.showPrompt(e),animations:e._animations,isRTL:this.props.isRTL}))},renderItemsContainer(){const{component:e}=this.props;return e._showNavOnTop?a.createElement(l,{isList:!0,columns:e._numberOfColumns,animations:e._animations},this.renderItems()):a.createElement("div",{className:"ev-text-reveal-items"},this.renderItems())},render(){const{props:e}=this,t=e.component.displayTitle?this.context+1:this.context;return a.createElement(d,{component:e.component,styles:e.styles,isVisibilitySensorActive:p(e),onVisibilityChange:this.onVisibilityChange},a.createElement("div",{className:c(e.component)},a.createElement(h.Provider,{value:t},this.renderItemsContainer())))}});v.contextType=h,e.exports=v},2153:function(e,t,i){"use strict";const s=i(2),n=i(0),o=i(16),r=i(7),a=i(170),l=i(119),c=i(24),p=i(62),m=i(2154),d=s({displayName:"TextRevealItem",mixins:[o],onItemImageClicked(){this.props.showRevealTextOnSide||this.showNotifyPrompt(),this.props.onTextRevealItemClicked(this.props.item)},showNotifyPrompt(){const{item:e}=this.props,t={headingLevel:this.context,title:e.title,body:e.text,_hasPriority:!0,graphic:{...e._revealGraphic,_position:e._revealGraphicLayout}};this.props.isExploratoryQuestion&&this.props.shouldShowMarkingInReveal&&(t._class=e._shouldSetCompletion?"ev-is-correct-feedback":"ev-is-incorrect-feedback",t._glyph={_type:"icon",_className:e._shouldSetCompletion?"ev-icon-checkmark-circle":"ev-icon-cross-circle"}),this.props.showPrompt(t)},getTitle(){if(this.props.item.title&&this.props.showTitle)return n.createElement(c,{className:"ev-text-reveal-item-title",element:"h"+this.context,html:this.props.item.title})},getImage(){const{item:e}=this.props;if(!e._graphic||!a(e._graphic.src,e._graphic.srcAdvanced))return;const t=r("ev-text-reveal-image-container",{"ev-text-visible":this.props.showRevealTextOnSide&&e._isComplete,"ev-caption-over":this.props.showCaptionOverGraphic,"ev-caption-center":this.props.showCaptionOverGraphic&&this.props.centerCaption}),i={};if(this.props.showRevealTextOnSide){let e=this.props.graphicWidth;e=0===e||100===e?"100%":e-1+"%",i.width=e}return n.createElement("button",{className:t,onClick:this.onItemImageClicked,style:i},n.createElement(l,{graphicSrc:e._graphic.src,graphicSrcAdvanced:e._graphic.srcAdvanced,altText:e._graphic.alt,autoSize:!0,containerTag:"span"}),this.getCaption(),this.getRevealIcon())},getRevealIcon(){if(!this.props.item._isComplete)return n.createElement("i",{className:"ev-icon ev-icon-plus ev-reveal-icon"})},getCaption(){if(this.props.item._graphic.caption)return n.createElement(c,{element:"span",className:"ev-caption",html:this.props.item._graphic.caption})},getRevealText(){const{showRevealTextOnSide:e,item:t}=this.props;if(!e||!t._isComplete)return;const{shouldShowMarkingInReveal:i,isExploratoryQuestion:s,graphicWidth:o,animations:r}=this.props;return n.createElement(m,{text:t.text,isComplete:t._isComplete,shouldShowMarkingInReveal:i,shouldSetCompletion:t._shouldSetCompletion,isExploratoryQuestion:s,graphicWidth:o,animations:r,revealGraphic:t._revealGraphic,revealGraphicLayout:t._revealGraphicLayout})},render(){return n.createElement("div",{className:r("ev-text-reveal-item",{"ev-side-layout":this.props.showRevealTextOnSide})},n.createElement("div",{className:"ev-text-reveal-item-inner ev-clearfix"},this.getTitle(),n.createElement("div",{className:"ev-text-reveal-item-content"},this.getImage(),this.getRevealText())))}});d.contextType=p,e.exports=d},2154:function(e,t,i){"use strict";const s=i(8),n=i(2),o=i(0),r=i(1),a=i(16),l=i(7),c=i(119),p=i(87),m=i(33),d=n({displayName:"TextRevealItemReveal",propTypes:{text:r.string,isComplete:r.bool,shouldShowMarkingInReveal:r.bool,shouldSetCompletion:r.bool,isExploratoryQuestion:r.bool,graphicWidth:r.number,animations:r.object,revealGraphic:r.object,revealGraphicLayout:r.string},mixins:[a],getAnimations:function(){const{animations:e}=this.props;return e||{_fadeIn:{_isEnabled:!0,_from:0},_easing:"slow"}},renderRevealTextIcon:function(){if(!this.props.shouldShowMarkingInReveal)return;const e=this.props.shouldSetCompletion?"ev-icon ev-icon-check":"ev-icon ev-icon-cross";return o.createElement("i",{className:e})},renderInner:function(){const{text:e,revealGraphic:t,revealGraphicLayout:i}=this.props;let n;return s(t,"src",!1)&&(n=o.createElement("div",{className:"ev-text-reveal-item-reveal-text-inner-image"},o.createElement(c,{graphicSrc:t.src,graphicSrcAdvanced:t.srcAdvanced,altText:t.alt,autoSize:!0}))),o.createElement("div",{className:l("ev-text-reveal-item-reveal-text-inner ev-layout-"+i,{"ev-has-graphic":n})},n,e&&o.createElement(m,{className:"ev-text-reveal-item-reveal-text-inner-text",body:e}))},render:function(){const{isComplete:e,isExploratoryQuestion:t,graphicWidth:i,shouldShowMarkingInReveal:s}=this.props;let n=100-i;n=0===n?"auto":n-1+"%";const r={width:n};return o.createElement(p,{className:l("ev-text-reveal-item-reveal-text",{"ev-text-visible":e,"ev-show-marking":t&&s}),animations:this.getAnimations(),startAnimation:e,ariaHidden:!0!==e,style:r},this.renderRevealTextIcon(),this.renderInner())}});e.exports=d},2155:function(e,t,i){"use strict";const s=i(31),{TEXT_REVEAL_ITEM_CLICKED:n}=i(1590);e.exports=(e,t)=>{if(t.type===n){const{itemId:i}=t.payload,n=s(e._items,e=>e._id===i?{...e,_isComplete:!0}:e);return{...e,_items:n}}return e}},2156:function(e,t,i){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isComplete:{fieldKey:"_isComplete",type:"Boolean",shouldRestore:!0}}}}}}]);