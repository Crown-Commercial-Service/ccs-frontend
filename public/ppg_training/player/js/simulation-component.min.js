(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{1288:function(e,t,n){"use strict";const{registerComponent:o,registerEpics:i}=n(4),s=n(2047),r=n(2061),a=n(2062),{openFullScreen:c}=n(473),l=n(2073),{onSimulationStart:u,onNextInstruction:d,onShowInstructions:m,onShowHint:h,onCloseHint:p,onUpdateElement:S,onUpdateVariable:b,onSubmitScreen:g,onResetElements:f,onEnableDisableElements:y,onShowHideElements:I,onNavigateNextScreen:E,onNavigateToScreen:v,onScreenFeedbackClosed:_,onSimulationScreenReady:R,onSimulationRestart:T}=n(1441),{simulationSubmitScreenEpic:N,simulationTriggerEpic:C,simulationTrackableChangeEpic:A,simulationPreloadScreenImagesEpic:O}=n(2085);o("simulation",{component:s,reducer:a,actions:{onSimulationStart:u,onNextInstruction:d,onShowInstructions:m,onShowHint:h,onCloseHint:p,onUpdateElement:S,onUpdateVariable:b,onSubmitScreen:g,onResetElements:f,onEnableDisableElements:y,onShowHideElements:I,onNavigateNextScreen:E,onNavigateToScreen:v,onScreenFeedbackClosed:_,onSimulationScreenReady:R,onSimulationRestart:T,openFullScreen:c},mapStateToProps:r,trackingMap:l}),i(N,C,A,O)},1370:function(e,t,n){"use strict";const o=n(7);e.exports=function(e){return o(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1378:function(e,t,n){"use strict";t.ELEMENT_TYPES={button:"button",displayText:"displayText",empty:"empty",image:"image",select:"select",panel:"panel",numberInput:"numberInput",radioGroup:"radioGroup",textArea:"textArea",textInput:"textInput",toggleButton:"toggleButton"},t.SCREEN_STATE={showIntro:"showIntro",showInstructions:"showInstructions",showObjective:"showObjective",showHint:"showHint",showFeedback:"showFeedback",showResults:"showResults"},t.UI_LAYER_POSITIONS={bottomLeft:"bottomLeft",bottomRight:"bottomRight",bottomCenter:"bottomCenter",topLeft:"topLeft",topRight:"topRight",topCenter:"topCenter",leftCenter:"leftCenter",rightCenter:"rightCenter",center:"center",anchorToElement:"anchorToElement"},t.ANCHOR_TO_ELEMENT_POSITIONS={top:"top",bottom:"bottom",left:"left",right:"right"},t.COMPARISONS={equalTo:"equalTo",notEqualTo:"notEqualTo",greaterThan:"greaterThan",greaterThanOrEqualTo:"greaterThanOrEqualTo",lessThan:"lessThan",lessThanOrEqualTo:"lessThanOrEqualTo",contains:"contains",any:"any"},t.NEXT_BUTTON_TYPES={next:"next",close:"close",none:"none"}},1382:function(e,t,n){"use strict";const o=n(8),i=n(11),s=n(40),r=n(140),a=n(76);function c(e,t,n,i){if("fontFamily"===n)t=o(i,["_fonts",t,"_fontFamily"],"Arial");else if("backgroundImage"===n){const e=a(t);t=e?`url('${e}')`:void 0}else"color"!==n&&-1===n.indexOf("Color")||(t=r(t,i._swatches));e[n]=t}e.exports=function(e,t){const n={};return i(e,(e,o)=>{s(e)&&"backgroundImage"!==o?i(e,(e,o)=>{c(n,e,o,t)}):c(n,e,o,t)}),n}},1383:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),r=n(7),a=s({displayName:"SimulationElement",propTypes:{type:i.string.isRequired,rect:i.shape({x:i.number.isRequired,y:i.number.isRequired,width:i.number.isRequired,height:i.number.isRequired}).isRequired,children:i.node.isRequired,isHighlighted:i.bool,isInactive:i.bool},render:function(){const{rect:e,children:t,type:n,isHighlighted:i,isInactive:s}=this.props;return o.createElement("div",{className:r("ev-simulation-element ev-simulation-element-"+n,{"ev-is-highlighted":i,"ev-is-inactive":s}),style:{top:e.y+"px",left:e.x+"px",width:e.width+"px",height:e.height+"px"}},t)}});e.exports=a},1384:function(e,t,n){"use strict";const o=n(510),{connect:i}=n(6);e.exports=i((e,{item:t,componentId:n})=>{const i=e.components[n],{elementsIndex:s,elements:r}=i;let a=t;if(t.stylesElement&&!t.shareStyles&&o(s,t.stylesElement)){const e=r[s[t.stylesElement]];e.shareStyles&&(a=e)}return{stylesElement:a}})},1441:function(e,t,n){"use strict";t.SIMULATION_START="SIMULATION_START",t.SIMULATION_NEXT_INSTRUCTION="SIMULATION_NEXT_INSTRUCTION",t.SIMULATION_SHOW_INSTRUCTIONS="SIMULATION_SHOW_INSTRUCTIONS",t.SIMULATION_SHOW_HINT="SIMULATION_SHOW_HINT",t.SIMULATION_CLOSE_HINT="SIMULATION_CLOSE_HINT",t.SIMULATION_UPDATE_ELEMENT="SIMULATION_UPDATE_ELEMENT",t.SIMULATION_UPDATE_VARIABLE="SIMULATION_UPDATE_VARIABLE",t.SIMULATION_SCREEN_TRIGGER_TRIGGERED="SIMULATION_SCREEN_TRIGGER_TRIGGERED",t.SIMULATION_SUBMIT_SCREEN="SIMULATION_SUBMIT_SCREEN",t.SIMULATION_SUBMIT_SCREEN_AND_NAVIGATE="SIMULATION_SUBMIT_SCREEN_AND_NAVIGATE",t.SIMULATION_RESET_SCREENS="SIMULATION_RESET_SCREENS",t.SIMULATION_RESET_ELEMENTS="SIMULATION_RESET_ELEMENTS",t.SIMULATION_ENABLE_DISABLE_ELEMENTS="SIMULATION_ENABLE_DISABLE_ELEMENTS",t.SIMULATION_SHOW_HIDE_ELEMENTS="SIMULATION_SHOW_HIDE_ELEMENTS",t.SIMULATION_UPDATE_ELEMENTS="SIMULATION_UPDATE_ELEMENTS",t.SIMULATION_NAVIGATE_NEXT_SCREEN="SIMULATION_NAVIGATE_NEXT_SCREEN",t.SIMULATION_NAVIGATE_TO_SCREEN="SIMULATION_NAVIGATE_TO_SCREEN",t.SIMULATION_SCREEN_FEEDBACK_CLOSED="SIMULATION_SCREEN_FEEDBACK_CLOSED",t.SIMULATION_END="SIMULATION_END",t.SIMULATION_RESTART="SIMULATION_RESTART",t.SIMULATION_SCREEN_READY="SIMULATION_SCREEN_READY",t.onSimulationStart=e=>({type:t.SIMULATION_START,payload:e}),t.onNextInstruction=e=>({type:t.SIMULATION_NEXT_INSTRUCTION,payload:e}),t.onShowInstructions=e=>({type:t.SIMULATION_SHOW_INSTRUCTIONS,payload:e}),t.onShowHint=e=>({type:t.SIMULATION_SHOW_HINT,payload:e}),t.onCloseHint=e=>({type:t.SIMULATION_CLOSE_HINT,payload:e}),t.onUpdateElement=e=>({type:t.SIMULATION_UPDATE_ELEMENT,payload:e}),t.onSimulationScreenReady=e=>({type:t.SIMULATION_SCREEN_READY,payload:e}),t.onSubmitScreen=e=>({type:t.SIMULATION_SUBMIT_SCREEN,payload:e}),t.onSubmitScreenAndNavigate=e=>({type:t.SIMULATION_SUBMIT_SCREEN_AND_NAVIGATE,payload:e}),t.onResetScreens=e=>({type:t.SIMULATION_RESET_SCREENS,payload:e}),t.onResetElements=e=>({type:t.SIMULATION_RESET_ELEMENTS,payload:e}),t.onEnableDisableElements=e=>({type:t.SIMULATION_ENABLE_DISABLE_ELEMENTS,payload:e}),t.onShowHideElements=e=>({type:t.SIMULATION_SHOW_HIDE_ELEMENTS,payload:e}),t.onNavigateNextScreen=e=>({type:t.SIMULATION_NAVIGATE_NEXT_SCREEN,payload:e}),t.onNavigateToScreen=e=>({type:t.SIMULATION_NAVIGATE_TO_SCREEN,payload:e}),t.onUpdateVariable=e=>({type:t.SIMULATION_UPDATE_VARIABLE,payload:e}),t.onSimulationTriggerTriggered=e=>({type:t.SIMULATION_SCREEN_TRIGGER_TRIGGERED,payload:e}),t.onScreenFeedbackClosed=e=>({type:t.SIMULATION_SCREEN_FEEDBACK_CLOSED,payload:e}),t.onSimulationRestart=e=>({type:t.SIMULATION_RESTART,payload:e}),t.onSimulationEnd=e=>({type:t.SIMULATION_END,payload:e})},1491:function(e,t,n){"use strict";const o=n(2),i=n(1),s=n(0),r=n(7),a=n(1489).default,c=o({displayName:"Select",propTypes:{name:i.string.isRequired,options:i.array.isRequired,value:i.any,onChange:i.func.isRequired,placeholder:i.string,className:i.string,searchable:i.bool,clearable:i.bool,multi:i.bool,isLoading:i.bool,isDisabled:i.bool,ariaLabel:i.string,onMouseEnter:i.func,onMouseLeave:i.func,onFocus:i.func,onBlur:i.func,wrapperStyle:i.object,menuStyle:i.object,optionComponent:i.func,noResultsText:i.string,iconSize:i.number,tabIndex:i.number},getDefaultProps:function(){return{placeholder:"",searchable:!0,clearable:!0,multi:!1,isLoading:!1,tabIndex:0}},getInitialState:function(){return{_isOpen:!1}},onChange:function(e){const{multi:t}=this.props;t&&(e=e?e.split(","):[]),this.props.onChange(e)},render:function(){const{name:e,className:t,value:n,options:o,placeholder:i,searchable:c,clearable:l,multi:u,isLoading:d,isDisabled:m,ariaLabel:h,onMouseEnter:p,onMouseLeave:S,onFocus:b,onBlur:g,wrapperStyle:f,menuStyle:y,optionComponent:I,noResultsText:E,iconSize:v,tabIndex:_}=this.props,{_isOpen:R}=this.state;let T={};return v&&(T={fontSize:v+"px",width:v+"px",height:v+"px"}),s.createElement("div",{className:r("ev-select",t),onMouseEnter:p,onMouseLeave:S},s.createElement(a,{name:e,value:n,onChange:this.onChange,onFocus:b,onBlur:g,options:o,placeholder:i,searchable:c,clearable:l,multi:u,simpleValue:!0,isLoading:d,disabled:m,"aria-label":h,wrapperStyle:f,menuStyle:y,optionComponent:I,noResultsText:E,tabIndex:_,arrowRenderer:()=>s.createElement("i",{className:r("ev-select-icon ev-icon",{"ev-icon-chevron-down":!R,"ev-icon-chevron-up":R}),style:T}),clearRenderer:()=>s.createElement("i",{className:"ev-select-icon ev-icon ev-icon-cross",style:T}),onOpen:()=>{this.setState({_isOpen:!0})},onClose:()=>{this.setState({_isOpen:!1})}}))}});e.exports=c},1492:function(e,t,n){"use strict";const{UI_LAYER_POSITIONS:o}=n(1378);e.exports=function(e){switch(e){case o.bottomLeft:return{bottom:0,left:0};case o.bottomRight:return{bottom:0,right:0};case o.bottomCenter:return{bottom:0,left:"50%",transform:"translateX(-50%)"};case o.topLeft:return{top:0,left:0};case o.topRight:return{top:0,right:0};case o.topCenter:return{top:0,left:"50%",transform:"translateX(-50%)"};case o.leftCenter:return{top:"50%",left:0,transform:"translate(0, -50%)"};case o.rightCenter:return{top:"50%",right:0,transform:"translate(0, -50%)"};case o.center:return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};default:return{}}}},1559:function(e,t,n){"use strict";var o=n(30)(n(21));const i=n(10),s=n(18),r=n(8),a=n(57),c=n(2),l=n(1),u=n(0),{connect:d}=n(6),{OverlayScrollbarsComponent:m}=(n(7),n(1560)),h=n(2049),p=n(1561),S=n(2052),b=n(2053),g=n(2054),f=n(2056),y=n(2057),I=n(2059),{SCREEN_STATE:E,UI_LAYER_POSITIONS:v}=n(1378),_=c({displayName:"Simulation",propTypes:{component:l.object.isRequired,theme:l.object,scrollbarWidth:l.number.isRequired,isFullscreen:l.bool.isRequired,setComponentAsStarted:l.func.isRequired,onSimulationStart:l.func.isRequired,onNextInstruction:l.func.isRequired,onShowInstructions:l.func.isRequired,onShowHint:l.func.isRequired,onCloseHint:l.func.isRequired,onUpdateElement:l.func.isRequired,onUpdateVariable:l.func.isRequired,onSubmitScreen:l.func.isRequired,onResetElements:l.func.isRequired,onEnableDisableElements:l.func.isRequired,onShowHideElements:l.func.isRequired,onNavigateNextScreen:l.func.isRequired,onNavigateToScreen:l.func.isRequired,onScreenFeedbackClosed:l.func.isRequired,onSimulationScreenReady:l.func.isRequired,onSimulationRestart:l.func.isRequired,openFullScreen:l.func,closeFullScreen:l.func},onSimulationStart:function(){const{component:e,onSimulationStart:t,setComponentAsStarted:n}=this.props;t({componentId:e._id}),e._hasStarted||n(e._id)},onSimulationRestart:function(){const{component:e,onSimulationRestart:t}=this.props,{_id:n,isSoftRestart:o}=e;t({componentId:n,isSoftRestart:o})},onNextInstruction:function(e){const{component:t,onSubmitScreen:n,onNextInstruction:o,setComponentAsStarted:i}=this.props;if(e)return n({componentId:t._id});o({componentId:t._id}),t._hasStarted||i(t._id)},onShowHint:function(){const{component:e,onShowHint:t}=this.props;t({componentId:e._id})},onCloseHint:function(){const{component:e,onCloseHint:t}=this.props;t({componentId:e._id})},onShowInstructions:function(){const{component:e,onShowInstructions:t}=this.props;t({componentId:e._id})},onScreenFeedbackClosed:function(){const{component:e,onScreenFeedbackClosed:t}=this.props;t({componentId:e._id})},onUpdateElement:function(e,t,n,o,i){const{component:s,onUpdateElement:r,onUpdateVariable:a,setComponentAsStarted:c}=this.props;r({componentId:s._id,elementId:e,updateObject:t}),n&&o&&a({componentId:s._id,variableId:o,value:i}),s._hasStarted||c(s._id)},onElementAction:function({type:e,payload:t}){const{component:n,dispatch:o}=this.props;e&&"NONE"!==e&&o({type:e,payload:i({},t,{componentId:n._id})})},renderUILayer:function(e){if(!e)return;const{component:t}=this.props,{_id:n,_isCorrect:i,showIntro:r,intro:a,introStartButtonText:c,showResults:l,showResultsRestartButton:d,resultsRestartButtonText:m,enableSimulationMarking:h,markSelectedScreens:g,markedScreenIds:I,feedback:_,correctFeedback:R,incorrectFeedback:T,showOverlayOnInstructions:N,showOverlayOnHint:C,showOverlayOnFeedack:A,nextInstructionButtonAriaLabel:O,closeHintButtonAriaLabel:F,closeFeedbackButtonAriaLabel:x}=t,{screenState:q,instructions:k,currentInstructionId:w,objective:M,hint:L,_feedback:H,_isCorrect:B}=e;let U=[],D=!1;switch(q){case E.showIntro:r&&(D=!0,U.push(u.createElement(f,{key:"simulation-intro",intro:a,introStartButtonText:c,onSimulationStart:this.onSimulationStart})));break;case E.showInstructions:{D=N;const e=s(k,{_id:w});e&&(D||(D=e.showOverlayOnInstruction),e.position!==v.anchorToElement&&U.push(u.createElement(p,(0,o.default)({key:e._id,onNextInstruction:this.onNextInstruction,nextInstructionButtonAriaLabel:O},e))));break}case E.showObjective:M.isEnabled&&U.push(u.createElement(S,(0,o.default)({key:"simulation-objective",componentId:n},M)));break;case E.showHint:D=C,U.push(u.createElement(b,(0,o.default)({key:"simulation-hint",type:"hint",onScreenFeedbackClosed:this.onCloseHint,closeButtonAriaLabel:F},L)));break;case E.showFeedback:D=A,U.push(u.createElement(b,(0,o.default)({key:"simulation-feedback",type:"feedback",onScreenFeedbackClosed:this.onScreenFeedbackClosed,closeButtonAriaLabel:x,isCorrect:B},H)));break;case E.showResults:l&&(D=!0,U.push(u.createElement(y,{key:"simulation-results",componentId:n,isCorrect:i,enableSimulationMarking:h,markSelectedScreens:g,markedScreenIds:I,feedback:_,correctFeedback:R,incorrectFeedback:T,showResultsRestartButton:d,resultsRestartButtonText:m,onSimulationRestart:this.onSimulationRestart})))}return U.length?u.createElement("div",{className:"ev-simulation-screen-ui"},U):void 0},renderScreenOverlay:function(e){if(!e)return;const{component:t}=this.props,{showIntro:n,showResults:o,showOverlayOnInstructions:i,showOverlayOnHint:r,showOverlayOnFeedack:a}=t,{screenState:c,instructions:l,currentInstructionId:d}=e;let m=!1;switch(c){case E.showIntro:n&&(m=!0);break;case E.showInstructions:{m=i;const e=s(l,{_id:d});e&&(m||(m=e.showOverlayOnInstruction));break}case E.showHint:m=r;break;case E.showFeedback:m=a;break;case E.showResults:o&&(m=!0);break;default:m=!1}return m?u.createElement("div",{className:"ev-simulation-screen-overlay"}):void 0},renderScreen:function(e){const{component:t,theme:n,onSimulationScreenReady:o}=this.props,{elements:i,simulationWindowWidth:s,simulationWindowHeight:r,useThemeCourseFocusOutline:a,variables:c,_isLivePreview:l,_previewSynced:d}=t;if(e){const m=l?e._id+d:e._id;return u.createElement(h,{key:m,componentId:t._id,screen:e,elements:i,theme:n,useThemeCourseFocusOutline:a,variables:[...c,...e.variables],simulationWindowHeight:r,simulationWindowWidth:s,onSimulationScreenReady:o,onNextInstruction:this.onNextInstruction,onUpdateElement:this.onUpdateElement,onElementAction:this.onElementAction})}},renderScreenIndicator:function(e){const{component:t,scrollbarWidth:n}=this.props,{screens:o,currentScreenId:i,showScreenIndicatorMarking:s=!1,screenIndicatorPosition:r="bottom",showScreenIndicatorTitle:a=!0,simulationWindowWidth:c}=t;if(o.length)return e===r?u.createElement(g,{screens:o,currentScreenId:i,showMarking:s,screenIndicatorPosition:r,showScreenIndicatorTitle:a,maxWidth:c+n}):void 0},renderActionBar:function(e,t){if(!e)return;const{theme:n,component:o,isFullscreen:i,openFullScreen:s,closeFullScreen:c,scrollbarWidth:l}=this.props,{_id:d,actionBarPosition:m,showFullscreenButton:h,openFullScreenButtonAriaLabel:p,closeFullScreenButtonAriaLabel:S,showInstructionsButton:b,showInstructionsButtonAriaLabel:g,showHintAfterFailedAttempt:f,showHintButtonAriaLabel:y,simulationWindowWidth:E}=o,{screenState:v,instructions:_,hint:R,_failedAttempts:T}=e,N=r(n,"_simulation._settings",{});return a(t,m)&&(h||b||R.isEnabled)?u.createElement(I,{key:"simulation-action-bar",componentId:d,position:m,screenState:v,isFullscreen:i,maxWidth:E+l,hint:R,hintAvailable:!f||f&&T>0,showHintButtonAriaLabel:y,showInstructionsButton:b,instructionsLength:_.length,showInstructionsButtonAriaLabel:g,showFullscreenButton:h,openFullScreenButtonAriaLabel:p,closeFullScreenButtonAriaLabel:S,onShowHint:this.onShowHint,onShowInstructions:this.onShowInstructions,onOpenFullscreen:s,onCloseFullscreen:c,showInstructionsIcon:N._showInstructionsIcon||"bubble-text",hintIcon:N._hintIcon||"lamp",openFullscreenIcon:N._openFullscreenIcon||"expand4",closeFullscreenIcon:N._closeFullscreenIcon||"contract3"}):void 0},renderScreenContainerContent:function(e,t,n,o){return u.createElement(u.Fragment,null,this.renderUILayer(t),this.renderScreenOverlay(t),u.createElement("div",{ref:e=>this._screenContainer=e,id:"ev-screen-container-"+e,className:"ev-simulation-screen-container",style:{height:o+"px",maxWidth:n+"px"}},this.renderScreen(t)))},renderScreenContainer:function(e){const{component:t,scrollbarWidth:n,isWindowsTouchScreen:o}=this.props,{_id:i,simulationWindowWidth:s,simulationWindowHeight:r,useCustomScrollbar:a}=t,c=Modernizr.touchevents&&!o;return a&&!c?u.createElement(m,{key:r+s,className:"ev-simulation-container ev-simulation-container-custom-scroll-bar",style:{height:r+"px",maxWidth:s+"px"}},this.renderScreenContainerContent(i,e,s,r)):u.createElement("div",{className:"ev-simulation-container ev-simulation-container-native-scroll-bar",style:{height:r+n+"px",maxWidth:s+n+"px"}},this.renderScreenContainerContent(i,e,s+n,r+n))},render:function(){const{component:e}=this.props,{screens:t,currentScreenId:n,showScreenIndicator:o=!1}=e,i=s(t,{_id:n});return u.createElement("div",{className:"ev-simulation"},o&&this.renderScreenIndicator("top"),this.renderActionBar(i,["topLeft","topRight"]),this.renderScreenContainer(i),this.renderActionBar(i,["bottomLeft","bottomRight"]),o&&this.renderScreenIndicator("bottom"))}});e.exports=d(null,null)(_)},1561:function(e,t,n){"use strict";const o=n(304),i=n(0),s=n(1),r=n(2),a=n(7),{Spring:c,config:l,animated:u,interpolate:d}=n(77),m=n(76),h=n(2050),p=n(1492),S=n(33),b=n(219),{UI_LAYER_POSITIONS:g,ANCHOR_TO_ELEMENT_POSITIONS:f,NEXT_BUTTON_TYPES:y}=n(1378),I=r({displayName:"SimulationInstruction",propTypes:{text:s.string,mediaType:s.string,graphic:s.object,highlightElementIds:s.array,position:s.string,anchorToElementId:s.string,anchorPosition:s.string,elementToAnchor:s.object,width:s.number,onNextInstruction:s.func.isRequired,canSubmitScreen:s.bool.isRequired,nextButtonType:s.string.isRequired,componentId:s.string,nextInstructionButtonAriaLabel:s.string,_canFocus:s.bool},getDefaultProps:function(){return{mediaType:"image",canSubmitScreen:!1,nextButtonType:y.next}},getInitialState:function(){return{_isVisible:!1,_hasScrolled:!1}},componentDidMount:function(){window.addEventListener("scroll",this.onScroll),this._instruction&&this.props._canFocus&&this._instruction.focus({preventScroll:!0})},componentWillUnmount:function(){window.removeEventListener("scroll",this.onScroll)},onVisibilityChange:function(e){if(e)return this.setState({_isVisible:!0});!this.state._hasScrolled&&this.props._canFocus&&this._instruction.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},onScroll:function(){this.state._hasScrolled||this.setState({_hasScrolled:!0})},onNextClicked:function(e){e.preventDefault();const{canSubmitScreen:t,onNextInstruction:n}=this.props;n(t)},getSpringFrom:function(e,t,n){const o={x:0,y:0,opacity:0};if(t)switch(n){case f.top:o.y=-50;break;case f.bottom:o.y=50;break;case f.left:o.x=-50;break;case f.right:o.x=50}else switch(e){case g.bottomLeft:case g.topLeft:case g.leftCenter:o.x=-50;break;case g.bottomRight:case g.topRight:case g.rightCenter:o.x=50;break;case g.center:case g.bottomCenter:o.y=50;break;case g.topCenter:o.y=-50}return o},getSpringTo:function(){return{x:0,y:0,opacity:1}},renderNextButton:function(){const{nextButtonType:e,nextInstructionButtonAriaLabel:t}=this.props;if(e!==y.none)return i.createElement("button",{ref:e=>this._nextButton=e,className:"ev-simulation-instruction-next-button ev-simulation-next-button-type-"+e,onClick:this.onNextClicked,"aria-label":t},i.createElement("i",{className:a("ev-icon",{"ev-icon-arrow-right":e===y.next,"ev-icon-cross":e===y.close})}))},render:function(){const{componentId:e,position:t,text:n,elementToAnchor:s,anchorPosition:r,width:f,mediaType:y,graphic:I={},icon:E}=this.props,v=t===g.anchorToElement;let _={width:f+"px"},R={};return R=v?s?h(s,r):p(g.center):p(t),_=o(_,R),i.createElement(b,{active:v&&s&&!this.state._isVisible,partialVisibility:!1,scrollCheck:!1,containment:document.getElementById("ev-screen-container-"+e),onChange:this.onVisibilityChange},i.createElement("div",{className:a("ev-simulation-instruction ev-focusable",{"ev-is-anchored-to-element":v,["ev-anchor-position-"+r]:v}),style:_,ref:e=>this._instruction=e,tabIndex:"-1"},i.createElement(c,{native:!0,from:this.getSpringFrom(t,v,r),to:this.getSpringTo(),config:l.default},({x:e,y:t,opacity:o})=>i.createElement(u.div,{className:"ev-simulation-instruction-inner",style:{opacity:o,transform:d([e,t],(e,t)=>`translate(${e}px, ${t}px)`)}},i.createElement("div",{className:"ev-simulation-instruction-content"},"image"===y&&I.src&&i.createElement("div",{className:"ev-simulation-instruction-media"},i.createElement("img",{src:m(I.src),alt:I.alt})),"icon"===y&&E&&i.createElement("div",{className:"ev-simulation-instruction-media"},i.createElement("i",{className:"ev-icon ev-icon-"+E})),i.createElement(S,{className:"ev-simulation-instruction-text",body:n})),this.renderNextButton()))))}});e.exports=I},1562:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),r=n(7),{Spring:a,config:c,animated:l,interpolate:u}=n(77),d=s({displayName:"SimulationElementMarking",propTypes:{isCorrect:i.bool.isRequired,x:i.number.isRequired,y:i.number.isRequired,width:i.number.isRequired,height:i.number.isRequired},getPosition:function(e){const{x:t,y:n,width:o,height:i}=this.props;let s=n+i/2-e/2,r=t-e-4;return t-e-4<0&&(r=t+o+4),s<0&&(s+=4),{top:s,left:r}},render:function(){const{isCorrect:e}=this.props,{top:t,left:n}=this.getPosition(34);return o.createElement(a,{native:!0,from:{opacity:0,y:5},to:{opacity:1,y:0},config:c.wobbly},({opacity:i,y:s})=>o.createElement(l.div,{className:r("ev-simulation-element-marking",{"ev-is-correct":e,"ev-is-incorrect":!e}),style:{top:t+"px",left:n+"px",width:"34px",height:"34px",transform:u(s,e=>`translateY(${e}px)`),opacity:i}},o.createElement("i",{className:r("ev-icon",{"ev-icon-check":e,"ev-icon-cross":!e})})))}});e.exports=d},1563:function(e,t,n){"use strict";var o=n(30)(n(21));const i=n(8),s=n(0),r=n(1),a=n(2),c=n(7),l=n(1385).default,u=n(469).default,d=n(300),m=n(1564),h=n(76),p=n(1382),S=n(1383),b=n(1384),g=a({displayName:"SimulationButtonIcon",propTypes:{size:r.number.isRequired,icon:r.string.isRequired,theme:r.object.isRequired,styles:r.shape({default:r.object.isRequired,hover:r.object.isRequired,focus:r.object.isRequired,disabled:r.object.isRequired}),isHovered:r.bool.isRequired,isFocused:r.bool.isRequired,isDisabled:r.bool.isRequired},getDefaultProps:function(){return{isHovered:!1,isFocused:!1,isDisabled:!1}},getStyles:function(){this._memoizedStyle||(this._memoizedStyle=u((function(e,t,n,o,i){let s=e.default;return i?s={...s,...e.disabled}:o?s={...s,...e.focus}:n&&(s={...s,...e.hover}),p(s,t)})));const{styles:e,theme:t,isHovered:n,isFocused:o,isDisabled:i}=this.props;return this._memoizedStyle(e,t,n,o,i)},render:function(){const{icon:e,size:t}=this.props;return s.createElement(d,{icon:e,size:t,style:this.getStyles()})}});let f=a({displayName:"SimulationButton",propTypes:{item:r.object.isRequired,theme:r.object.isRequired,isHighlighted:r.bool.isRequired,isInactive:r.bool.isRequired,onUpdateElement:r.func.isRequired,onElementAction:r.func.isRequired,stylesElement:r.object.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},hoverAction:function(){const{onElementAction:e,item:t}=this.props,{hoverOverAction:n={},disabled:o}=t;o||e(n)},hoverOutAction:function(){const{onElementAction:e,item:t}=this.props,{hoverOutAction:n={},disabled:o}=t;o||e(n)},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(e){this.onHoverChanged(!0),this.hoverAction()},onMouseLeave:function(){this.onHoverChanged(!1),this.hoverOutAction()},onFocus:function(){this.onFocusChanged(!0),this.hoverAction()},onBlur:function(){this.onFocusChanged(!1),this.hoverOutAction()},onClick:function(e){e.preventDefault();const{onUpdateElement:t,onElementAction:n,item:o}=this.props,{action:i={},_hasBeenClicked:s=!1,saveToVariable:r,variableId:a}=o;s||t(o._id,{_hasBeenClicked:!0,_hasInteracted:!0},r,a,!0),n(i)},handleClickOutside:function(){this.state.isHovered&&this.onMouseLeave()},getStyles:function(){this._memoizedStyle||(this._memoizedStyle=u((function(e,t,n,o,s,r,a,c,l){let u=e.default;l&&r?u={...u,...e.disabled}:c&&s?u={...u,...e.focus}:a&&o&&(u={...u,...e.hover});const d=i(t,"src",{}),h={...i(t,"style",{}),backgroundImage:m(d.default,(o||s)&&d.hover,r&&d.disabled)};return p({...u,...h},n)})));const{item:e,theme:t,stylesElement:n}=this.props,{isFocused:o,isHovered:s}=this.state,{disabled:r}=e,{backgroundImage:a,styles:c,enableHoverStyles:l,enableFocusStyles:d,enableDisabledStyles:h}=n;return this._memoizedStyle(c,a,t,s,o,r,l,d,h)},renderImageIcon:function(){const{props:e,state:t}=this,{isHovered:n,isFocused:o}=t,{disabled:i,icon:r}=e.item,{icon:{styles:a,size:c}}=e.stylesElement,{alt:l,src:u={}}=r,d=m(u.default,(n||o)&&u.hover,i&&u.disabled),S=p({...a.default,width:c},e.theme);return d&&s.createElement("img",{src:h(d),style:S,alt:l,className:"ev-simulation-element-button-icon-image"})},renderStandardIcon:function(){const{theme:e,item:t,stylesElement:n}=this.props,{disabled:o,icon:{icon:i}}=t,{enableHoverStyles:r,enableFocusStyles:a,enableDisabledStyles:c,icon:{styles:l,size:u}}=n,{isHovered:d,isFocused:m}=this.state;return i&&s.createElement(g,{icon:i,size:u,theme:e,styles:l,isHovered:r&&d,isFocused:a&&m,isDisabled:c&&o})},renderIcon:function(e){const{icon:t}=this.props.item;if(t&&t.isRight===e)return t.isImage?this.renderImageIcon():this.renderStandardIcon()},render:function(){const{isHighlighted:e,isInactive:t,item:n,useThemeCourseFocusOutline:o}=this.props,{rect:i,text:r,ariaLabel:a,type:l,disabled:u,isHotspotButton:d}=n;return s.createElement(S,{rect:i,type:l,isHighlighted:e,isInactive:t},s.createElement("button",{"aria-label":a,className:c({"ev-no-accessibility-focus":!o}),style:d?{}:this.getStyles(),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onTouchStart:this.onMouseEnter,disabled:u,tabIndex:t?-1:0},!d&&s.createElement("span",{className:"ev-simulation-element-button-inner"},this.renderIcon(!1),r&&s.createElement("span",{className:"ev-simulation-element-button-text"},r),this.renderIcon(!0))))}});f=b(l(f));const y=["touchstart"];e.exports=function(e){return s.createElement(f,(0,o.default)({},e,{eventTypes:y}))}},1564:function(e,t,n){"use strict";const o=n(173);e.exports=(...e)=>o(e,(e,t)=>t||e,null)},1565:function(e,t,n){"use strict";const o=n(8),i=n(31),s=n(0),r=n(1),a=n(7),c=n(2),l=n(76),u=n(469).default,d=n(1382),m=n(1383),h=n(1384),p=c({displayName:"SimulationCheckboxGroupOption",propTypes:{name:r.string,columns:r.number.isRequired,option:r.object.isRequired,icon:r.object.isRequired,iconStyles:r.object.isRequired,iconSize:r.number.isRequired,theme:r.object.isRequired,styles:r.object.isRequired,disabled:r.bool.isRequired,enableHoverStyles:r.bool.isRequired,enableFocusStyles:r.bool.isRequired,enableDisabledStyles:r.bool.isRequired,enableSelectedStyles:r.bool.isRequired,onChange:r.func.isRequired,useThemeCourseFocusOutline:r.bool.isRequired,isInactive:r.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(){this.onHoverChanged(!0)},onMouseLeave:function(){this.onHoverChanged(!1)},onFocus:function(){this.onFocusChanged(!0)},onBlur:function(){this.onFocusChanged(!1)},onChange:function(){const{option:e,onChange:t}=this.props;t(e)},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=u((function(e,t,n,o,i,s,r,a,c){let l=e.default,u=o.default;const m={flex:`0 0 ${100/i}%`};return c?l={...l,...e.disabled}:a?l={...l,...e.selected}:r?l={...l,...e.focus}:s&&(l={...l,...e.hover}),u={...u,width:n,height:n,fontSize:n},l=d(l,t),u=d(u,t),{style:l,iconStyle:u,containerStyle:m}})));const{option:e,theme:t,iconSize:n,iconStyles:o,columns:i,styles:s,disabled:r,enableHoverStyles:a,enableFocusStyles:c,enableSelectedStyles:l,enableDisabledStyles:m}=this.props,{isFocused:h,isHovered:p}=this.state;return this._memoizedStyle(s,t,n,o,i,a&&p,c&&h,l&&e.isSelected,m&&r)},renderInput:function(e){const{disabled:t,option:n,name:o,icon:i,isInactive:r}=this.props,{_id:c,isSelected:l}=n,u="default"===i.type?e:null;return s.createElement("input",{id:`${o}${c}`,value:c,name:o,type:"checkbox",checked:l,disabled:t,style:u,onChange:this.onChange,tabIndex:r?-1:0,className:a("ev-simulation-checkbox-group-option-input ev-no-accessibility-focus",{"ev-simulation-checkbox-group-option-input-hidden":"default"!==i.type})})},renderThemeIcon:function(e){const{icon:t,option:n}=this.props,i=n.isSelected?"selected":"default";if("theme"===t.type&&o(t,["icon",i]))return s.createElement("i",{className:"ev-icon ev-icon-"+t.icon[i],style:e})},renderImageIcon:function(e){const{icon:t,option:n}=this.props,i=n.isSelected?"selected":"default";if("image"===t.type&&o(t,["src",i]))return s.createElement("img",{src:l(t.src[i]),style:e})},renderIcon:function(e,t=!1){const{icon:n}=this.props;if(n.isRight===t)return s.createElement(s.Fragment,null,this.renderInput(e),this.renderThemeIcon(e),this.renderImageIcon(e))},render:function(){const{option:e,disabled:t,name:n,useThemeCourseFocusOutline:o}=this.props,{iconStyle:i,containerStyle:r,style:c}=this.getStyle(),{isFocused:l}=this.state;return s.createElement("div",{className:"ev-simulation-checkbox-group-option-container",style:r},s.createElement("label",{htmlFor:`${n}${e._id}`,className:a("ev-simulation-checkbox-group-option",{"ev-disabled":t,"ev-focused":o&&l}),style:c,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur},this.renderIcon(i,!1),s.createElement("span",{className:"ev-simulation-element-checkbox-group-option-label"},e.label),this.renderIcon(i,!0)))}}),S=c({displayName:"SimulationCheckboxGroup",propTypes:{item:r.object.isRequired,stylesElement:r.object.isRequired,theme:r.object.isRequired,isHighlighted:r.bool.isRequired,isInactive:r.bool.isRequired,onUpdateElement:r.func.isRequired,onElementAction:r.func.isRequired,useThemeCourseFocusOutline:r.bool.isRequired},onChange:function(e){const{onUpdateElement:t,onElementAction:n,item:o}=this.props,{_id:s,action:r={},saveToVariable:a,variableId:c}=e,l=!!e.isSelected;t(o._id,{_hasInteracted:!0,options:i(o.options,e=>e._id===s?{...e,isSelected:!l}:e)},a,c,!l),"NONE"!==r.type&&n(r)},render:function(){const{isHighlighted:e,isInactive:t,item:n,theme:o,stylesElement:r,useThemeCourseFocusOutline:a}=this.props,{rect:c,type:l,columns:u,scaleOptionSize:d,options:h,icon:S,disabled:b}=n,{styles:g,enableHoverStyles:f,enableFocusStyles:y,enableDisabledStyles:I,enableSelectedStyles:E,icon:{styles:v,size:_}}=r;return s.createElement(m,{rect:c,type:l,isHighlighted:e,isInactive:t},s.createElement("div",{className:"ev-simulation-element-checkbox-group-options",style:{alignContent:d?"initial":"flex-start"}},i(h,e=>s.createElement(p,{key:e._id,name:n._id,option:e,icon:S,iconStyles:v,iconSize:_,columns:u,theme:o,styles:g,disabled:b,isInactive:t,enableHoverStyles:f,enableFocusStyles:y,enableDisabledStyles:I,enableSelectedStyles:E,useThemeCourseFocusOutline:a,onChange:this.onChange}))))}});e.exports=h(S)},1566:function(e,t,n){"use strict";const o=n(18),i=n(308),s=n(0),r=n(1),a=n(2),c=n(469).default,l=n(1382),u=n(24),d=n(1383),m=n(1384),h=a({displayName:"SimulationDisplayText",propTypes:{item:r.object.isRequired,stylesElement:r.object.isRequired,theme:r.object.isRequired,isHighlighted:r.bool.isRequired,isInactive:r.bool.isRequired,variables:r.array.isRequired},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=c((function(e,t){return l(e,t)})));const{theme:e,stylesElement:t}=this.props,{style:n}=t;return this._memoizedStyle(n,e)},getText:function(){this._memoizedText||(this._memoizedText=c((function(e,t,n,s){if(n&&s){const e=o(t,{_id:s});if(e&&!i(e.value))return`<p>${e.value}</p>`}return e})));const{variables:e,item:t}=this.props,{text:n,readFromVariable:s,variableId:r}=t;return this._memoizedText(n,e,s,r)},render:function(){const{isHighlighted:e,isInactive:t,item:n}=this.props,{rect:o,type:i}=n;return s.createElement(d,{rect:o,type:i,isHighlighted:e,isInactive:t},s.createElement("div",{className:"ev-body",style:this.getStyle()},s.createElement(u,{html:this.getText()})))}});e.exports=m(h)},1567:function(e,t,n){"use strict";const o=n(32),i=n(11),s=n(18),r=n(31),a=n(0),c=n(1),l=n(2),u=n(7),d=n(469).default,m=n(1491),h=n(1382),p=n(1383),S=n(1384),b=l({displayName:"SimulationDropDownOption",propTypes:{children:c.node,isFocused:c.bool,isSelected:c.bool,onFocus:c.func,onSelect:c.func,option:c.object.isRequired},handleMouseDown:function(e){e.preventDefault(),e.stopPropagation(),this.props.onSelect(this.props.option,e)},handleMouseEnter:function(e){this.props.onFocus(this.props.option,e)},handleMouseMove:function(e){this.props.isFocused||this.props.onFocus(this.props.option,e)},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=d((function(e,t,n,o){let i=e.default;return o?i={...i,...e.selected}:n&&(i={...i,...e.hover}),h(i,t)})));const{isFocused:e,isSelected:t,option:n}=this.props,{optionStyles:o,theme:i}=n;return this._memoizedStyle(o,i,e,t)},render:function(){return a.createElement("div",{className:"ev-simulation-drop-down-option",onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,style:this.getStyle()},this.props.children)}}),g=l({displayName:"SimulationDropDown",propTypes:{item:c.object.isRequired,theme:c.object.isRequired,stylesElement:c.object.isRequired,isHighlighted:c.bool.isRequired,isInactive:c.bool.isRequired,onUpdateElement:c.func.isRequired,onElementAction:c.func.isRequired,useThemeCourseFocusOutline:c.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(){this.onHoverChanged(!0)},onMouseLeave:function(){this.onHoverChanged(!1)},onFocus:function(){this.onFocusChanged(!0)},onBlur:function(){this.onFocusChanged(!1)},onChange:function(e){const{onUpdateElement:t,onElementAction:n,item:r}=this.props,{options:a}=r;t(r._id,{_hasInteracted:!0,value:e});const c=o(a,{saveToVariable:!0});i(c,({_id:n,variableId:o})=>{t(r._id,{},!0,o,n===e)});const l=s(a,{_id:e});l&&l.action&&"NONE"!==l.action.type&&n(l.action)},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=d((function(e,t,n,o,i){let s=e.default;return i?s={...s,...e.disabled}:o?s={...s,...e.focus}:n&&(s={...s,...e.hover}),h(s,t)})));const{item:e,stylesElement:t,theme:n}=this.props,{isFocused:o,isHovered:i}=this.state,{disabled:s}=e,{styles:r,enableHoverStyles:a,enableFocusStyles:c,enableDisabledStyles:l}=t;return this._memoizedStyle(r,n,a&&i,c&&o,l&&s)},getMenuStyle:function(){this._memoizedMenuStyle||(this._memoizedMenuStyle=d((function(e,t){return h(e.default,t)})));const{stylesElement:e,theme:t}=this.props;return this._memoizedMenuStyle(e.styles,t)},render:function(){const{isHighlighted:e,isInactive:t,item:n,stylesElement:o,theme:i,useThemeCourseFocusOutline:s}=this.props,{_id:c,type:l,ariaLabel:d,rect:h,disabled:S,value:g,placeholder:f,options:y,searchable:I,clearable:E,noResultsText:v,icon:_={}}=n,{optionStyles:R}=o;return a.createElement(p,{rect:h,type:l,isHighlighted:e,isInactive:t},a.createElement(m,{name:c,className:u("ev-simulation-drop-down",{"ev-focusable":s}),value:g,options:r(y,({_id:e,label:t})=>({label:t,value:e,optionStyles:R,theme:i})),placeholder:f,searchable:I,clearable:E,multi:!1,isDisabled:S,tabIndex:t?-1:0,onChange:this.onChange,ariaLabel:d,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,wrapperStyle:this.getStyle(),menuStyle:this.getMenuStyle(),optionComponent:b,noResultsText:v,iconSize:_.size}))}});e.exports=S(g)},1568:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),r=n(469).default,a=n(1382),c=n(1383),l=n(1384),u=n(1385).default,d=s({displayName:"SimulationEmpty",propTypes:{item:i.object.isRequired,stylesElement:i.object.isRequired,theme:i.object.isRequired,isHighlighted:i.bool.isRequired,isInactive:i.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},hoverAction:function(){const{onElementAction:e,item:t}=this.props,{hoverOverAction:n={},disabled:o}=t;o||e(n)},hoverOutAction:function(){const{onElementAction:e,item:t}=this.props,{hoverOutAction:n={},disabled:o}=t;o||e(n)},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(e){this.onHoverChanged(!0),this.hoverAction()},onMouseLeave:function(){this.onHoverChanged(!1),this.hoverOutAction()},onFocus:function(){this.onFocusChanged(!0),this.hoverAction()},onBlur:function(){this.onFocusChanged(!1),this.hoverOutAction()},handleClickOutside:function(){this.state.isHovered&&this.onMouseLeave()},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=r((function(e,t){return a(e,t)})));const{stylesElement:e,theme:t}=this.props,{style:n}=e;return this._memoizedStyle(n,t)},render:function(){const{isHighlighted:e,isInactive:t,item:n}=this.props,{rect:i,type:s,isFocusable:r}=n;return o.createElement(c,{rect:i,type:s,isHighlighted:e,isInactive:t},o.createElement("div",{style:this.getStyle(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onTouchStart:this.onMouseEnter,tabIndex:t?-1:r?0:-1}))}});e.exports=l(u(d))},1569:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),r=n(469).default,a=n(7),c=n(1382),l=n(76),u=n(1383),d=n(1384),m=s({displayName:"SimulationImage",propTypes:{item:i.object.isRequired,stylesElement:i.object.isRequired,theme:i.object.isRequired,isHighlighted:i.bool.isRequired,isInactive:i.bool.isRequired},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=r((function(e,t){return c(e,t)})));const{stylesElement:e,theme:t}=this.props,{style:n}=e;return this._memoizedStyle(n,t)},render:function(){const{isHighlighted:e,isInactive:t,item:n}=this.props,{rect:i,type:s,src:r,alt:c,keepImageAspectRatio:d}=n;return o.createElement(u,{rect:i,type:s,isHighlighted:e,isInactive:t},o.createElement("img",{className:a({"ev-keep-image-aspect-ratio":d}),alt:c,src:l(r),style:this.getStyle()}))}});e.exports=d(m)},1570:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),r=n(7),a=n(171),c=n(469).default,l=n(1382),u=n(1383),d=n(1384),m=s({displayName:"SimulationNumberInput",propTypes:{item:i.object.isRequired,stylesElement:i.object.isRequired,theme:i.object.isRequired,isHighlighted:i.bool.isRequired,isInactive:i.bool.isRequired,onUpdateElement:i.func.isRequired,onElementAction:i.func.isRequired,useThemeCourseFocusOutline:i.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},componentDidUpdate:function(){this.props.isInactive&&this._input.blur()},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(){this.onHoverChanged(!0)},onMouseLeave:function(){this.onHoverChanged(!1)},onFocus:function(){this.onFocusChanged(!0)},onBlur:function(){this.onFocusChanged(!1)},onChange:function(e){const{onUpdateElement:t,item:n}=this.props,{saveToVariable:o,variableId:i}=n,s=parseInt(e.target.value,10);t(n._id,{value:s,_hasInteracted:!0},o,i,s)},onKeyPress:function(e){const{onUpdateElement:t,onElementAction:n,item:o}=this.props,{action:i={},canSubmitUsingEnterKey:s}=o;a.isEnterKey(e)&&s&&(t(o._id,{_hasInteracted:!0}),n(i))},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=c((function(e,t,n,o,i){let s=e.default;return i?s={...s,...e.disabled}:o?s={...s,...e.focus}:n&&(s={...s,...e.hover}),l(s,t)})));const{item:e,stylesElement:t,theme:n}=this.props,{isFocused:o,isHovered:i}=this.state,{disabled:s}=e,{styles:r,enableHoverStyles:a,enableFocusStyles:u,enableDisabledStyles:d}=t;return this._memoizedStyle(r,n,a&&i,u&&o,d&&s)},render:function(){const{isHighlighted:e,isInactive:t,item:n,useThemeCourseFocusOutline:i}=this.props,{name:s,rect:a,value:c,ariaLabel:l,type:d,disabled:m,placeholder:h,min:p,max:S,step:b}=n;return o.createElement(u,{rect:a,type:d,isHighlighted:e,isInactive:t},o.createElement("input",{ref:e=>this._input=e,type:"number",name:s,min:p,max:S,step:b,"aria-label":l,value:c,disabled:m,tabIndex:t?-1:0,placeholder:h,className:r({"ev-no-accessibility-focus":!i}),style:this.getStyle(),onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onKeyPress:this.onKeyPress}))}});e.exports=d(m)},1571:function(e,t,n){"use strict";const o=n(8),i=n(31),s=n(10),r=n(32),a=n(11),c=n(0),l=n(1),u=n(7),d=n(2),m=n(76),h=n(469).default,p=n(1382),S=n(1383),b=n(1384),g=d({displayName:"SimulationRadioGroupOption",propTypes:{name:l.string,columns:l.number.isRequired,option:l.object.isRequired,icon:l.object.isRequired,iconStyles:l.object.isRequired,iconSize:l.number.isRequired,theme:l.object.isRequired,styles:l.object.isRequired,disabled:l.bool.isRequired,enableHoverStyles:l.bool.isRequired,enableFocusStyles:l.bool.isRequired,enableDisabledStyles:l.bool.isRequired,enableSelectedStyles:l.bool.isRequired,onChange:l.func.isRequired,useThemeCourseFocusOutline:l.bool.isRequired,isInactive:l.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(){this.onHoverChanged(!0)},onMouseLeave:function(){this.onHoverChanged(!1)},onFocus:function(){this.onFocusChanged(!0)},onBlur:function(){this.onFocusChanged(!1)},onChange:function(){const{option:e,onChange:t}=this.props;t(e)},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=h((function(e,t,n,o,i,s,r,a,c){let l=e.default,u=o.default;const d={width:100/i+"%"};return c?l={...l,...e.disabled}:a?l={...l,...e.selected}:r?l={...l,...e.focus}:s&&(l={...l,...e.hover}),u={...u,width:n,height:n,fontSize:n},l=p(l,t),u=p(u,t),{style:l,iconStyle:u,containerStyle:d}})));const{option:e,theme:t,iconSize:n,iconStyles:o,columns:i,styles:s,disabled:r,enableHoverStyles:a,enableFocusStyles:c,enableSelectedStyles:l,enableDisabledStyles:u}=this.props,{isFocused:d,isHovered:m}=this.state;return this._memoizedStyle(s,t,n,o,i,a&&m,c&&d,l&&e.isSelected,u&&r)},renderInput:function(e){const{disabled:t,option:n,name:o,icon:i,isInactive:s}=this.props,{_id:r,isSelected:a}=n,l="default"===i.type?e:null;return c.createElement("input",{id:`${o}${r}`,value:r,name:o,type:"radio",checked:a,disabled:t,tabIndex:s?-1:0,style:l,onChange:this.onChange,className:u("ev-simulation-radio-group-option-input ev-no-accessibility-focus",{"ev-simulation-radio-group-option-input-hidden":"default"!==i.type})})},renderThemeIcon:function(e){const{icon:t,option:n}=this.props,i=n.isSelected?"selected":"default";if("theme"===t.type&&o(t,["icon",i]))return c.createElement("i",{className:"ev-icon ev-icon-"+t.icon[i],style:e})},renderImageIcon:function(e){const{icon:t,option:n}=this.props,i=n.isSelected?"selected":"default";if("image"===t.type&&o(t,["src",i]))return c.createElement("img",{src:m(t.src[i]),style:e})},renderIcon:function(e,t=!1){const{icon:n}=this.props;if(n.isRight===t)return c.createElement(c.Fragment,null,this.renderInput(e),this.renderThemeIcon(e),this.renderImageIcon(e))},render:function(){const{option:e,disabled:t,name:n,useThemeCourseFocusOutline:o}=this.props,{iconStyle:i,containerStyle:s,style:r}=this.getStyle(),{isFocused:a}=this.state;return c.createElement("div",{className:"ev-simulation-radio-group-option-container",style:s},c.createElement("label",{htmlFor:`${n}${e._id}`,className:u("ev-simulation-radio-group-option",{"ev-disabled":t,"ev-focused":o&&a}),style:r,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur},this.renderIcon(i,!1),c.createElement("span",{className:"ev-simulation-element-radio-group-option-label"},e.label),this.renderIcon(i,!0)))}}),f=d({displayName:"SimulationRadioGroup",propTypes:{item:l.object.isRequired,stylesElement:l.object.isRequired,theme:l.object.isRequired,isHighlighted:l.bool.isRequired,isInactive:l.bool.isRequired,onUpdateElement:l.func.isRequired,onElementAction:l.func.isRequired,useThemeCourseFocusOutline:l.bool.isRequired},onChange:function(e){const{onUpdateElement:t,onElementAction:n,item:o}=this.props,{_id:c,action:l={}}=e;t(o._id,{_hasInteracted:!0,options:i(o.options,e=>s({},e,{isSelected:e._id===c}))});const u=r(o.options,{saveToVariable:!0});a(u,({_id:e,variableId:n})=>{t(o._id,{},!0,n,e===c)}),"NONE"!==l.type&&n(l)},render:function(){const{isHighlighted:e,isInactive:t,item:n,theme:o,stylesElement:s,useThemeCourseFocusOutline:r}=this.props,{rect:a,type:l,columns:u,scaleOptionSize:d,options:m,icon:h,disabled:p}=n,{styles:b,enableHoverStyles:f,enableFocusStyles:y,enableDisabledStyles:I,enableSelectedStyles:E,icon:{styles:v,size:_}}=s;return c.createElement(S,{rect:a,type:l,isHighlighted:e,isInactive:t},c.createElement("div",{className:"ev-simulation-element-radio-group-options",style:{alignContent:d?"initial":"flex-start"}},i(m,e=>c.createElement(g,{key:e._id,name:n._id,option:e,icon:h,iconStyles:v,iconSize:_,columns:u,theme:o,styles:b,disabled:p,isInactive:t,enableHoverStyles:f,enableFocusStyles:y,enableDisabledStyles:I,enableSelectedStyles:E,useThemeCourseFocusOutline:r,onChange:this.onChange}))))}});e.exports=b(f)},1572:function(e,t,n){"use strict";const o=n(18),i=n(32),s=n(11),r=n(31),a=n(0),c=n(1),l=n(2),u=n(7),d=n(469).default,m=n(1382),h=n(1383),p=n(1384),S=l({displayName:"SimulationSelect",propTypes:{item:c.object.isRequired,stylesElement:c.object.isRequired,theme:c.object.isRequired,isHighlighted:c.bool.isRequired,isInactive:c.bool.isRequired,onUpdateElement:c.func.isRequired,onElementAction:c.func.isRequired,useThemeCourseFocusOutline:c.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(){this.onHoverChanged(!0)},onMouseLeave:function(){this.onHoverChanged(!1)},onFocus:function(){this.onFocusChanged(!0)},onBlur:function(){this.onFocusChanged(!1)},onChange:function(e){const{onUpdateElement:t,onElementAction:n,item:r}=this.props,a=e.currentTarget.value,c=o(r.options,{_id:a}),{action:l={}}=c;t(r._id,{_hasInteracted:!0,value:a});const u=i(r.options,{saveToVariable:!0});s(u,({_id:e,variableId:n})=>{t(r._id,{},!0,n,e===a)}),"NONE"!==l.type&&n(l)},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=d((function(e,t,n,o,i){let s=e.default;return i?s={...s,...e.disabled}:o?s={...s,...e.focus}:n&&(s={...s,...e.hover}),m(s,t)})));const{item:e,stylesElement:t,theme:n}=this.props,{isFocused:o,isHovered:i}=this.state,{disabled:s}=e,{styles:r,enableHoverStyles:a,enableFocusStyles:c,enableDisabledStyles:l}=t;return this._memoizedStyle(r,n,a&&i,c&&o,l&&s)},render:function(){const{isHighlighted:e,isInactive:t,item:n,useThemeCourseFocusOutline:o}=this.props,{_id:i,type:s,ariaLabel:c,rect:l,disabled:d,value:m,options:p}=n;return a.createElement(h,{rect:l,type:s,isHighlighted:e,isInactive:t},a.createElement("select",{className:u({"ev-no-accessibility-focus":!o}),name:i,"aria-label":c,value:m,disabled:d,tabIndex:t?-1:0,style:this.getStyle(),onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur},r(p,({_id:e,label:t})=>a.createElement("option",{key:e,value:e},t))))}});e.exports=p(S)},1573:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),r=n(7),a=n(171),c=n(469).default,l=n(1382),u=n(1383),d=n(1384),m=s({displayName:"SimulationTextArea",propTypes:{item:i.object.isRequired,stylesElement:i.object.isRequired,theme:i.object.isRequired,isHighlighted:i.bool.isRequired,isInactive:i.bool.isRequired,onUpdateElement:i.func.isRequired,onElementAction:i.func.isRequired,useThemeCourseFocusOutline:i.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},componentDidUpdate:function(){this.props.isInactive&&this._textArea.blur()},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(){this.onHoverChanged(!0)},onMouseLeave:function(){this.onHoverChanged(!1)},onFocus:function(){this.onFocusChanged(!0)},onBlur:function(){this.onFocusChanged(!1)},onChange:function(e){const{onUpdateElement:t,item:n}=this.props,{saveToVariable:o,variableId:i}=n,s=e.target.value;t(n._id,{value:s,_hasInteracted:!0},o,i,s)},onKeyPress:function(e){const{onUpdateElement:t,onElementAction:n,item:o}=this.props,{action:i={},canSubmitUsingEnterKey:s}=o;a.isEnterKey(e)&&s&&(t(o._id,{_hasInteracted:!0}),n(i))},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=c((function(e,t,n,o,i){let s={...e.default,resize:"none"};return i?s={...s,...e.disabled}:o?s={...s,...e.focus}:n&&(s={...s,...e.hover}),l(s,t)})));const{item:e,stylesElement:t,theme:n}=this.props,{isFocused:o,isHovered:i}=this.state,{disabled:s}=e,{styles:r,enableHoverStyles:a,enableFocusStyles:u,enableDisabledStyles:d}=t;return this._memoizedStyle(r,n,a&&i,u&&o,d&&s)},render:function(){const{isHighlighted:e,isInactive:t,item:n,useThemeCourseFocusOutline:i}=this.props,{name:s,rect:a,value:c,ariaLabel:l,type:d,disabled:m,placeholder:h}=n;return o.createElement(u,{rect:a,type:d,isHighlighted:e,isInactive:t},o.createElement("textarea",{ref:e=>this._textArea=e,name:s,"aria-label":l,value:c,disabled:m,tabIndex:t?-1:0,placeholder:h,className:r({"ev-no-accessibility-focus":!i}),style:this.getStyle(),onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onKeyPress:this.onKeyPress}))}});e.exports=d(m)},1574:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),r=n(7),a=n(171),c=n(469).default,l=n(1382),u=n(1383),d=n(1384),m=s({displayName:"SimulationTextInput",propTypes:{item:i.object.isRequired,stylesElement:i.object.isRequired,theme:i.object.isRequired,isHighlighted:i.bool.isRequired,isInactive:i.bool.isRequired,onUpdateElement:i.func.isRequired,onElementAction:i.func.isRequired,useThemeCourseFocusOutline:i.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},componentDidUpdate:function(){this.props.isInactive&&this._input.blur()},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(){this.onHoverChanged(!0)},onMouseLeave:function(){this.onHoverChanged(!1)},onFocus:function(){this.onFocusChanged(!0)},onBlur:function(){this.onFocusChanged(!1)},onChange:function(e){const{onUpdateElement:t,item:n}=this.props,{saveToVariable:o,variableId:i}=n,s=e.target.value;t(n._id,{value:s,_hasInteracted:!0},o,i,s)},onKeyPress:function(e){const{onUpdateElement:t,onElementAction:n,item:o}=this.props,{action:i={},canSubmitUsingEnterKey:s}=o;a.isEnterKey(e)&&s&&(t(o._id,{_hasInteracted:!0}),n(i))},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=c((function(e,t,n,o,i){let s={...e.default,resize:"none"};return i?s={...s,...e.disabled}:o?s={...s,...e.focus}:n&&(s={...s,...e.hover}),l(s,t)})));const{item:e,stylesElement:t,theme:n}=this.props,{isFocused:o,isHovered:i}=this.state,{disabled:s}=e,{styles:r,enableHoverStyles:a,enableFocusStyles:u,enableDisabledStyles:d}=t;return this._memoizedStyle(r,n,a&&i,u&&o,d&&s)},render:function(){const{isHighlighted:e,isInactive:t,item:n,useThemeCourseFocusOutline:i}=this.props,{name:s,rect:a,value:c,ariaLabel:l,defaultValue:d,type:m,disabled:h,placeholder:p}=n;return o.createElement(u,{rect:a,type:m,isHighlighted:e,isInactive:t},o.createElement("input",{ref:e=>this._input=e,type:"text",name:s,"aria-label":l,value:c||d,disabled:h,tabIndex:t?-1:0,placeholder:p,className:r({"ev-no-accessibility-focus":!i}),style:this.getStyle(),onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onKeyPress:this.onKeyPress}))}});e.exports=d(m)},1575:function(e,t,n){"use strict";const o=n(8),i=n(0),s=n(1),r=n(2),a=n(7),c=n(469).default,l=n(300),u=n(1564),d=n(76),m=n(1382),h=n(1383),p=n(1384),S=r({displayName:"SimulationToggleButtonIcon",propTypes:{size:s.number.isRequired,icon:s.string.isRequired,theme:s.object.isRequired,styles:s.shape({toggledOff:s.object.isRequired,toggledOn:s.object.isRequired,toggledOffHover:s.object.isRequired,toggledOnHover:s.object.isRequired,toggledOffFocus:s.object.isRequired,toggledOnFocus:s.object.isRequired,toggledOffDisabled:s.object.isRequired,toggledOnDisabled:s.object.isRequired}),isToggledOn:s.bool.isRequired,isHovered:s.bool.isRequired,isFocused:s.bool.isRequired,isDisabled:s.bool.isRequired},getDefaultProps:function(){return{isToggledOn:!1,isHovered:!1,isFocused:!1,isDisabled:!1}},getStyles:function(){this._memoizedStyle||(this._memoizedStyle=c((function(e,t,n,o,i,s){let r={};return n?(r=e.toggledOn,s?r={...r,...e.toggledOnDisabled}:i?r={...r,...e.toggledOnFocus}:o&&(r={...r,...e.toggledOnHover})):(r=e.toggledOff,s?r={...r,...e.toggledOffDisabled}:i?r={...r,...e.toggledOffFocus}:o&&(r={...r,...e.toggledOffHover})),m(r,t)})));const{styles:e,theme:t,isToggledOn:n,isHovered:o,isFocused:i,isDisabled:s}=this.props;return this._memoizedStyle(e,t,n,o,i,s)},render:function(){const{icon:e,size:t}=this.props;return i.createElement(l,{icon:e,size:t,style:this.getStyles()})}}),b=r({displayName:"SimulationToggleButton",propTypes:{item:s.object.isRequired,stylesElement:s.object.isRequired,theme:s.object.isRequired,isHighlighted:s.bool.isRequired,isInactive:s.bool.isRequired,onUpdateElement:s.func.isRequired,onElementAction:s.func.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(){this.onHoverChanged(!0)},onMouseLeave:function(){this.onHoverChanged(!1)},onFocus:function(){this.onFocusChanged(!0)},onBlur:function(){this.onFocusChanged(!1)},onClick:function(e){e.preventDefault();const{onUpdateElement:t,onElementAction:n,item:o}=this.props,{toggledOffAction:i={},toggledOnAction:s={},saveToVariable:r,variableId:a}=o;let c=o.isToggledOn;c=!c,t(o._id,{isToggledOn:c,_hasInteracted:!0},r,a,c),n(c?s:i)},getStyles:function(){this._memoizedStyle||(this._memoizedStyle=c((function(e,t,n,i,s,r,a,c,l,d){let h={};i?(h=e.toggledOn,d&&a?h={...h,...e.toggledOnDisabled}:l&&r?h={...h,...e.toggledOnFocus}:c&&s&&(h={...h,...e.toggledOnHover})):(h=e.toggledOff,d&&a?h={...h,...e.toggledOffDisabled}:l&&r?h={...h,...e.toggledOffFocus}:c&&s&&(h={...h,...e.toggledOffHover}));const p=o(t,"src",{}),S={...o(t,"style",{}),backgroundImage:i?u(p.toggledOn,(s||r)&&p.toggledOnHover,a&&p.toggledOnDisabled):u(p.toggledOff,(s||r)&&p.toggledOffHover,a&&p.toggledOffDisabled)};return m({...h,...S},n)})));const{item:e,theme:t,stylesElement:n}=this.props,{isFocused:i,isHovered:s}=this.state,{isToggledOn:r,disabled:a}=e,{backgroundImage:l,styles:d,enableHoverStyles:h,enableFocusStyles:p,enableDisabledStyles:S}=n;return this._memoizedStyle(d,l,t,r,s,i,a,h,p,S)},renderImageIcon:function(){const{props:e,state:t}=this,{isHovered:n,isFocused:o}=t,{disabled:s,icon:r}=e.item,{icon:{styles:a,size:c}}=e.stylesElement,{alt:l,src:h={}}=r,p=u(h.default,(n||o)&&h.hover,s&&h.disabled),S=m({...a.default,width:c},e.theme);return p&&i.createElement("img",{src:d(p),style:S,alt:l,className:"ev-simulation-element-toggle-button-icon-image"})},renderStandardIcon:function(e){const{theme:t,item:n,stylesElement:o}=this.props,{disabled:s,isToggledOn:r}=n,{enableHoverStyles:a,enableFocusStyles:c,enableDisabledStyles:l,icon:{styles:u,size:d}}=o,{isHovered:m,isFocused:h}=this.state;return e&&i.createElement(S,{icon:e,size:d,theme:t,styles:u,isToggledOn:r,isHovered:a&&m,isFocused:c&&h,isDisabled:l&&s})},renderIcon:function(e){const{icon:{icon:t={},isRight:n,isImage:o},isToggledOn:i,isDisabled:s}=this.props.item,{isFocused:r,isHovered:a}=this.state,c=i?u(t.toggledOn,(a||r)&&t.toggledOnHover,s&&t.toggledOnDisabled):u(t.toggledOff,(a||r)&&t.toggledOffHover,s&&t.toggledOffDisabled);if(c&&n===e)return o?this.renderImageIcon():this.renderStandardIcon(c)},render:function(){const{isHighlighted:e,isInactive:t,item:n,useThemeCourseFocusOutline:o}=this.props,{rect:s,toggleOffText:r,toggleOnText:c,ariaLabel:l,type:u,isToggledOn:d,disabled:m}=n,p=d?c:r;return i.createElement(h,{rect:s,type:u,isHighlighted:e,isInactive:t},i.createElement("button",{"aria-label":l,className:a({"ev-no-accessibility-focus":!o}),style:this.getStyles(),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,disabled:m,tabIndex:t?-1:0,"aria-pressed":d},i.createElement("span",{className:"ev-simulation-element-toggle-button-inner"},this.renderIcon(!1),p&&i.createElement("span",{className:"ev-simulation-element-toggle-button-text"},p),this.renderIcon(!0))))}});e.exports=p(b)},1576:function(e,t,n){"use strict";const o=n(11),i=n(490),s=n(1577),r=n(57),a=n(1396),{COMPARISONS:c}=n(1378);e.exports={setupElement:e=>{const{defaultValue:t}=e;return e.value=t||"",e},markElement:e=>{const{conditions:t=[],requireAllConditions:n,value:c}=e;let l=!1;if(t.length){let e=0;o(t,t=>{let n=!1;const o=t.isStrict?c:i(s(c)),l=t.isStrict?t.value:i(s(t.value));switch(t.type){case"equalTo":n=o===l;break;case"notEqualTo":n=o!==l;break;case"contains":n=r(o,l);break;case"minCharacterLength":{const e=a(parseInt(l))?0:parseInt(l);n=o.length>=e;break}default:n=!1}n&&(e+=1)}),l=n?t.length===e:e>0}return e._isCorrect=l,e},resetElement:(e,t)=>{const{defaultValue:n}=e;return e._isCorrect=!1,e._hasInteracted=!1,e.value=n||"",e}}},2047:function(e,t,n){"use strict";const o=n(2),i=n(1),s=n(0),{Component:r}=n(468),a=n(1370),c=(n(218),n(1559)),l=n(2060),u=o({displayName:"SimulationComponent",propTypes:{component:i.object.isRequired,styles:i.object,theme:i.object,scrollbarWidth:i.number.isRequired,isPageReady:i.bool,setComponentAsReady:i.func.isRequired,setComponentAsViewed:i.func.isRequired,setComponentAsStarted:i.func.isRequired,setComponentAsComplete:i.func.isRequired,onSimulationStart:i.func.isRequired,onNextInstruction:i.func.isRequired,onShowInstructions:i.func.isRequired,onShowHint:i.func.isRequired,onCloseHint:i.func.isRequired,onUpdateElement:i.func.isRequired,onUpdateVariable:i.func.isRequired,onSubmitScreen:i.func.isRequired,onResetElements:i.func.isRequired,onEnableDisableElements:i.func.isRequired,onShowHideElements:i.func.isRequired,onNavigateNextScreen:i.func.isRequired,onNavigateToScreen:i.func.isRequired,onScreenFeedbackClosed:i.func.isRequired,onSimulationScreenReady:i.func.isRequired,onSimulationRestart:i.func.isRequired,openFullScreen:i.func.isRequired},componentDidMount:function(){const{props:e}=this;e.component._isReady||e.setComponentAsReady(e.component._id)},onVisibilityChange:function(e,{top:t,bottom:n}){const{props:o}=this;t&&(this.isInviewTop=!0),n&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&(o.component._hasBeenViewed||o.setComponentAsViewed(o.component._id))},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._hasBeenViewed},openFullScreen:function(){const{props:e}=this,t=e.component._id;e.openFullScreen({component:l,props:{componentId:t}})},render:function(){const{component:e,styles:t,theme:n,scrollbarWidth:o,setComponentAsStarted:i,onSimulationStart:l,onNextInstruction:u,onShowInstructions:d,onShowHint:m,onCloseHint:h,onUpdateElement:p,onUpdateVariable:S,onSubmitScreen:b,onResetElements:g,onEnableDisableElements:f,onShowHideElements:y,onNavigateNextScreen:I,onNavigateToScreen:E,onScreenFeedbackClosed:v,onSimulationScreenReady:_,onSimulationRestart:R}=this.props;return s.createElement(r,{component:e,styles:t,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange,shouldHideQuestionButtons:!0},s.createElement("div",{className:a(e)},s.createElement(c,{component:e,theme:n,scrollbarWidth:o,isFullscreen:!1,setComponentAsStarted:i,onSimulationStart:l,onNextInstruction:u,onShowInstructions:d,onShowHint:m,onCloseHint:h,onUpdateElement:p,onUpdateVariable:S,onSubmitScreen:b,onResetElements:g,onEnableDisableElements:f,onShowHideElements:y,onNavigateNextScreen:I,onNavigateToScreen:E,onScreenFeedbackClosed:v,onSimulationScreenReady:_,onSimulationRestart:R,openFullScreen:this.openFullScreen})))}});e.exports=u},2049:function(e,t,n){"use strict";var o=n(30)(n(21));const i=n(57),s=n(32),r=n(18),a=n(31),c=n(2),l=n(1),u=n(0),d=n(76),m=n(1561),h=n(1562),p={button:n(1563),checkboxGroup:n(1565),displayText:n(1566),dropDown:n(1567),empty:n(1568),image:n(1569),panel:n(2051),numberInput:n(1570),radioGroup:n(1571),select:n(1572),textArea:n(1573),textInput:n(1574),toggleButton:n(1575)},{ELEMENT_TYPES:S,SCREEN_STATE:b,UI_LAYER_POSITIONS:g}=n(1378),f=c({displayName:"SimulationScreen",propTypes:{componentId:l.string,screen:l.object.isRequired,elements:l.array.isRequired,theme:l.object.isRequired,variables:l.array.isRequired,simulationWindowHeight:l.number.isRequired,simulationWindowWidth:l.number.isRequired,onNextInstruction:l.func.isRequired,onUpdateElement:l.func.isRequired,onElementAction:l.func.isRequired,useThemeCourseFocusOutline:l.bool.isRequired},getDefaultProps:function(){return{useThemeCourseFocusOutline:!1}},componentDidMount:function(){const{onSimulationScreenReady:e,componentId:t}=this.props;e({componentId:t})},getIsElementInactive:function(e,t,n,o){return t===b.showInstructions&&o&&o.allowElementInteraction?!!o.allowHighlightedInteractionOnly&&!i(n,e._refId):t!==b.showObjective},renderImage:function(){const{simulationWindowWidth:e,screen:t}=this.props,{graphic:n={}}=t;return n.src&&u.createElement("img",{src:d(n.src),alt:n.alt,style:{maxWidth:e+"px"}})},renderElements:function(){const{componentId:e,screen:t,elements:n,theme:c,variables:l,onUpdateElement:d,onElementAction:m,useThemeCourseFocusOutline:h}=this.props,{screenState:g,instructions:f,currentInstructionId:y,hint:I,_feedback:E}=t,v=s(n,{parentId:t._id,isVisible:!0});let _,R=[];if(g===b.showInstructions){const e=r(f,{_id:y});e&&(_=e,e.highlightElementIds&&e.highlightElementIds.length&&(R=e.highlightElementIds))}return g===b.showHint&&I&&I.highlightElementIds&&I.highlightElementIds.length&&(R=I.highlightElementIds),g===b.showFeedback&&E&&E.highlightElementIds&&E.highlightElementIds.length&&(R=E.highlightElementIds),a(v,r=>{const a=p[r.type],b={};return a?(r.type===S.panel&&(b.elements=s(n,{parentId:r._id,isVisible:!0}),b.highlightedElements=R,b.screen=t),u.createElement(a,(0,o.default)({key:r._id,item:r,componentId:e,theme:c,variables:l,isHighlighted:i(R,r._refId),isInactive:this.getIsElementInactive(r,g,R,_),onUpdateElement:d,onElementAction:m,useThemeCourseFocusOutline:h},b))):null})},renderInstruction:function(){const{componentId:e,screen:t,elements:n,onNextInstruction:i}=this.props,{screenState:s,instructions:a,currentInstructionId:c}=t;if(s===b.showInstructions){const s=r(a,{_id:c});if(s&&s.position===g.anchorToElement){const a=r(n,{screenId:t._id,_refId:s.anchorToElementId});return u.createElement(m,(0,o.default)({key:s._id,componentId:e,elementToAnchor:a,onNextInstruction:i},s))}}},renderMarking:function(){const{screen:e,elements:t}=this.props,{_id:n,marking:r={},screenState:c,_isComplete:l=!1}=e;if(r.showElementMarking&&c===b.showFeedback){let e=s(t,{parentId:n,isMarkable:!0,isVisible:!0});return r.markSelectedElements&&(e=s(e,({_refId:e})=>i(r.markedElementIds,e))),e=s(e,({_hasInteracted:e,_isCorrect:t})=>l?!!r.showMarkingOnAllElements||e:(r.showMarkingOnAllElements||e)&&!t),a(e,({_id:e,rect:t,_isCorrect:n})=>u.createElement(h,(0,o.default)({key:e,isCorrect:n},t)))}},render:function(){return u.createElement("div",{className:"ev-simulation-screen"},u.createElement("div",{className:"ev-simulation-screen-graphic"},this.renderImage(),this.renderElements(),this.renderInstruction(),this.renderMarking()))}});e.exports=f},2050:function(e,t,n){"use strict";const{ANCHOR_TO_ELEMENT_POSITIONS:o}=n(1378);e.exports=function(e,t){const{x:n,y:i,width:s,height:r}=e.rect;switch(t){case o.top:return{top:i+"px",left:n+"px",transform:`translateX(-50%) translateX(${s/2}px) translateY(-100%) translateY(-16px)`};case o.bottom:return{top:i+r+"px",left:n+"px",transform:`translateX(-50%) translateX(${s/2}px) translateY(16px)`};case o.left:return{top:i+"px",left:n+"px",transform:`translateX(-100%) translateX(-16px) translateY(-50%) translateY(${r/2}px)`};case o.right:return{top:i+"px",left:n+s+"px",transform:`translateX(16px) translateY(-50%) translateY(${r/2}px)`};default:return{}}}},2051:function(e,t,n){"use strict";var o=n(30)(n(21));const i=n(31),s=n(57),r=n(32),a=n(0),c=n(1),l=n(2),{OverlayScrollbarsComponent:u}=n(1560),d=n(469).default,m=n(1382),h=n(76),p=n(1383),S=n(1562),{SCREEN_STATE:b}=n(1378),g=n(1384),f=n(1385).default,y={button:n(1563),checkboxGroup:n(1565),displayText:n(1566),dropDown:n(1567),empty:n(1568),image:n(1569),numberInput:n(1570),radioGroup:n(1571),select:n(1572),textArea:n(1573),textInput:n(1574),toggleButton:n(1575)},I=l({displayName:"SimulationPanel",propTypes:{componentId:c.string.isRequired,item:c.object.isRequired,stylesElement:c.object.isRequired,theme:c.object.isRequired,elements:c.array.isRequired,isHighlighted:c.bool.isRequired,onUpdateElement:c.func.isRequired,onElementAction:c.func.isRequired,highlightedElements:c.array.isRequired,screen:c.object.isRequired,useThemeCourseFocusOutline:c.bool.isRequired,isInactive:c.bool.isRequired},getInitialState:function(){return{isHovered:!1,isFocused:!1}},hoverAction:function(){const{onElementAction:e,item:t}=this.props,{hoverOverAction:n={},disabled:o}=t;o||e(n)},hoverOutAction:function(){const{onElementAction:e,item:t}=this.props,{hoverOutAction:n={},disabled:o}=t;o||e(n)},onFocusChanged:function(e){this.setState({isFocused:e})},onHoverChanged:function(e){this.setState({isHovered:e})},onMouseEnter:function(e){this.onHoverChanged(!0),this.hoverAction()},onMouseLeave:function(){this.onHoverChanged(!1),this.hoverOutAction()},onFocus:function(){this.onFocusChanged(!0),this.hoverAction()},onBlur:function(){this.onFocusChanged(!1),this.hoverOutAction()},handleClickOutside:function(){this.state.isHovered&&this.onMouseLeave()},getStyle:function(){this._memoizedStyle||(this._memoizedStyle=d((function(e,t){return m(e,t)})));const{stylesElement:e,theme:t}=this.props,{style:n}=e;return this._memoizedStyle(n,t)},renderElements:function(){const{componentId:e,isInactive:t,onUpdateElement:n,onElementAction:o,theme:r,elements:c,highlightedElements:l,variables:u,useThemeCourseFocusOutline:d}=this.props;return i(c,i=>{const c=y[i.type];return c?a.createElement(c,{key:i._id,item:i,componentId:e,theme:r,variables:u,isHighlighted:s(l,i._id),isInactive:t,onUpdateElement:n,onElementAction:o,highlightedElements:l,useThemeCourseFocusOutline:d}):null})},renderMarking:function(){const{screen:e,elements:t}=this.props,{_id:n,marking:c={},screenState:l,_isComplete:u=!1}=e;if(l===b.showFeedback){let e=r(t,{screenId:n,isMarkable:!0});return c.markSelectedElements&&(e=r(e,({_refId:e})=>s(c.markedElementIds,e))),c.showMarkingOnAllElements?u||(e=r(e,{_hasInteracted:!0,_isCorrect:!1})):e=r(e,{_hasInteracted:!0}),i(e,({_id:e,rect:t,_isCorrect:n})=>a.createElement(S,(0,o.default)({key:e,isCorrect:n},t)))}},render:function(){const{isHighlighted:e,item:t,isInactive:n}=this.props,{rect:o,type:i,contentRect:s,src:r,alt:c,isFocusable:l}=t;return a.createElement(p,{rect:o,type:i,isHighlighted:e,isInactive:n},a.createElement(u,{key:s.height+s.width,className:"ev-simulation-element-panel",style:this.getStyle(),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onTouchStart:this.onMouseEnter,tabIndex:n?-1:l?0:-1},a.createElement("div",{className:"ev-simulation-element-panel-content",style:{height:s.lockHeight?o.height:s.height,width:s.lockWidth?o.width:s.width}},r&&a.createElement("img",{src:h(r),alt:c,className:"ev-simulation-element-panel-image",draggable:!1}),this.renderElements(),this.renderMarking())))}});e.exports=g(f(I))},2052:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),{Spring:r,config:a,animated:c,interpolate:l}=n(77),u=n(76),d=n(1492),m=n(33),{UI_LAYER_POSITIONS:h}=n(1378),p=s({displayName:"SimulationObjective",propTypes:{text:i.string,mediaType:i.string,graphic:i.object,icon:i.string,position:i.string,width:i.number,componentId:i.string,_canFocus:i.bool},componentDidMount:function(){document.getElementById("ev-screen-container-"+this.props.componentId).scrollTop=0,this._objective&&this.props._canFocus&&this._objective.focus({preventScroll:!0})},getSpringFrom:function(e){const t={x:0,y:0,opacity:0};switch(e){case h.bottomLeft:case h.topLeft:case h.leftCenter:t.x=-50;break;case h.bottomRight:case h.topRight:case h.rightCenter:t.x=50;break;case h.center:case h.bottomCenter:t.y=50;break;case h.topCenter:t.y=-50}return t},getSpringTo:function(){return{x:0,y:0,opacity:1}},render:function(){const{position:e,text:t,width:n,mediaType:i,graphic:s={},icon:h}=this.props,p=d(e);return p.width=n+"px",o.createElement("div",{className:"ev-simulation-objective",style:p},o.createElement(r,{native:!0,from:this.getSpringFrom(e),to:this.getSpringTo(),config:a.default},({x:e,y:n,opacity:r})=>o.createElement(c.div,{className:"ev-simulation-objective-inner ev-focusable",style:{opacity:r,transform:l([e,n],(e,t)=>`translate(${e}px, ${t}px)`)},ref:e=>this._objective=e,tabIndex:"-1"},o.createElement("div",{className:"ev-simulation-objective-content"},"image"===i&&s.src&&o.createElement("div",{className:"ev-simulation-objective-media"},o.createElement("img",{src:u(s.src),alt:s.alt})),"icon"===i&&h&&o.createElement("div",{className:"ev-simulation-objective-media"},o.createElement("i",{className:"ev-icon ev-icon-"+h})),o.createElement(m,{className:"ev-simulation-objective-text",body:t})))))}});e.exports=p},2053:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),{Spring:r,config:a,animated:c,interpolate:l}=n(77),u=n(7),d=n(76),m=n(1492),h=n(33),{UI_LAYER_POSITIONS:p}=n(1378),S=s({displayName:"SimulationFeedback",propTypes:{type:i.string,text:i.string,mediaType:i.string,graphic:i.object,icon:i.string,position:i.string,width:i.number,onScreenFeedbackClosed:i.func.isRequired,isCorrect:i.bool,closeButtonAriaLabel:i.string},getDefaultProps:function(){return{type:"feedback",isCorrect:!1}},componentDidMount:function(){this._feedback&&this._feedback.focus({preventScroll:!0})},onNextClicked:function(e){e.preventDefault(),this.props.onScreenFeedbackClosed()},getSpringFrom:function(e){const t={x:0,y:0,opacity:0};switch(e){case p.bottomLeft:case p.topLeft:case p.leftCenter:t.x=-50;break;case p.bottomRight:case p.topRight:case p.rightCenter:t.x=50;break;case p.center:case p.bottomCenter:t.y=50;break;case p.topCenter:t.y=-50}return t},getSpringTo:function(){return{x:0,y:0,opacity:1}},render:function(){const{type:e,position:t,text:n,width:i,mediaType:s,graphic:p={},icon:S,isCorrect:b,closeButtonAriaLabel:g}=this.props,f=m(t);return f.width=i+"px",o.createElement("div",{className:u("ev-simulation-feedback",{"ev-is-correct":"feedback"===e&&b,"ev-is-incorrect":"feedback"===e&&!b,"ev-simulation-hint":"hint"===e}),style:f},o.createElement(r,{native:!0,from:this.getSpringFrom(t),to:this.getSpringTo(),config:a.default},({x:e,y:t,opacity:i})=>o.createElement(c.div,{className:"ev-simulation-feedback-inner ev-focusable",style:{opacity:i,transform:l([e,t],(e,t)=>`translate(${e}px, ${t}px)`)},ref:e=>this._feedback=e,tabIndex:"-1"},o.createElement("div",{className:"ev-simulation-feedback-content"},"image"===s&&p.src&&o.createElement("div",{className:"ev-simulation-feedback-media"},o.createElement("img",{src:d(p.src),alt:p.alt})),"icon"===s&&S&&o.createElement("div",{className:"ev-simulation-feedback-media"},o.createElement("i",{className:"ev-icon ev-icon-"+S})),o.createElement(h,{className:"ev-simulation-feedback-text",body:n})),o.createElement("button",{className:"ev-simulation-feedback-next-button",onClick:this.onNextClicked,"aria-label":g},o.createElement("i",{className:"ev-icon ev-icon-arrow-right"})))))}});e.exports=S},2054:function(e,t,n){"use strict";const o=n(31),i=n(2),s=n(1),r=n(0),a=n(2055),c=(n(7),i({displayName:"SimulationIndicator",propTypes:{screens:s.array.isRequired,currentScreenId:s.string.isRequired,showMarking:s.bool.isRequired,screenIndicatorPosition:s.string.isRequired,showScreenIndicatorTitle:s.bool.isRequired},getDefaultProps:function(){return{showMarking:!1,screenIndicatorPosition:"bottom",showScreenIndicatorTitle:!1}},renderItems:function(){const{screens:e,currentScreenId:t,showMarking:n,showScreenIndicatorTitle:i}=this.props;return o(e,(e,o)=>r.createElement(a,{key:e._id,index:o,isCurrentItem:e._id===t,isComplete:!!e._isComplete,isCorrect:!!e._isCorrect,showMarking:e.marking.isEnabled&&n,showScreenIndicatorTitle:i,screenTitle:e.title}))},render:function(){const{screenIndicatorPosition:e,maxWidth:t}=this.props;return r.createElement("div",{className:"ev-simulation-indicator ev-simulation-indicator-position-"+e,style:{maxWidth:t+"px"}},r.createElement("div",{className:"ev-simulation-indicator-items"},this.renderItems()))}}));e.exports=c},2055:function(e,t,n){"use strict";const o=n(2),i=n(1),s=n(0),r=n(7),a=o({displayName:"SimulationIndicatorItem",propTypes:{index:i.number.isRequired,isCurrentItem:i.bool.isRequired,isComplete:i.bool.isRequired,isCorrect:i.bool.isRequired,showMarking:i.bool.isRequired,showScreenIndicatorTitle:i.bool.isRequired,screenTitle:i.string},componentDidUpdate:function(e){const{isCurrentItem:t}=this.props;!e.isCurrentItem&&t&&this._indicator.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"})},renderIcon:function(){const{index:e,isCorrect:t,isComplete:n,showMarking:o}=this.props;return o&&n?s.createElement("i",{className:r("ev-icon",{"ev-icon-check":t,"ev-icon-cross":!t})}):s.createElement("div",{className:"ev-simulation-indicator-item-number"},e+1)},render:function(){const{isCurrentItem:e,isCorrect:t,isComplete:n,showMarking:o,showScreenIndicatorTitle:i,screenTitle:a}=this.props;return s.createElement("div",{ref:e=>this._indicator=e,className:r("ev-simulation-indicator-item-container",{"ev-is-complete-item":n,"ev-is-current-item":e&&!n,"ev-is-current-item-complete":e&&n,"ev-is-correct":o&&n&&t,"ev-is-incorrect":o&&n&&!t})},s.createElement("div",{className:"ev-simulation-indicator-item"},this.renderIcon()),i&&s.createElement("div",{className:"ev-simulation-indicator-item-title"},a),s.createElement("div",{className:"ev-simulation-indicator-item-bar"}))}});e.exports=a},2056:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),{Spring:r,config:a,animated:c,interpolate:l}=n(77),u=n(76),d=n(33),m=n(143),h=s({displayName:"SimulationIntro",propTypes:{intro:i.object,introStartButtonText:i.string.isRequired,onSimulationStart:i.func.isRequired},getDefaultProps:function(){return{introStartButtonText:"Start Simulation"}},componentDidMount:function(){this._intro&&this.props.intro._canFocus&&this._intro.focus({preventScroll:!0})},onSimulationStartClicked:function(e){e.preventDefault(),this.props.onSimulationStart()},renderMedia:function(e){const{mediaType:t,graphic:n={},icon:i,mediaPosition:s}=this.props.intro;if(e===s)return o.createElement(o.Fragment,null,"image"===t&&n.src&&o.createElement("div",{className:"ev-simulation-dialog-media ev-simulation-results-feedback-media"},o.createElement("img",{src:u(n.src),alt:n.alt})),"icon"===t&&i&&o.createElement("div",{className:"ev-simulation-dialog-media ev-simulation-results-feedback-media"},o.createElement("i",{className:"ev-icon ev-icon-"+i})))},render:function(){const{introStartButtonText:e,intro:t}=this.props,{title:n,body:i,mediaPosition:s}=t;return o.createElement(r,{native:!0,from:{opacity:0,y:-45},to:{opacity:1,y:-50},config:a.default},({opacity:t,y:r})=>o.createElement(c.div,{className:"ev-simulation-dialog ev-simulation-intro ev-focusable",style:{transform:l(r,e=>`translate(-50%, ${e}%)`),opacity:t},ref:e=>this._intro=e,tabIndex:"-1",role:"dialog"},o.createElement("div",{className:"ev-simulation-dialog-content-container ev-simulation-intro-content"},o.createElement("div",{className:"ev-simulation-dialog-content ev-simulation-intro-content ev-media-position-"+s},o.createElement("div",{className:"ev-simulation-dialog-content-inner ev-simulation-intro-content-inner"},o.createElement(m,{className:"ev-simulation-dialog-title ev-simulation-intro-title",displayTitle:n}),this.renderMedia("top"),o.createElement(d,{className:"ev-simulation-dialog-body ev-simulation-intro-body",body:i}),this.renderMedia("bottom")))),o.createElement("div",{className:"ev-simulation-dialog-actions ev-simulation-intro-actions"},o.createElement("button",{className:"ev-button",onClick:this.onSimulationStartClicked},o.createElement("span",null,e)))))}});e.exports=h},2057:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),{Spring:r,config:a,animated:c,interpolate:l}=n(77),u=n(2058),d=s({displayName:"SimulationResults",propTypes:{componentId:i.string.isRequired,isCorrect:i.bool,enableSimulationMarking:i.bool,markSelectedScreens:i.bool,markedScreenIds:i.array,feedback:i.object,correctFeedback:i.object,incorrectFeedback:i.object,showResultsRestartButton:i.bool.isRequired,resultsRestartButtonText:i.string.isRequired,onSimulationRestart:i.func.isRequired},getDefaultProps:function(){return{showResultsRestartButton:!1,resultsRestartButtonText:"Restart Simulation"}},componentDidMount:function(){this._results&&this._results.focus()},onSimulationRestartClicked:function(e){e.preventDefault();const{componentId:t,onSimulationRestart:n}=this.props;n({componentId:t})},getFeedback:function(){const{isCorrect:e,enableSimulationMarking:t,feedback:n,correctFeedback:o,incorrectFeedback:i}=this.props;return t?e?o:i:n},render:function(){const{showResultsRestartButton:e,resultsRestartButtonText:t}=this.props;return o.createElement(r,{native:!0,from:{opacity:0,y:-45},to:{opacity:1,y:-50},config:a.default},({opacity:n,y:i})=>o.createElement(c.div,{className:"ev-simulation-dialog ev-simulation-results ev-focusable",style:{transform:l(i,e=>`translate(-50%, ${e}%)`),opacity:n},ref:e=>this._results=e,tabIndex:"-1",role:"dialog"},o.createElement("div",{className:"ev-simulation-dialog-content-container ev-simulation-results-content"},o.createElement(u,this.getFeedback())),o.createElement("div",{className:"ev-simulation-dialog-actions ev-simulation-results-actions"},e&&o.createElement("button",{className:"ev-button ev-restart-button",autoFocus:!0,onClick:this.onSimulationRestartClicked},o.createElement("i",{className:"ev-icon ev-icon-arrow-left"}),o.createElement("span",null,t)))))}});e.exports=d},2058:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),r=n(76),a=n(33),c=n(143),l=s({displayName:"SimulationResultsFeedback",propTypes:{title:i.string,body:i.string,mediaType:i.string,graphic:i.object,icon:i.string,mediaPosition:i.string},renderMedia:function(e){const{mediaType:t,graphic:n={},icon:i,mediaPosition:s}=this.props;if(e===s)return o.createElement(o.Fragment,null,"image"===t&&n.src&&o.createElement("div",{className:"ev-simulation-dialog-media ev-simulation-results-feedback-media"},o.createElement("img",{src:r(n.src),alt:n.alt})),"icon"===t&&i&&o.createElement("div",{className:"ev-simulation-dialog-media ev-simulation-results-feedback-media"},o.createElement("i",{className:"ev-icon ev-icon-"+i})))},render:function(){const{title:e,body:t,mediaPosition:n}=this.props;return o.createElement("div",{className:"ev-simulation-dialog-content ev-simulation-results-feedback ev-media-position-"+n},o.createElement("div",{className:"ev-simulation-dialog-content-inner ev-simulation-results-feedback-content"},o.createElement(c,{className:"ev-simulation-dialog-title ev-simulation-results-feedback-title",displayTitle:e}),this.renderMedia("top"),o.createElement(a,{className:"ev-simulation-dialog-body ev-simulation-results-feedback-body",body:t}),this.renderMedia("bottom")))}});e.exports=l},2059:function(e,t,n){"use strict";const o=n(0),i=n(1),s=n(2),{SCREEN_STATE:r}=n(1378),a=s({displayName:"SimulationActionbar",propTypes:{componentId:i.string.isRequired,position:i.string.isRequired,screenState:i.string.isRequired,isFullscreen:i.bool.isRequired,maxWidth:i.number.isRequired,hint:i.object.isRequired,hintAvailable:i.bool.isRequired,showHintButtonAriaLabel:i.string,showInstructionsButton:i.bool.isRequired,instructionsLength:i.number.isRequired,showInstructionsButtonAriaLabel:i.string,showFullscreenButton:i.bool.isRequired,openFullScreenButtonAriaLabel:i.string,closeFullScreenButtonAriaLabel:i.string,onShowHint:i.func,onShowInstructions:i.func,onOpenFullscreen:i.func,onCloseFullscreen:i.func,showInstructionsIcon:i.string.isRequired,hintIcon:i.string.isRequired,openFullscreenIcon:i.string.isRequired,closeFullscreenIcon:i.string.isRequired},getDefaultProps:function(){return{position:"topRight",isFullscreen:!1,showInstructionsButton:!1,instructionsLength:0,showFullscreenButton:!1}},renderInstructionsButton:function(){const{showInstructionsButton:e,instructionsLength:t,showInstructionsButtonAriaLabel:n,screenState:i,onShowInstructions:s,showInstructionsIcon:a}=this.props;if(e)return o.createElement("button",{className:"ev-button ev-simulation-action-bar-button",onClick:s,"aria-label":n,disabled:0===t||i===r.showIntro||i===r.showInstructions||i===r.showFeedback||i===r.showResults},o.createElement("i",{className:"ev-icon ev-icon-"+a}))},renderHintButton:function(){const{hint:e,hintAvailable:t,screenState:n,onShowHint:i,showHintButtonAriaLabel:s,hintIcon:a}=this.props;if(e.isEnabled)return o.createElement("button",{className:"ev-button ev-simulation-action-bar-button",onClick:i,"aria-label":s,disabled:!t||n===r.showIntro||n===r.showInstructions||n===r.showHint||n===r.showFeedback||n===r.showResults},o.createElement("i",{className:"ev-icon ev-icon-"+a}))},renderOpenFullscreenButton:function(){const{showFullscreenButton:e,componentId:t,isFullscreen:n,onOpenFullscreen:i,openFullScreenButtonAriaLabel:s,openFullscreenIcon:r}=this.props;if(e&&!n)return o.createElement("button",{id:"ev-simulation-component-open-fullscreen-button-"+t,className:"ev-button ev-simulation-action-bar-button",onClick:i,"aria-label":s},o.createElement("i",{className:"ev-icon ev-icon-"+r}))},renderCloseFullscreenButton:function(){const{showFullscreenButton:e,isFullscreen:t,onCloseFullscreen:n,closeFullScreenButtonAriaLabel:i,closeFullscreenIcon:s}=this.props;if(e&&t)return o.createElement("button",{className:"ev-button ev-simulation-action-bar-button",onClick:n,"aria-label":i},o.createElement("i",{className:"ev-icon ev-icon-"+s}))},render:function(){const{position:e,maxWidth:t}=this.props;return o.createElement("div",{className:"ev-simulation-action-bar ev-simulation-action-bar-position-"+e,style:{maxWidth:t+"px"}},this.renderInstructionsButton(),this.renderHintButton(),this.renderOpenFullscreenButton(),this.renderCloseFullscreenButton())}});e.exports=a},2060:function(e,t,n){"use strict";const o=n(2),i=n(1),s=n(0),{connect:r}=n(6),a=n(1559),{closeFullScreen:c}=n(473),{setComponentAsStarted:l}=n(61),{onSimulationStart:u,onNextInstruction:d,onShowInstructions:m,onShowHint:h,onCloseHint:p,onUpdateElement:S,onUpdateVariable:b,onSubmitScreen:g,onResetElements:f,onEnableDisableElements:y,onShowHideElements:I,onNavigateNextScreen:E,onNavigateToScreen:v,onScreenFeedbackClosed:_,onSimulationScreenReady:R,onSimulationRestart:T}=n(1441),N=o({displayName:"SimulationFullscreen",propTypes:{componentId:i.string.isRequired,component:i.object.isRequired,theme:i.object,scrollbarWidth:i.number.isRequired,setComponentAsStarted:i.func.isRequired,onSimulationStart:i.func.isRequired,onNextInstruction:i.func.isRequired,onShowInstructions:i.func.isRequired,onShowHint:i.func.isRequired,onCloseHint:i.func.isRequired,onUpdateElement:i.func.isRequired,onUpdateVariable:i.func.isRequired,onSubmitScreen:i.func.isRequired,onResetElements:i.func.isRequired,onEnableDisableElements:i.func.isRequired,onShowHideElements:i.func.isRequired,onNavigateNextScreen:i.func.isRequired,onNavigateToScreen:i.func.isRequired,onScreenFeedbackClosed:i.func.isRequired,onSimulationScreenReady:i.func.isRequired,onSimulationRestart:i.func.isRequired,closeFullScreen:i.func.isRequired},render:function(){const{component:e,theme:t,scrollbarWidth:n,setComponentAsStarted:o,onSimulationStart:i,onNextInstruction:r,onShowInstructions:c,onShowHint:l,onCloseHint:u,onUpdateElement:d,onUpdateVariable:m,onSubmitScreen:h,onResetElements:p,onEnableDisableElements:S,onShowHideElements:b,onNavigateNextScreen:g,onNavigateToScreen:f,onScreenFeedbackClosed:y,onSimulationScreenReady:I,onSimulationRestart:E,closeFullScreen:v}=this.props;return s.createElement("div",{className:"ev-simulation-fullscreen"},s.createElement("div",{className:"ev-simulation-fullscreen-container"},s.createElement(a,{component:e,theme:t,scrollbarWidth:n,isFullscreen:!0,setComponentAsStarted:o,onSimulationStart:i,onNextInstruction:r,onShowInstructions:c,onShowHint:l,onCloseHint:u,onUpdateElement:d,onUpdateVariable:m,onSubmitScreen:h,onResetElements:p,onEnableDisableElements:S,onShowHideElements:b,onNavigateNextScreen:g,onNavigateToScreen:f,onScreenFeedbackClosed:y,onSimulationScreenReady:I,onSimulationRestart:E,closeFullScreen:v})))}});e.exports=r(({device:e,components:t,theme:n},o)=>({component:t[o.componentId],theme:n,scrollbarWidth:e.scrollbarWidth}),{setComponentAsStarted:l,onSimulationStart:u,onNextInstruction:d,onShowInstructions:m,onShowHint:h,onCloseHint:p,onUpdateElement:S,onUpdateVariable:b,onSubmitScreen:g,onResetElements:f,onEnableDisableElements:y,onShowHideElements:I,onNavigateNextScreen:E,onNavigateToScreen:v,onScreenFeedbackClosed:_,onSimulationScreenReady:R,onSimulationRestart:T,closeFullScreen:c})(N)},2061:function(e,t,n){"use strict";n(78);e.exports=(e,t)=>{const{device:n}=e;return{scrollbarWidth:n.scrollbarWidth,isWindowsTouchScreen:n.isWindowsTouchScreen}}},2062:function(e,t,n){"use strict";const o=n(31),i=n(10),s=n(18),r=n(173),a=n(301),c=n(32),l=n(57),u=n(11),d=n(517),m=n(8),{SETUP_COMPONENT:h}=n(61),{SIMULATION_START:p,SIMULATION_NEXT_INSTRUCTION:S,SIMULATION_SHOW_INSTRUCTIONS:b,SIMULATION_SHOW_HINT:g,SIMULATION_CLOSE_HINT:f,SIMULATION_UPDATE_ELEMENT:y,SIMULATION_UPDATE_VARIABLE:I,SIMULATION_SCREEN_TRIGGER_TRIGGERED:E,SIMULATION_SUBMIT_SCREEN:v,SIMULATION_SUBMIT_SCREEN_AND_NAVIGATE:_,SIMULATION_RESET_SCREENS:R,SIMULATION_RESET_ELEMENTS:T,SIMULATION_ENABLE_DISABLE_ELEMENTS:N,SIMULATION_SHOW_HIDE_ELEMENTS:C,SIMULATION_UPDATE_ELEMENTS:A,SIMULATION_NAVIGATE_NEXT_SCREEN:O,SIMULATION_NAVIGATE_TO_SCREEN:F,SIMULATION_SCREEN_FEEDBACK_CLOSED:x,SIMULATION_RESTART:q,SIMULATION_END:k}=n(1441),{SCREEN_STATE:w}=n(1378),M=n(2063),L=n(2072);function H(e,t=!1,n,s=!1){const{instructions:r,triggers:a}=e,c={variables:L(e.variables),triggers:o(a,e=>i({},e,{_triggeredCount:0,_isDisabled:!1})),_isComplete:!1,_isCorrect:!1,_attemptsTaken:0,_failedAttempts:0};return t&&n.showIntro?c.screenState=w.showIntro:r.length?(c.screenState=w.showInstructions,c.instructions=o(r,e=>i({},e,{_hasBeenViewed:!1})),c.instructions[0]._canFocus=!t||s,c.currentInstructionId=c.instructions[0]._id):c.screenState=w.showObjective,c}function B(e,t){const n=s(t,{_id:e._id});M.common.resetElement(e,n);const o=M[e.type];return o?o.resetElement(e,n):e}function U({component:e,payload:t={},isNext:n}){const{currentScreenId:r,screens:c}=e;let l;if(n){const e=a(c,{_id:r});l=c[e+1]}else l=s(c,{_id:t.nextScreenId});return l?i({},e,{currentScreenId:l._id,screens:o(c,e=>e._id===l._id?i({},e,H(e,!1)):e)}):e}function D({component:e,originalComponent:t,hasElementNavigation:n,payload:r}){const{currentScreenId:a,screens:d,elements:m,screenUnlimitedAttemptsEnabled:h,screenAttempts:p}=e,{originalElements:S}=t,b=s(d,{_id:a}),{marking:g={},_attemptsTaken:f,_failedAttempts:y,correctFeedback:I,incorrectFeedback:E,incorrectAttemptFeedback:v,variables:_}=b;let R,T,N=!1,C=!1,A=f,O=y,F=[],x=_;if(g.isEnabled){A+=1;let e=c(m,{screenId:a,isMarkable:!0});g.markSelectedElements&&(e=c(e,({_refId:e})=>l(g.markedElementIds,e))),u(e,e=>{const t=M[e.type];return t&&t.markElement?t.markElement(e):e});const t=c(e,{_isCorrect:!0});N=t.length===e.length,N?(C=!0,R=g.showCorrectFeedback?I:null,F=e):(O+=1,h||A<p?(C=!1,R=g.showIncorrectAttemptFeedback?v:null,R||(F=u(e,e=>B(e,S)),x=L(_),T=w.showObjective)):(C=!0,R=g.showIncorrectFeedback?E:null)),R&&(T=w.showFeedback)}else C=!0;return i({},e,{screens:o(d,e=>e._id===a?i({},e,{_isComplete:C,_isCorrect:N,_attemptsTaken:A,_failedAttempts:O,_feedback:R,screenState:T,variables:x,_hasElementNavigation:n,_elementNavigationPayload:r}):e),elements:o(m,e=>{const t=s(F,{_id:e._id});return t?i({},e,t):e})})}e.exports=(e,t)=>{const{originalComponent:n,payload:a}=t;switch(t.type){case h:return function({component:e,originalComponent:t}){const{screens:n,_isLivePreview:a}=e,{screens:c,elements:l,variables:u}=t;if(0===n.length)return e;e.elementsIndex||(e={...e,elementsIndex:r(l,(e,t,n)=>(e[t._id]=n,e),{})});if((e._canResumeOnRevisit||e._isComplete)&&e.currentScreenId)return e;let d=n[0]._id,m=!0;if(a){const e=s(n,{isPinned:!0});e&&(d=e._id,m=!1)}return i({},e,{currentScreenId:d,screens:o(c,t=>t._id===d?i({},t,H(t,m,e)):t),elements:o(l,e=>{const t=M[e.type];return t&&t.setupElement?t.setupElement(e):e}),variables:L(u)})}({component:e,originalComponent:n});case p:return function({component:e}){const{currentScreenId:t,screens:n}=e;return i({},e,{screens:o(n,e=>e._id===t?i({},e,H(e,!1)):e)})}({component:e});case S:return function({component:e}){const{screens:t,currentScreenId:n}=e,r=s(t,{_id:n}),{instructions:a,currentInstructionId:c,objective:l}=r,u=o(a,e=>e._id===c?i({},e,{_hasBeenViewed:!0,_canFocus:!1}):i({},e,{_canFocus:!1})),d={instructions:u},m=s(u,{_hasBeenViewed:!1});m?(d.currentInstructionId=m._id,m._canFocus=!0):(d.screenState=w.showObjective,d.objective=i({},l,{_canFocus:!0}));return i({},e,{screens:o(t,e=>e._id===n?i({},e,d):e)})}({component:e});case b:return function({component:e}){const{screens:t,currentScreenId:n}=e,r=s(t,{_id:n}),{instructions:a}=r,c={screenState:w.showInstructions,instructions:o(a,e=>i({},e,{_hasBeenViewed:!1})),currentInstructionId:a[0]._id};return c.instructions[0]._canFocus=!0,i({},e,{screens:o(t,e=>e._id===n?i({},e,c):e)})}({component:e});case g:return function({component:e}){const{currentScreenId:t,screens:n}=e;return i({},e,{screens:o(n,e=>e._id===t?i({},e,{screenState:w.showHint}):e)})}({component:e});case f:return function({component:e}){const{currentScreenId:t,screens:n}=e;return i({},e,{screens:o(n,e=>e._id===t?i({},e,{screenState:w.showObjective}):e)})}({component:e});case y:return function({component:e,payload:t}){const{elements:n}=e,{elementId:s,updateObject:r}=t;return i({},e,{elements:o(n,e=>e._id===s?i({},e,r):e)})}({component:e,payload:a});case I:return function({component:e,payload:t}){const{currentScreenId:n,screens:s,variables:r}=e,{variableId:a,value:c}=t;return i({},e,{variables:o(r,e=>e._id===a?i({},e,{value:c}):e),screens:o(s,e=>e._id===n?i({},e,{variables:o(e.variables,e=>e._id===a?i({},e,{value:c}):e)}):e)})}({component:e,payload:a});case E:return function({component:e,payload:t}){const{currentScreenId:n,screens:s}=e,{trigger:r}=t;return i({},e,{screens:o(s,e=>e._id===n?i({},e,{triggers:o(e.triggers,e=>{if(e._id===r._id){const t=e._triggeredCount+1;return i({},e,{_triggeredCount:t,_isDisabled:e.action.runOnce&&t>0})}return e})}):e)})}({component:e,payload:a});case v:return D({component:e,payload:a,originalComponent:n,hasElementNavigation:!1});case _:return D({component:e,payload:a,originalComponent:n,hasElementNavigation:!0});case R:return function({component:e,originalComponent:t,payload:n}){const{screens:r,elements:a}=e,{screens:c,elements:u}=t,{resetScreenIds:m}=n;return i({},e,{screens:o(r,t=>{if(l(m,t._id)){const n=s(c,{_id:t._id}),o=d(n);return i({},o,H(o,!1,e))}return t}),elements:o(a,e=>l(m,e.screenId)?B(e,u):e)})}({component:e,payload:a,originalComponent:n});case T:return function({component:e,originalComponent:t,payload:n}){const{elements:s,currentScreenId:r}=e,{elements:a}=t,{resetElementIds:c}=n;return i({},e,{elements:o(s,e=>r===e.screenId&&l(c,e._refId)?B(e,a):e)})}({component:e,payload:a,originalComponent:n});case N:return function({component:e,payload:t}){const{elements:n,currentScreenId:s}=e,{enableElementIds:r,disableElementIds:a}=t;return i({},e,{elements:o(n,e=>{if(s===e.screenId){if(l(r,e._refId))return i({},e,{disabled:!1});if(l(a,e._refId))return i({},e,{disabled:!0})}return e})})}({component:e,payload:a});case C:return function({component:e,payload:t}){const{elements:n,currentScreenId:s}=e,{showElementIds:r,hideElementIds:a}=t;return i({},e,{elements:o(n,e=>{if(s===e.screenId){if(l(r,e._refId))return i({},e,{isVisible:!0});if(l(a,e._refId))return i({},e,{isVisible:!1})}return e})})}({component:e,payload:a});case A:return{...e,elements:t.payload.elements};case O:return U({component:e,payload:a,isNext:!0});case F:return U({component:e,payload:a,isNext:!1});case x:return function({component:e,originalComponent:t}){const{currentScreenId:n,screens:r,elements:a}=e,{elements:c}=t,l=s(r,{_id:n}),{_isComplete:u=!1,variables:d}=l;if(!u)return i({},e,{screens:o(r,e=>e._id===n?i({},e,{screenState:w.showObjective,variables:L(d)}):e),elements:o(a,e=>e.screenId===n?B(e,c):e)});return e}({component:e,originalComponent:n});case q:return function({component:e,originalComponent:t,payload:n}){const{_isComplete:s,intro:r}=e,{isSoftRestart:a=!1}=n,{screens:c,elements:l,variables:u}=t,m=d(c),h=m[0]._id;return i({},e,{currentScreenId:h,screens:o(m,t=>t._id===h?i({},t,H(t,!0,e,!0)):t),elements:d(l),variables:d(u),intro:i({},r,{_canFocus:!0}),_isComplete:!!a&&s,_isCorrect:!1})}({component:e,payload:a,originalComponent:n});case k:return function({component:e}){const{currentScreenId:t,screens:n,enableSimulationMarking:s,markSelectedScreens:r,markedScreenIds:a,useScreenCorrectPercentage:u,screenCorrectPercentage:d=0}=e;let h=!1,p=0;if(s){let e=c(n,e=>m(e,"marking.isEnabled",!1));r&&a&&a.length&&(e=c(e,e=>l(a,e._id)));const t=c(e,{_isCorrect:!0});if(u){const n=Math.round(t.length/e.length*100);h=n>=d,p=n}else h=e.length===t.length}return i({},e,{screens:o(n,e=>e._id===t?i({},e,{screenState:w.showResults}):e),_isCorrect:h,_score:p})}({component:e});default:return e}}},2063:function(e,t,n){"use strict";e.exports={common:n(2064),button:n(2065),numberInput:n(2066),radioGroup:n(2067),select:n(2068),textArea:n(1576),textInput:n(1576),checkboxGroup:n(2069),dropDown:n(2070),toggleButton:n(2071)}},2064:function(e,t,n){"use strict";e.exports={resetElement:(e,t)=>(e.isVisible=t.isVisible,e.disabled=t.disabled,e)}},2065:function(e,t,n){"use strict";e.exports={markElement:e=>{const{condition:t={},_hasBeenClicked:n=!1}=e;let o=!1;switch(t.type){case"shouldBeClicked":o=n;break;case"shouldNotBeClicked":o=!n;break;case"canBeClicked":o=!0;break;default:o=!1}return e._isCorrect=o,e},resetElement:(e,t)=>(e._isCorrect=!1,e._hasInteracted=!1,e._hasBeenClicked=!1,e)}},2066:function(e,t,n){"use strict";const o=n(177),{COMPARISONS:i}=n(1378);e.exports={setupElement:e=>{const{defaultValue:t}=e;return e.value=o(t)?t:"",e},markElement:e=>{const{condition:t={},value:n}=e;let o=!1;switch(t.type){case"equalTo":o=n===t.value;break;case"notEqualTo":o=n!==t.value;break;case"greaterThan":o=n>t.value;break;case"greaterThanOrEqualTo":o=n>=t.value;break;case"lessThan":o=n<t.value;break;case"lessThanOrEqualTo":o=n<=t.value;break;default:o=!1}return e._isCorrect=o,e},resetElement:(e,t)=>{const{defaultValue:n}=e;return e._isCorrect=!1,e._hasInteracted=!1,e.value=o(n)?n:"",e}}},2067:function(e,t,n){"use strict";const o=n(18),i=n(31),s=n(10),{COMPARISONS:r,ELEMENT_TYPES:a}=n(1378);e.exports={setupElement:e=>{const{options:t=[]}=e,n=o(t,{isSelected:!0});return e._hasInteracted=!!n,e},markElement:e=>{const{options:t=[]}=e;return e._isCorrect=!!o(t,{isSelected:!0,isCorrect:!0}),e},resetElement:(e,t)=>{const{options:n=[]}=e;e._isCorrect=!1;const r=o(t.options,{isSelected:!0});return e._hasInteracted=!!r,e.options=i(n,e=>s({},e,{isSelected:!!r&&e._id===r._id})),e}}},2068:function(e,t,n){"use strict";const o=n(18),{COMPARISONS:i}=n(1378);e.exports={setupElement:e=>{const{options:t=[]}=e;if(t.length){let n=o(t,{isSelected:!0});n?e._hasInteracted=!0:n=t[0],e.value=n._id}return e},markElement:e=>{const{options:t=[],value:n}=e,i=o(t,{isCorrect:!0});return e._isCorrect=!!i&&i._id===n,e},resetElement:function(e,t){return e._isCorrect=!1,this.setupElement(e)}}},2069:function(e,t,n){"use strict";const o=n(18),i=n(502),s=n(31),{COMPARISONS:r}=n(1378),a=e=>{const{options:t=[]}=e,n=o(t,{isSelected:!0});return e._hasInteracted=!!n,e};e.exports={setupElement:a,markElement:e=>{const{options:t=[]}=e;return e._isCorrect=i(t,e=>!e.isCorrect||e.isSelected),e},resetElement:(e,t)=>(e._isCorrect=!1,e.options=s(t.options,e=>({...e})),a(e))}},2070:function(e,t,n){"use strict";const o=n(18),{COMPARISONS:i}=n(1378);e.exports={setupElement:e=>{const{options:t=[]}=e;if(t.length){let n=o(t,{isSelected:!0});n&&(e._hasInteracted=!0,e.value=n._id)}return e},markElement:e=>{const{options:t=[],value:n}=e,i=o(t,{isCorrect:!0});return e._isCorrect=!!i&&i._id===n,e},resetElement:function(e,t){return e._isCorrect=!1,this.setupElement(e)}}},2071:function(e,t,n){"use strict";e.exports={markElement:e=>{const{condition:t={},isToggledOn:n=!1}=e;let o=!1;switch(t.type){case"shouldBeToggledOn":o=n;break;case"shouldBeToggledOff":o=!n;break;case"canBeToggled":o=!0;break;default:o=!1}return e._isCorrect=o,e},resetElement:(e,t)=>(e._isCorrect=!1,e._hasInteracted=!1,e.isToggledOn=t.isToggledOn,e)}},2072:function(e,t,n){"use strict";const o=n(31),i=n(10);e.exports=function(e){return o(e,e=>{const{type:t,defaultValue:n}=e;let o;switch(t){case"string":o=n||"";break;case"number":o=n||0;break;case"boolean":o=n||!1;break;default:o=void 0}return i({},e,{value:o})})}},2073:function(e,t,n){"use strict";const o=n(2074);e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_score:{fieldKey:"_score",type:"Number",shouldRestore:!0},currentScreenId:{fieldKey:"currentScreenId",type:"String",shouldRestore:!0},screens:{fieldKey:"screens",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},screenState:{fieldKey:"screenState",type:"String",shouldRestore:!0},currentInstructionId:{fieldKey:"currentInstructionId",type:"String",shouldRestore:!0},_isComplete:{fieldKey:"_isComplete",type:"Boolean",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0},_failedAttempts:{fieldKey:"_failedAttempts",type:"Number",shouldRestore:!0},instructions:{fieldKey:"instructions",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},_hasBeenViewed:{fieldKey:"_hasBeenViewed",type:"Boolean",shouldRestore:!0}}},variables:{fieldKey:"variables",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},value:{fieldKey:"value",shouldRestore:!0}}},triggers:{fieldKey:"triggers",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},_triggeredCount:{fieldKey:"_triggeredCount",type:"Number",shouldRestore:!0},_isDisabled:{fieldKey:"_isDisabled",type:"Boolean",shouldRestore:!0}}}}},elements:{fieldKey:"elements",type:"Array",shouldRestore:!0,subMap:e=>o[e.type]||o.common},variables:{fieldKey:"variables",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},value:{fieldKey:"value",shouldRestore:!0}}}}},2074:function(e,t,n){"use strict";const o=n(98),i=n(2075),s=o({button:n(2076),checkboxGroup:n(2077),dropDown:n(2078),numberInput:n(2079),radioGroup:n(2080),select:n(2081),textArea:n(2082),textInput:n(2083),toggleButton:n(2084)},e=>({...i,...e}));s.common=i,e.exports=s},2075:function(e,t,n){"use strict";e.exports={_id:{fieldKey:"_id",type:"String",shouldRestore:!1},type:{fieldKey:"type",type:"String",shouldRestore:!1},isVisible:{fieldKey:"isVisible",type:"Boolean",shouldRestore:!0},disabled:{fieldKey:"disabled",type:"Boolean",shouldRestore:!0}}},2076:function(e,t,n){"use strict";e.exports={_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0},_hasBeenClicked:{fieldKey:"_hasBeenClicked",type:"Boolean",shouldRestore:!0}}},2077:function(e,t,n){"use strict";e.exports={_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0},options:{fieldKey:"options",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},isSelected:{fieldKey:"isSelected",type:"Boolean",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0}}}}},2078:function(e,t,n){"use strict";e.exports={value:{fieldKey:"value",type:"String",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0},options:{fieldKey:"options",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},isSelected:{fieldKey:"isSelected",type:"Boolean",shouldRestore:!0}}}}},2079:function(e,t,n){"use strict";e.exports={value:{fieldKey:"value",type:"Number",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0}}},2080:function(e,t,n){"use strict";e.exports={value:{fieldKey:"value",type:"String",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0},options:{fieldKey:"options",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},isSelected:{fieldKey:"isSelected",type:"Boolean",shouldRestore:!0},isCorrect:{fieldKey:"isCorrect",type:"Boolean",shouldRestore:!0}}}}},2081:function(e,t,n){"use strict";e.exports={_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0},options:{fieldKey:"options",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},isSelected:{fieldKey:"isSelected",type:"Boolean",shouldRestore:!0},isCorrect:{fieldKey:"isCorrect",type:"Boolean",shouldRestore:!0}}}}},2082:function(e,t,n){"use strict";e.exports={value:{fieldKey:"value",type:"String",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0}}},2083:function(e,t,n){"use strict";e.exports={value:{fieldKey:"value",type:"String",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0}}},2084:function(e,t,n){"use strict";e.exports={_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_hasInteracted:{fieldKey:"_hasInteracted",type:"Boolean",shouldRestore:!0},isToggledOn:{fieldKey:"isToggledOn",type:"Boolean",shouldRestore:!0}}},2085:function(e,t,n){"use strict";const o=n(18),i=n(301),s=n(10),r=n(39),{Observable:a}=n(5),{setComponentAsComplete:c,componentTrackableChange:l}=n(61),u=n(218),{SIMULATION_SCREEN_READY:d,SIMULATION_SUBMIT_SCREEN:m,SIMULATION_SUBMIT_SCREEN_AND_NAVIGATE:h,SIMULATION_NAVIGATE_NEXT_SCREEN:p,SIMULATION_NAVIGATE_TO_SCREEN:S,SIMULATION_SCREEN_FEEDBACK_CLOSED:b,SIMULATION_RESTART:g,SIMULATION_END:f,SIMULATION_UPDATE_VARIABLE:y,onNavigateNextScreen:I,onNavigateToScreen:E,onSimulationEnd:v,onSimulationRestart:_,onResetScreens:R,onSimulationTriggerTriggered:T}=n(1441),N=n(2086);t.simulationSubmitScreenEpic=(e,t)=>e.ofType(m,h,b).mergeMap(({type:e,payload:n})=>{const{components:s}=t.getState(),{componentId:r}=n,l=s[r],{currentScreenId:u,screens:d}=l,b=o(d,{_id:u}),{marking:y={},actions:T={},_isComplete:N=!1,_isCorrect:C=!1,_hasElementNavigation:A=!1,_elementNavigationPayload:O={}}=b,{showCorrectFeedback:F=!1,showIncorrectFeedback:x=!1}=y;if(!N||(e===m||e===h)&&y.isEnabled&&(F&&C||x&&!C))return a.empty();const q=[];let k;if(k=y.isEnabled?C?T.correctAction:T.incorrectAction:T.defaultAction,A){const{navigateScreenId:e,isResetScreensEnabled:t,resetScreenIds:n}=O;e&&q.push(E({componentId:r,nextScreenId:e})),t&&n&&n.length&&q.push(R({componentId:r,resetScreenIds:n})),k!==f||l._isComplete||q.push(c(r))}else{switch(k){case p:i(d,{_id:u})+1<d.length?q.push(I({componentId:r})):q.push(v({componentId:r}),c(r));break;case S:{let e;e=y.isEnabled?C?T.navigateCorrectScreenId:T.navigateIncorrectScreenId:T.navigateScreenId,e&&q.push(E({componentId:r,nextScreenId:e}));break}case g:q.push(_({componentId:r}));break;case f:q.push(v({componentId:r}),c(r))}if(y.isEnabled&&T.isResetScreensEnabled){const e=C?T.resetScreenIdsCorrect:T.resetScreenIdsIncorrect;e&&e.length&&q.push(R({componentId:r,resetScreenIds:e}))}}return 0===q.length?a.empty():a.of(...q)}),t.simulationTriggerEpic=(e,t)=>e.ofType(y,d,m,b,g).mergeMap(({type:e,payload:n})=>{const{componentId:i,variableId:r}=n,{components:c}=t.getState(),l=c[i],{currentScreenId:u,screens:h,variables:p}=l,S=o(h,{_id:u}),{marking:f,_isComplete:y}=S;let I=!1;switch(e){case d:case g:I=!0;break;case m:y||!f.isEnabled||f.showIncorrectAttemptFeedback||(I=!0);break;case b:y||(I=!0);break;default:I=!1}return a.from(S.triggers).filter(({conditions:e})=>!(!e||!e.length)&&N(I,e,r,[...p,...S.variables])).mergeMap(e=>{const{type:t,payload:n}=e.action;return!e._isDisabled&&t?(console.log("simulation:trigger:"+e._id,e.action),a.of({type:t,payload:s({},n,{componentId:i})},T({componentId:i,trigger:e}))):a.empty()})}),t.simulationTrackableChangeEpic=e=>e.ofType(g,p,S).map(e=>l(e.payload.componentId)),t.simulationPreloadScreenImagesEpic=e=>e.ofType(d).do(({component:e})=>{const t=i(e.screens,{_id:e.currentScreenId});r(e.screens).drop(t+1).take(5).forEach(e=>{e.graphic&&e.graphic.src&&u(e.graphic.src)}).commit()}).ignoreElements()},2086:function(e,t,n){"use strict";const o=n(32),i=n(18),s=n(490),r=n(1577),a=n(57),c=n(1396),l=n(326);e.exports=function(e,t,n,u){const d=o(t,{variableId:n});if(!e&&!d.length)return!1;return o(t,({variableId:e,comparison:t,value:n,isStrict:o})=>{const d=i(u,{_id:e});return!!d&&function(e,t,n,o,i){switch(e){case"string":return function(e,t,n,o){e=o?e:s(r(e)),n=o?n:s(r(n));let i=!1;switch(t){case"equalTo":i=e===n;break;case"notEqualTo":i=e!==n;break;case"contains":i=a(e,n);break;case"minCharacterLength":{const t=c(parseInt(n))?0:parseInt(n);i=e.length>=t;break}case"anyValue":i=e.length>0;break;case"noValue":i=0===e.length;break;default:i=!1}return i}(t,n,o,i);case"number":return function(e,t,n){n=c(parseInt(n))?0:parseInt(n);let o=!1;switch(t){case"equalTo":o=e===n;break;case"notEqualTo":o=e!==n;break;case"greaterThan":o=e>n;break;case"greaterThanOrEqualTo":o=e>=n;break;case"lessThan":o=e<n;break;case"lessThanOrEqualTo":o=e<=n;break;default:o=!1}return o}(t,n,o);case"boolean":return function(e,t){e=l(e)?e:!!e;let n=!1;switch(t){case"isTrue":n=!0===e;break;case"isFalse":n=!1===e;break;default:n=!1}return n}(t,n);default:return!1}}(d.type,d.value,t,n,o)}).length===t.length}}}]);