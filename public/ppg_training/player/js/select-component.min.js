(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{1287:function(e,t,n){"use strict";const{registerComponent:s}=n(4),o=n(2043),i=n(2044),{saveUserAnswer:r,editUserAnswer:a}=n(1558);s("select",{component:o,actions:{saveUserAnswer:r,editUserAnswer:a},reducer:i,mapStateToProps:n(2045),trackingMap:n(2046)})},1370:function(e,t,n){"use strict";const s=n(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,n){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:s}=e;return!0===s&&!0===n._isReady&&!0!==n[t]}},1372:function(e,t,n){"use strict";e.exports=function(e,t,n,s,o){s&&s.props&&s.props.component?(t.top&&(s.isInviewTop=!0),t.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&o&&o(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1491:function(e,t,n){"use strict";const s=n(2),o=n(1),i=n(0),r=n(7),a=n(1489).default,c=s({displayName:"Select",propTypes:{name:o.string.isRequired,options:o.array.isRequired,value:o.any,onChange:o.func.isRequired,placeholder:o.string,className:o.string,searchable:o.bool,clearable:o.bool,multi:o.bool,isLoading:o.bool,isDisabled:o.bool,ariaLabel:o.string,onMouseEnter:o.func,onMouseLeave:o.func,onFocus:o.func,onBlur:o.func,wrapperStyle:o.object,menuStyle:o.object,optionComponent:o.func,noResultsText:o.string,iconSize:o.number,tabIndex:o.number},getDefaultProps:function(){return{placeholder:"",searchable:!0,clearable:!0,multi:!1,isLoading:!1,tabIndex:0}},getInitialState:function(){return{_isOpen:!1}},onChange:function(e){const{multi:t}=this.props;t&&(e=e?e.split(","):[]),this.props.onChange(e)},render:function(){const{name:e,className:t,value:n,options:s,placeholder:o,searchable:c,clearable:u,multi:l,isLoading:p,isDisabled:d,ariaLabel:m,onMouseEnter:b,onMouseLeave:_,onFocus:h,onBlur:S,wrapperStyle:E,menuStyle:v,optionComponent:w,noResultsText:f,iconSize:A,tabIndex:C}=this.props,{_isOpen:g}=this.state;let y={};return A&&(y={fontSize:A+"px",width:A+"px",height:A+"px"}),i.createElement("div",{className:r("ev-select",t),onMouseEnter:b,onMouseLeave:_},i.createElement(a,{name:e,value:n,onChange:this.onChange,onFocus:h,onBlur:S,options:s,placeholder:o,searchable:c,clearable:u,multi:l,simpleValue:!0,isLoading:p,disabled:d,"aria-label":m,wrapperStyle:E,menuStyle:v,optionComponent:w,noResultsText:f,tabIndex:C,arrowRenderer:()=>i.createElement("i",{className:r("ev-select-icon ev-icon",{"ev-icon-chevron-down":!g,"ev-icon-chevron-up":g}),style:y}),clearRenderer:()=>i.createElement("i",{className:"ev-select-icon ev-icon ev-icon-cross",style:y}),onOpen:()=>{this.setState({_isOpen:!0})},onClose:()=>{this.setState({_isOpen:!1})}}))}});e.exports=c},1558:function(e,t,n){"use strict";t.SELECT_SAVE_USER_ANSWER="SELECT_SAVE_USER_ANSWER",t.SELECT_EDIT_USER_ANSWER="SELECT_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.SELECT_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.SELECT_EDIT_USER_ANSWER,payload:e})},2043:function(e,t,n){"use strict";const s=n(2),o=n(1),i=n(0),r=n(7),{Component:a}=n(468),c=n(1491),u=n(1370),l=n(1371),p=n(1372),d=s({displayName:"SelectComponent",propTypes:{component:o.object.isRequired,setComponentAsReady:o.func.isRequired,setComponentAsViewed:o.func.isRequired,setComponentAsComplete:o.func.isRequired,saveUserAnswer:o.func.isRequired,editUserAnswer:o.func.isRequired,updateVariable:o.func.isRequired,styles:o.object,articleStyle:o.string.isRequired,theme:o.object.isRequired},getInitialState:function(){return{_userAnswer:this.props.component._userAnswer,_previousUserAnswer:void 0}},componentDidMount:function(){this.props.setComponentAsReady(this.props.component._id)},componentDidUpdate:function(e,t){const{_userAnswer:n}=this.state;n===t._userAnswer||this.hasSubmitButton()||this.submitAnswer()},hasSubmitButton:function(){return""!==this.props.component.submitButtonText},submitAnswer:function(){const{props:e,state:t}=this;e.saveUserAnswer({componentId:e.component._id,userAnswer:t._userAnswer}),e.setComponentAsComplete(e.component._id,{_isSubmitted:!0}),e.component._canSaveToVariable&&e.updateVariable(e.component._variableId,t._userAnswer,e.component._variableUpdateType,t._previousUserAnswer)},onSelectChange:function(e){this.setState({_userAnswer:e})},onSubmitClicked:function(e){e.preventDefault(),this.submitAnswer()},onEditClicked:function(e){e.preventDefault();const{props:t,state:n}=this;this.setState({_previousUserAnswer:n._userAnswer}),t.editUserAnswer({componentId:t.component._id})},onVisibilityChange:function(...e){p(...e,this,this.props.setComponentAsViewed)},getButtonSettings:function(){const{articleStyle:e,theme:t}=this.props;let n=t._button._settings;if(e&&"none"!==e){n=t._articleStyles[e]._elements._button._settings}return n},renderSubmittedLabel:function(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return i.createElement("div",{className:"ev-label"},t)},renderButtons:function(){const{submitButtonText:e,editButtonText:t,_isEditing:n,_isComplete:s,_allowEditing:o}=this.props.component,{_userAnswer:a}=this.state,{_isActionButtonOnRight:c}=this.getButtonSettings(),u=(!s||n)&&this.hasSubmitButton(),l=o&&s&&!n;if(u||l)return i.createElement("div",{className:r("ev-buttons",{"ev-switch-buttons":c})},u&&i.createElement("button",{className:"ev-button ev-button-submit",onClick:this.onSubmitClicked,disabled:!a},e),l&&i.createElement("button",{className:"ev-button ev-button-edit",onClick:this.onEditClicked},t))},render:function(){const{_id:e,_items:t,_isComplete:n,_isEditing:s,placeholder:o,selectAriaLabel:r}=this.props.component,p=t.map(({text:e,value:t})=>({label:e,value:t||e}));return i.createElement(a,{component:this.props.component,styles:this.props.styles,isVisibilitySensorActive:l(this.props),onVisibilityChange:this.onVisibilityChange},i.createElement("div",null,i.createElement("div",{className:u(this.props.component)},i.createElement(c,{name:"select-"+e,value:this.state._userAnswer,onChange:this.onSelectChange,options:p,placeholder:o,isDisabled:n&&!s,searchable:!1,clearable:!1,ariaLabel:r}),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=d},2044:function(e,t,n){"use strict";const{SELECT_SAVE_USER_ANSWER:s,SELECT_EDIT_USER_ANSWER:o}=n(1558);e.exports=function(e,t){switch(t.type){case s:return{...e,_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1};case o:return{...e,_isEditing:!0,_isSubmitted:!1};default:return e}}},2045:function(e,t,n){"use strict";const s=n(78);e.exports=(e,t)=>({articleStyle:s(e,t,"article")._classes})},2046:function(e,t,n){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"String",shouldRestore:!0}}}}]);