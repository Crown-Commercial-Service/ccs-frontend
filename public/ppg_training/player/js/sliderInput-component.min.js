(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1291:function(e,t,s){"use strict";const{registerComponent:n}=s(4),i=s(2093),r=s(2094),{saveUserAnswer:o,editUserAnswer:a}=s(1580);n("sliderInput",{component:i,actions:{saveUserAnswer:o,editUserAnswer:a},reducer:r,mapStateToProps:s(2095),trackingMap:s(2096)})},1370:function(e,t,s){"use strict";const n=s(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,s){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:s,isPageReady:n}=e;return!0===n&&!0===s._isReady&&!0!==s[t]}},1372:function(e,t,s){"use strict";e.exports=function(e,t,s,n,i){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&i&&i(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1398:function(e,t,s){"use strict";const n=s(217),i=s(2),r=s(1),o=s(0),a=s(309),l=s(7),u=i({displayName:"RangeSlider",propTypes:{labels:r.shape({min:r.string.isRequired,max:r.string.isRequired,selected:r.string.isRequired,aria:r.string}),defaultValue:r.number,value:r.number,min:r.number.isRequired,max:r.number.isRequired,step:r.number.isRequired,onChange:r.func.isRequired,onAfterChange:r.func,onBeforeChange:r.func,onSliderClick:r.func,isDisabled:r.bool.isRequired,isRTL:r.bool,onReady:r.func},componentDidMount(){this._isMounted=!0,n(()=>{this._isMounted&&(this.props.onReady&&this.props.onReady(),this._slider&&this._slider._resize())},500)},componentWillUnmount(){this._isMounted=!1},getDefaultProps:()=>({isDisabled:!1}),renderRangeLabels(){if(this.props.labels)return o.createElement("div",{className:"ev-rangeslider-range-labels"},o.createElement("div",{className:"ev-rangeslider-range-labels-inner ev-clearfix"},o.createElement("div",{className:"ev-rangeslider-range-min ev-label"},o.createElement("span",null,this.props.labels.min)),o.createElement("div",{className:"ev-rangeslider-range-max ev-label"},o.createElement("span",null,this.props.labels.max))))},renderSelectedLabel(){var e;if(null!==(e=this.props.labels)&&void 0!==e&&e.selected)return o.createElement("div",{className:"ev-rangeslider-range-current-value ev-label"},o.createElement("span",{className:"ev-rangeslider-range-current-value-text"},this.props.labels.selected),o.createElement("span",{className:"ev-rangeslider-range-current-value-number"},this.props.value))},render(){var e;const{props:t}=this;return o.createElement("div",{className:"ev-rangeslider-container"},this.renderRangeLabels(),o.createElement("div",{className:"ev-slider-container"},o.createElement(a,{ariaLabel:null===(e=t.labels)||void 0===e?void 0:e.aria,ref:e=>this._slider=e,value:t.value,defaultValue:t.defaultValue,min:t.min,max:t.max,step:t.step,onChange:t.onChange,onAfterChange:t.onAfterChange,onBeforeChange:t.onBeforeChange,onSliderClick:t.onSliderClick,withBars:!0,className:l("ev-rangeslider",{"ev-rangeslider--disabled":t.isDisabled}),handleClassName:"ev-rangeslider__handle",barClassName:"ev-rangeslider__bar",disabled:t.isDisabled,invert:t.isRTL}),this.renderSelectedLabel()))}});e.exports=u},1580:function(e,t,s){"use strict";t.SLIDERINPUT_SAVE_USER_ANSWER="SLIDERINPUT_SAVE_USER_ANSWER",t.SLIDERINPUT_EDIT_USER_ANSWER="SLIDERINPUT_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.SLIDERINPUT_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.SLIDERINPUT_EDIT_USER_ANSWER,payload:e})},2093:function(e,t,s){"use strict";const n=s(308),i=s(2),r=s(1),o=s(0),a=s(7),{Component:l}=s(468),u=s(1398),c=s(1370),d=s(1371),p=s(1372),m=i({displayName:"SliderInput",propTypes:{component:r.object.isRequired,setComponentAsReady:r.func.isRequired,setComponentAsViewed:r.func.isRequired,setComponentAsComplete:r.func.isRequired,saveUserAnswer:r.func.isRequired,editUserAnswer:r.func.isRequired,updateVariable:r.func.isRequired,styles:r.object,articleStyle:r.string.isRequired,theme:r.object.isRequired,isRTL:r.bool},getInitialState(){const{_userAnswer:e,_defaultValue:t}=this.props.component;return{_userAnswer:n(e)?t:e,_previousUserAnswer:void 0}},componentDidMount(){this.props.setComponentAsReady(this.props.component._id),this.hasSubmitButton()||this.saveToVariable()},componentDidUpdate(e,t){const{_userAnswer:s}=this.state;s===t._userAnswer||this.hasSubmitButton()||this.saveToVariable()},hasSubmitButton(){return""!==this.props.component.submitButtonText},saveToVariable(){const{props:e,state:t}=this;e.component._canSaveToVariable&&e.updateVariable(e.component._variableId,t._userAnswer,e.component._variableUpdateType,t._previousUserAnswer)},submitAnswer(){const{props:e,state:t}=this;e.saveUserAnswer({componentId:e.component._id,userAnswer:t._userAnswer}),e.setComponentAsComplete(e.component._id,{_isSubmitted:!0})},onSliderChanging(e){this.setState({_userAnswer:e})},onSliderChanged(){this.hasSubmitButton()||this.submitAnswer()},onSubmitClicked(e){e.preventDefault(),this.saveToVariable(),this.submitAnswer()},onEditClicked(e){e.preventDefault();const{props:t,state:s}=this;this.setState({_previousUserAnswer:s._userAnswer}),t.editUserAnswer({componentId:t.component._id})},onVisibilityChange(...e){p(...e,this,this.props.setComponentAsViewed)},getButtonSettings(){const{articleStyle:e,theme:t}=this.props;let s=t._button._settings;if(e&&"none"!==e){s=t._articleStyles[e]._elements._button._settings}return s},renderSubmittedLabel(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return o.createElement("div",{className:"ev-label"},t)},renderButtons(){const{submitButtonText:e,editButtonText:t,_isEditing:s,_isComplete:n,_allowEditing:i}=this.props.component,{_userAnswer:r}=this.state,{_isActionButtonOnRight:l}=this.getButtonSettings(),u=(!n||s)&&this.hasSubmitButton(),c=i&&n&&!s;if(u||c)return o.createElement("div",{className:a("ev-buttons",{"ev-switch-buttons":l})},u&&o.createElement("button",{className:"ev-button ev-button-submit",onClick:this.onSubmitClicked,disabled:""===r},e),c&&o.createElement("button",{className:"ev-button ev-button-edit",onClick:this.onEditClicked},t))},render(){const{props:e,state:t}=this;return o.createElement(l,{component:e.component,styles:e.styles,isVisibilitySensorActive:d(e),onVisibilityChange:this.onVisibilityChange},o.createElement("div",null,o.createElement("div",{className:c(e.component)},o.createElement(u,{value:t._userAnswer,onChange:this.onSliderChanging,onAfterChange:this.onSliderChanged,isDisabled:e.component._isComplete&&!e.component._isEditing,defaultValue:e.component._defaultValue,min:e.component._minValue,max:e.component._maxValue,step:e.component._step,labels:e.component._labels,isRTL:e.isRTL}),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=m},2094:function(e,t,s){"use strict";const n=s(10),{SLIDERINPUT_SAVE_USER_ANSWER:i,SLIDERINPUT_EDIT_USER_ANSWER:r}=s(1580);e.exports=function(e,t){switch(t.type){case i:return n({},e,{_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1});case r:return n({},e,{_isEditing:!0,_isSubmitted:!1});default:return e}}},2095:function(e,t,s){"use strict";const n=s(78);e.exports=(e,t)=>({articleStyle:n(e,t,"article")._classes})},2096:function(e,t,s){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"Number",shouldRestore:!0}}}}]);