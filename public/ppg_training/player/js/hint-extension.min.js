(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{1325:function(e,t,n){"use strict";const{registerEpics:i,registerReducer:o}=n(4),{registerElementsEpic:s}=n(2261);o("hint",n(2265)),i(s)},1385:function(e,t,n){"use strict";n.r(t),n.d(t,"IGNORE_CLASS_NAME",(function(){return h}));var i=n(0),o=n(48);function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var u,a,l=(void 0===u&&(u=0),function(){return++u}),p={},d={},f=["touchstart","touchmove"],h="ignore-react-onclickoutside";function m(e,t){var n=null;return-1!==f.indexOf(t)&&a&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,u,f=e.displayName||e.name||"Component";return u=n=function(n){var u,h;function O(e){var i;return(i=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof i.__clickOutsideHandlerProp){var t=i.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+f+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else i.__clickOutsideHandlerProp(e)},i.__getComponentNode=function(){var e=i.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(o.findDOMNode)(e)},i.enableOnClickOutside=function(){if("undefined"!=typeof document&&!d[i._uid]){void 0===a&&(a=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),d[i._uid]=!0;var e=i.props.eventTypes;e.forEach||(e=[e]),p[i._uid]=function(e){var t;null!==i.componentNode&&(i.props.preventDefault&&e.preventDefault(),i.props.stopPropagation&&e.stopPropagation(),i.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&c(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,i.componentNode,i.props.outsideClickIgnoreClass)===document&&i.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,p[i._uid],m(r(i),e))}))}},i.disableOnClickOutside=function(){delete d[i._uid];var e=p[i._uid];if(e&&"undefined"!=typeof document){var t=i.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,m(r(i),t))})),delete p[i._uid]}},i.getRef=function(e){return i.instanceRef=e},i._uid=l(),i}h=n,(u=O).prototype=Object.create(h.prototype),u.prototype.constructor=u,s(u,h);var g=O.prototype;return g.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},g.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+f+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},g.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},g.componentWillUnmount=function(){this.disableOnClickOutside()},g.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,i,o={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(i.createElement)(e,n)},O}(i.Component),n.displayName="OnClickOutside("+f+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:h,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},u}},1598:function(e,t,n){"use strict";t.OPEN_HINT="OPEN_HINT",t.CLOSE_HINT="CLOSE_HINT",t.openHint=e=>({type:t.OPEN_HINT,payload:e}),t.closeHint=()=>({type:t.CLOSE_HINT})},2261:function(e,t,n){"use strict";const i=n(10),o=n(8),{SETUP_APP:s}=n(9),{addElement:r}=n(42),c=n(2262);t.registerElementsEpic=(e,t)=>e.filter(e=>{if(e.type!==s)return!1;const{course:n}=t.getState();return n._hint&&n._hint._isEnabled}).map(()=>{const{course:e,theme:n}=t.getState(),s=i({},e._hint,{hintThemeSettings:o(n,"_extensions._hint._settings",{})});return r({name:"hint",component:c,props:s,parent:"component",position:"inner"})})},2262:function(e,t,n){"use strict";const i=n(2),{connect:o}=n(6),s=n(0),{openHint:r,closeHint:c}=n(1598),u=n(2263),a=i({displayName:"HintContainer",render:function(){const{props:e}=this;return e.component._hint&&e.component._hint._isEnabled?s.createElement(u,e):null}});e.exports=o((e,t)=>({isOpen:e.hint===t.component._id}),{openHint:r,closeHint:c})(a)},2263:function(e,t,n){"use strict";const i=n(2),o=n(1),s=n(0),r=n(7),c=n(1385).default,u=n(2264),a=i({displayName:"Hint",propTypes:{isOpen:o.bool.isRequired,hintButtonAriaLabel:o.string.isRequired,closeHintButtonAriaLabel:o.string,hintThemeSettings:o.shape({_hintOpenIcon:o.string,_hintCloseIcon:o.string,_shouldUseButtonStyles:o.bool}).isRequired,component:o.object.isRequired,openHint:o.func.isRequired,closeHint:o.func.isRequired},onClick:function(){const{props:e}=this;e.isOpen?e.closeHint():e.openHint(e.component._id)},handleClickOutside:function(){const{props:e}=this;e.isOpen&&e.closeHint()},getIconClassName:function(){const{state:e,props:t}=this;let n=t.isOpen?t.hintThemeSettings._hintCloseIcon:t.hintThemeSettings._hintOpenIcon;return n||(n=t.isOpen?"cross":"question"),r("ev-icon","ev-icon-"+n)},getAriaLabel:function(){const{isOpen:e,hintButtonAriaLabel:t,closeHintButtonAriaLabel:n}=this.props;return e&&n||t},render:function(){const{props:e}=this;return s.createElement("div",{className:"ev-hint-container"},s.createElement("div",{className:r("ev-hint",{"ev-is-open":e.isOpen})},s.createElement("button",{className:r("ev-hint-button",{"ev-button":e.hintThemeSettings._shouldUseButtonStyles}),onClick:this.onClick,"aria-label":this.getAriaLabel()},s.createElement("i",{className:this.getIconClassName()})),s.createElement(u,{isVisible:e.isOpen,title:e.component._hint.title,body:e.component._hint.body})))}});e.exports=c(a)},2264:function(e,t,n){"use strict";const i=n(2),o=n(1),s=n(0),{Spring:r,config:c,animated:u,interpolate:a}=n(77),l=n(33),p=n(24),d=i({displayName:"HintPopup",propTypes:{isVisible:o.bool.isRequired,title:o.string,body:o.string},getSpringFrom:function(){return{opacity:0,scale:0}},getSpringTo:function(e){return e?{opacity:1,scale:1}:this.getSpringFrom()},renderTitle:function(){const{props:e}=this;if(e.title)return s.createElement("div",{className:"ev-hint-title"},s.createElement(p,{className:"ev-hint-title-inner",html:e.title}))},renderBody:function(){const{props:e}=this;if(e.body)return s.createElement(l,{className:"ev-hint-body",innerClassName:"ev-hint-body-inner",body:e.body})},render:function(){const{isVisible:e}=this.props;return s.createElement(r,{native:!0,from:this.getSpringFrom(),to:this.getSpringTo(e),config:c.default},({opacity:e,scale:t})=>s.createElement(u.div,{className:"ev-hint-popup",style:{opacity:e,transform:a([t],e=>`scale(${e})`)}},this.renderTitle(),this.renderBody()))}});e.exports=d},2265:function(e,t,n){"use strict";const{OPEN_HINT:i,CLOSE_HINT:o}=n(1598),{LOCATION_CHANGED:s}=n(9);e.exports=(e=null,t)=>{switch(t.type){case i:return t.payload;case o:case s:return null;default:return e}}}}]);