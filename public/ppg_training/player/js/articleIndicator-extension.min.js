(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1313:function(t,e,i){"use strict";const{registerEpics:n}=i(4),{registerElementsEpic:a}=i(2199);n(a)},2199:function(t,e,i){"use strict";const{SETUP_APP:n}=i(9),{addElement:a}=i(42),r=i(2200);e.registerElementsEpic=(t,e)=>t.filter(t=>{if(t.type!==n)return!1;const{course:i}=e.getState();return i._articleIndicator&&i._articleIndicator._isEnabled}).map(()=>{const{_articleIndicator:t,_isRTL:i}=e.getState().course;return a({name:"articleIndicator",component:r,props:{isLeft:!!i||t._isOnLeftSide,ariaLabel:t.ariaLabel},parent:"page",position:"container"})})},2200:function(t,e,i){"use strict";var n=i(30)(i(21));const a=i(2),r=i(0),{connect:c}=i(6),s=i(121),o=i(2201),l=a({displayName:"ArticleIndicatorContainer",render:function(){return r.createElement(o,(0,n.default)({key:this.props.articles.length},this.props))}});t.exports=c((t,e)=>({articles:s(t,e.page,"article",!t.isShowingHiddenContent)}))(l)},2201:function(t,e,i){"use strict";(function(e){const n=i(221),a=i(2),r=i(0),c=i(48),s=i(1),o=i(7),l=i(230),d=i(2202),u=a({displayName:"ArticleIndicator",propTypes:{isLeft:s.bool.isRequired,ariaLabel:s.string,articles:s.array.isRequired},getInitialState:function(){return{_articleElements:null,_activeArticle:null,_topPosition:null}},componentDidMount:function(){this.setState({_articleElements:e(".ev-article")},this.updateState),window.addEventListener("scroll",this.updateState)},componentWillUnmount:function(){window.removeEventListener("scroll",this.updateState)},updateState:function(){this.getTopPosition(),this.findActiveArticle()},getTopPosition:function(){const t=e(".ev-navigation-top"),i=t[0]?t.height():0,n=e(c.findDOMNode(this)),a=e(window),r=a.height(),s=n.outerHeight(),o=a.scrollTop();let l=null;if(s>r-i){l=(r-s)/100*(o/(e(document).height()-r)*100)}this.setState({_topPosition:l})},findActiveArticle:n((function(){const t=window.pageYOffset,i=this.state._articleElements;if(0===t)return void this.setState({_activeArticle:e(i[0]).data("id")});const n=window.innerHeight;if(t+n===e(document).height())return void this.setState({_activeArticle:e(i[i.length-1]).data("id")});const a=n/3;let r;i.each((t,i)=>{const{top:c,bottom:s,left:o}=i.getBoundingClientRect();if(s>a&&o<e(window).width()&&c<n+a)return r=e(i).data("id"),!1}),this.setState({_activeArticle:r})}),100),handleIndicatorClick:function(t){l(t,!0)},getClassName:function(){return o("ev-article-indicator",{"ev-is-centered":null===this.state._topPosition,"ev-is-left":this.props.isLeft,"ev-is-right":!this.props.isLeft})},getStyle:function(){const t={};return null!==this.state._topPosition&&(t.top=this.state._topPosition+"px"),t},renderArticles:function(){return this.props.articles.map(t=>r.createElement(d,{key:t._id,articleId:t._id,title:t.displayTitle||t.title,active:this.state._activeArticle===t._id,ariaLabel:t.ariaLabel,onClick:this.handleIndicatorClick}))},render:function(){return r.createElement("div",{role:"navigation","aria-label":this.props.ariaLabel,className:this.getClassName(),style:this.getStyle()},this.renderArticles())}});t.exports=u}).call(this,i(29))},2202:function(t,e,i){"use strict";const n=i(0),a=i(7),r=i(1),c=i(24),s=t=>n.createElement("div",{role:"button",className:a("ev-article-indicator-circle",{"ev-active-indicator-circle":t.active}),onClick:e=>{e.preventDefault(),t.onClick(t.articleId)},tabIndex:"0","aria-label":t.ariaLabel,"aria-describedby":t.articleId+"-article-indicator-title","aria-current":t.active},n.createElement("div",{className:"ev-article-indicator-title"},n.createElement(c,{id:t.articleId+"-article-indicator-title",className:"ev-inner-article-indicator-title",html:t.title}),n.createElement("span",{className:"ev-article-indicator-arrow"})));s.propTypes={articleId:r.string.isRequired,active:r.bool.isRequired,title:r.string.isRequired,onClick:r.func.isRequired,ariaLabel:r.string},t.exports=n.memo(s)}}]);