(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{1285:function(e,t,s){"use strict";const{registerComponent:o}=s(4);o("questionResult",{component:s(2035),trackingMap:s(2038)})},1370:function(e,t,s){"use strict";const o=s(7);e.exports=function(e){return o(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},2035:function(e,t,s){"use strict";const o=s(39),i=s(2),n=s(1),c=s(0),{Component:r}=s(468),a=s(1370),{connect:p}=s(6),{createScoreSelector:l}=s(2036),d=s(2037),u=i({displayName:"QuestionResult",propTypes:{component:n.object.isRequired,setComponentAsReady:n.func.isRequired,setComponentAsComplete:n.func.isRequired,setComponentAsViewed:n.func.isRequired,setComponentAsStarted:n.func.isRequired,isPageReady:n.bool,score:n.number.isRequired,styles:n.object,screenSize:n.string},componentDidMount:function(){const{props:e}=this;e.setComponentAsReady(e.component._id)},getCurrentFeedback:function(){const{props:e}=this;return o(e.component._feedbackItems).filter(t=>t._correctQuestionsRequired<=e.score).sortBy(e=>e._correctQuestionsRequired).last().value()},onVisibilityChange:function(e,{top:t,bottom:s}){const{props:o}=this;t&&(this.isInviewTop=!0),s&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&(o.component._hasBeenViewed||o.setComponentAsViewed(o.component._id),o.setComponentAsComplete(o.component._id),o.setComponentAsStarted(o.component._id))},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._isComplete},renderFeedback:function(){const{props:e}=this,t=this.getCurrentFeedback();return t?c.createElement(d,{feedback:t,score:e.score,scorePrefix:e.component._scorePrefix,scorePostfix:e.component._scorePostfix,scoreTextStyle:e.component._scoreTextSettings,screenSize:e.screenSize}):c.createElement("div",{className:"ev-question-result-no-feedback-text"},e.component._noFeedbackText)},render:function(){const{props:e}=this;return c.createElement(r,{component:e.component,styles:e.styles,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange},c.createElement("div",{className:a(e.component)},this.renderFeedback()))}});e.exports=p(()=>{const e=l();return(t,s)=>({score:e(t,s)})})(u)},2036:function(e,t,s){"use strict";const o=s(39),{createSelector:i}=s(56),n=(e,t)=>e.components,c=(e,t)=>t.component._questionRefIds;t.createScoreSelector=()=>i([n,c],(e,t=[])=>o(e).keyBy(e=>e._refId).pick(t).filter(e=>e._isComplete&&e._isCorrect).value().length)},2037:function(e,t,s){"use strict";const o=s(2),i=s(1),n=s(16),c=s(0),r=s(7),a=s(119),p=s(170),l=s(33),d=o({displayName:"QuestionResultFeedback",propTypes:{feedback:i.object.isRequired,score:i.number.isRequired,scorePrefix:i.string,scorePostfix:i.string,scoreTextStyle:i.object,screenSize:i.string},mixins:[n],getFeedbackScore:function(){const{score:e,scorePrefix:t,scorePostfix:s}=this.props;return`${t} ${e} ${s}`},getClassName:function(){const{feedback:e,screenSize:t}=this.props;return console.log("small"!==t),r("ev-questionResult-feedback",{"ev-js-graphic-top":"top"===e._graphicPosition||"small"===t&&"left"===e._graphicPosition,"ev-js-graphic-bottom":"bottom"===e._graphicPosition||"small"===t&&"right"===e._graphicPosition,"ev-js-graphic-left":"left"===e._graphicPosition&&"small"!==t,"ev-js-graphic-right":"right"===e._graphicPosition&&"small"!==t})},getScoreTextStyle:function(){const e={};return this.props.scoreTextStyle?(this.props.scoreTextStyle._fontSize&&(e.fontSize=this.props.scoreTextStyle._fontSize+"px"),this.props.scoreTextStyle._textAlign&&(e.textAlign=this.props.scoreTextStyle._textAlign),e):e},renderFeedbackGraphic:function(){const{feedback:e}=this.props;if(e._graphic&&p(e._graphic.src,e._graphic.srcAdvanced))return c.createElement("div",{className:"ev-questionResult-feedback-image"},c.createElement(a,{graphicSrc:e._graphic.src,graphicSrcAdvanced:e._graphic.srcAdvanced,altText:e._graphic.alt,autoSize:!0}))},render:function(){return c.createElement("div",{className:this.getClassName()},c.createElement("div",{className:"ev-questionResult-feedback-content"},c.createElement("div",{className:"ev-questionResult-feedback-text"},c.createElement("div",{className:"ev-questionResult-feedback-score"},c.createElement("div",{className:"ev-questionResult-feedback-score-inner",style:this.getScoreTextStyle()},this.getFeedbackScore())),c.createElement(l,{className:"ev-questionResult-feedback-description",body:this.props.feedback.text})),this.renderFeedbackGraphic()))}});e.exports=d},2038:function(e,t,s){"use strict";e.exports={_interactionType:{type:"String",default:"presentation",shouldRestore:!1}}}}]);