(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{1272:function(e,t,i){"use strict";const{registerComponent:n,registerEpics:o}=i(4),{openFullScreen:r}=i(473),s=i(1969),a=i(1976),c=i(1977),{videoEndedEpic:d,startTimerEpic:l,retryPreviousSetTimerEpic:m,showOverlayEpic:p}=i(1978),{incorrectButtonClicked:u,optionClicked:_,videoEnded:I,play:E,timeoutButtonClicked:T,clearTimer:y,videoLoaded:h,videoLoading:v,interactiveItemVideoMetricsChanged:C}=i(1440);n("interactiveVideo",{component:s,reducer:c,actions:{openFullScreen:r,optionClicked:_,incorrectButtonClicked:u,timeoutButtonClicked:T,videoLoaded:h,videoLoading:v,videoEnded:I,play:E,clearTimer:y,interactiveItemVideoMetricsChanged:C},trackingMap:a,mapStateToProps:({device:e})=>({isWindowsTouchScreen:e.isWindowsTouchScreen,windowWidth:e.windowWidth})}),o(d,l,m,p)},1370:function(e,t,i){"use strict";const n=i(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,i){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:i,isPageReady:n}=e;return!0===n&&!0===i._isReady&&!0!==i[t]}},1372:function(e,t,i){"use strict";e.exports=function(e,t,i,n,o){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&o&&o(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1373:function(e,t,i){"use strict";var n=i(30)(i(21));const o=i(0),r=i(7),s=i(1),a=i(119),c=i(300),d={default:"ev-default",chromeless:"ev-chromeless",warning:"ev-warning"};function l({text:e,icon:t,iconPosition:i,iconSize:s,showPulseAnimation:l,image:m,imagePosition:p,variant:u,className:_,textAlignment:I,...E}){const T=()=>{if(t)return o.createElement(c,{icon:t,size:s})},y=()=>{if(m&&m.src)return o.createElement(a,{graphicSrc:m.src,altText:m.alt})};return o.createElement("button",(0,n.default)({type:"button",className:r("ev-button",d[u],_,"ev-button-icon-position-"+i,"ev-button-image-position-"+p,"ev-button-text-align-"+I,{"ev-button-no-text":!e,"ev-has-icon":t,"ev-has-image":m&&m.src,"ev-pulse":l})},E),(()=>{if("top"===p||"left"===p)return y()})(),o.createElement("span",{className:"ev-button-inner"},(()=>{if("top"===i||"left"===i)return T()})(),e&&o.createElement("span",{className:"ev-button-text"},e),(()=>{if("bottom"===i||"right"===i)return T()})()),(()=>{if("bottom"===p||"right"===p)return y()})())}l.propTypes={text:s.string,textAlignment:s.string,icon:s.string,iconPosition:s.string,iconSize:s.number,showPulseAnimation:s.bool,image:s.object,imagePosition:s.string,className:s.string,variant:s.oneOf(["default","chromeless","warning"])},l.defaultProps={variant:"default",iconPosition:"left",iconSize:20,showPulseAnimation:!1,imagePosition:"top",textAlignment:"center"},e.exports=l},1426:function(e,t,i){"use strict";const n=i(2),o=i(0),r=i(1),{Trail:s,config:a,interpolate:c}=i(77),d=n({displayName:"AnimatableItems",propTypes:{startAnimation:r.bool.isRequired,animations:r.object,renderItem:r.func.isRequired,maxAnimatable:r.number,items:r.array.isRequired},getDefaultProps:function(){return{region:!1,startAnimation:!1,animations:{_slideInX:{_isEnabled:!1,_from:0},_slideInY:{_isEnabled:!1,_from:0},_fadeIn:{_isEnabled:!1,_from:0},_scaleIn:{_isEnabled:!1,_from:0},easing:"default"},ariaHidden:!1}},getSpringFrom:function(){const{animations:e}=this.props,{_slideInX:t,_slideInY:i,_fadeIn:n,_scaleIn:o}=e;return{x:t&&t._isEnabled?t._isReverseDirection?-t._from:t._from:0,y:i&&i._isEnabled?i._isReverseDirection?-i._from:i._from:0,opacity:n&&n._isEnabled?n._from/100:1,scale:o&&o._isEnabled?o._from/100:1}},getSpringTo:function(){const{startAnimation:e}=this.props;return e?{opacity:1,x:0,y:0,scale:1}:this.getSpringFrom()},getInterpolatedStyle:function({opacity:e,x:t,y:i,scale:n}){return{opacity:e,transform:c([t,i,n],(e,t,i)=>`translate3d(${e}%, ${t}%, 0) scale(${i})`)}},renderAnimatedItems:function(){const{items:e,animations:t,renderItem:i,maxAnimatable:n}=this.props;let r=e;return"number"==typeof n&&(r=e.slice(0,n)),o.createElement(s,{native:!0,key:r.length,from:this.getSpringFrom(),to:this.getSpringTo(),config:a[t._easing]||a.default,keys:r.map((e,t)=>"string"==typeof e?e:t),items:r},(e,t)=>n=>i({item:e,style:n,isAnimated:!0},t))},renderNonAnimatedItems:function(){const{items:e,renderItem:t,maxAnimatable:i}=this.props;if("number"==typeof i)return e.slice(i).map((e,n)=>t({item:e,style:null,isAnimated:!1},n+i))},render:function(){return o.createElement(o.Fragment,null,this.renderAnimatedItems(),this.renderNonAnimatedItems())}});e.exports=d},1440:function(e,t,i){"use strict";t.INTERACTIVE_VIDEO_TIMER_UPDATE="INTERACTIVE_VIDEO_TIMER_UPDATE",t.INTERACTIVE_VIDEO_ENDED="INTERACTIVE_VIDEO_ENDED",t.INTERACTIVE_VIDEO_PLAYING="INTERACTIVE_VIDEO_PLAYING",t.INTERACTIVE_VIDEO_OPTION_CLICKED="INTERACTIVE_VIDEO_OPTION_CLICKED",t.INTERACTIVE_VIDEO_INCORRECT_OVERLAY_BUTTON_CLICKED="INTERACTIVE_VIDEO_INCORRECT_OVERLAY_BUTTON_CLICKED",t.INTERACTIVE_VIDEO_TIMEOUT_BUTTON_CLICKED="INTERACTIVE_VIDEO_TIMEOUT_BUTTON_CLICKED",t.INTERACTIVE_VIDEO_LOADING="INTERACTIVE_VIDEO_LOADING",t.INTERACTIVE_VIDEO_LOADED="INTERACTIVE_VIDEO_LOADED",t.INTERACTIVE_VIDEO_START_TIMER="INTERACTIVE_VIDEO_START_TIMER",t.INTERACTIVE_VIDEO_CLEAR_TIMER="INTERACTIVE_VIDEO_CLEAR_TIMER",t.INTERACTIVE_VIDEO_SHOW_OVERLAY="INTERACTIVE_VIDEO_SHOW_OVERLAY",t.INTERACTIVE_VIDEO_ITEM_VIDEO_METRICS="INTERACTIVE_VIDEO_ITEM_VIDEO_METRICS",t.optionClicked=e=>({type:t.INTERACTIVE_VIDEO_OPTION_CLICKED,payload:e}),t.incorrectButtonClicked=e=>({type:t.INTERACTIVE_VIDEO_INCORRECT_OVERLAY_BUTTON_CLICKED,payload:e}),t.timeoutButtonClicked=e=>({type:t.INTERACTIVE_VIDEO_TIMEOUT_BUTTON_CLICKED,payload:e}),t.videoEnded=e=>({type:t.INTERACTIVE_VIDEO_ENDED,payload:e}),t.videoLoading=e=>({type:t.INTERACTIVE_VIDEO_LOADING,payload:e}),t.videoLoaded=e=>({type:t.INTERACTIVE_VIDEO_LOADED,payload:e}),t.play=e=>({type:t.INTERACTIVE_VIDEO_PLAYING,payload:e}),t.startTimer=e=>({type:t.INTERACTIVE_VIDEO_START_TIMER,payload:e}),t.timerUpdate=e=>({type:t.INTERACTIVE_VIDEO_TIMER_UPDATE,payload:e}),t.clearTimer=e=>({type:t.INTERACTIVE_VIDEO_CLEAR_TIMER,payload:e}),t.showOverlay=e=>({type:t.INTERACTIVE_VIDEO_SHOW_OVERLAY,payload:e}),t.interactiveItemVideoMetricsChanged=e=>({type:t.INTERACTIVE_VIDEO_ITEM_VIDEO_METRICS,payload:e})},1546:function(e,t,i){"use strict";var n=i(30)(i(21));const o=i(32),r=i(0),s=i(1971),a=i(1974),c=i(1975);e.exports=e=>e._isPlaying||!1===e._hasVideoEnded?null:r.createElement("div",{className:"ev-interactiveVideo-overlay"},(()=>{const t=(()=>{const t=e._items,i=e._currentItem._id;return o(t,{_parentId:i})})();return 0===e._currentTime?r.createElement(c,(0,n.default)({},e,{_currentItem:e._currentItem,_timeoutOverlay:e._timeoutOverlay})):t.length?r.createElement(s,(0,n.default)({},e,{question:e._currentItem.question,children:t,_currentTime:e._currentTime,_totalTime:e._totalTime,_shouldDisableTimer:e._shouldDisableTimer})):e._currentItem._isCorrect?void 0:r.createElement(a,(0,n.default)({},e,{_currentItem:e._currentItem,_incorrectOverlay:e._incorrectOverlay}))})())},1969:function(e,t,i){"use strict";(function(t){const n=i(18),o=i(2),r=i(1),s=i(0),a=i(48),{Component:c}=i(468),d=i(1370),l=i(1371),m=i(1372),p=i(33),u=i(1970),_=i(1546),I=o({displayName:"InteractiveVideo",propTypes:{component:r.object.isRequired,setComponentAsViewed:r.func.isRequired,setComponentAsStarted:r.func.isRequired,setComponentAsReady:r.func.isRequired,play:r.func.isRequired,videoLoading:r.func.isRequired,videoLoaded:r.func.isRequired,videoEnded:r.func.isRequired,optionClicked:r.func.isRequired,timeoutButtonClicked:r.func.isRequired,incorrectButtonClicked:r.func.isRequired,clearTimer:r.func.isRequired,interactiveItemVideoMetricsChanged:r.func.isRequired,screenSize:r.string.isRequired,isWindowsTouchScreen:r.bool,styles:r.object,animationEnded:r.bool},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},componentWillUnmount(){this.props.clearTimer({componentId:this.props.component._id})},getCurrentItem(){const{component:e}=this.props;return n(e._items,t=>t._id===e._currentItemId)},onPlayVideo(){const{props:e}=this;e.component._hasStarted||e.setComponentAsStarted(e.component._id),e.play({componentId:e.component._id,isPlaying:!0})},onPauseVideo(){this.props.play({componentId:this.props.component._id,isPlaying:!1})},onVideoEnded(){const{props:e}=this;e.videoEnded({componentId:e.component._id});let i=t(".ev-navigation-top").height();"medium"!==e.screenSize&&"small"!==e.screenSize||(i+=t(".ev-navigation-side").height()),t.scrollTo(a.findDOMNode(this),{offset:{top:-i},duration:0})},onLoadStart(){const{props:e}=this;e.videoLoading({componentId:e.component._id})},onCanPlay(){this.props.videoLoaded({componentId:this.props.component._id})},onOptionClicked(e){this.props.optionClicked({componentId:this.props.component._id,itemId:e._id})},onIncorrectOverlayButtonClicked(e){this.props.incorrectButtonClicked({componentId:this.props.component._id,previousItemId:e._parentId})},onTimeoutOverlayButtonClicked(){this.props.timeoutButtonClicked({componentId:this.props.component._id})},onVisibilityChange(...e){m(...e,this,this.props.setComponentAsViewed)},onItemVideoMetricsChange(e,t){const{component:i,interactiveItemVideoMetricsChanged:n}=this.props;n({componentId:i._id,itemId:e,metrics:t})},getHasTouch(){return!this.props.isWindowsTouchScreen&&window.Modernizr.touchevents},renderOverlay(){const{props:e}=this,{component:t}=e;if(!t._isPlaying||t._hasVideoEnded||"small"===e.screenSize&&t._shouldDisplayFullScreenOverlay)return s.createElement(_,{_currentItem:this.getCurrentItem(),_isPlaying:t._isPlaying,_hasVideoEnded:t._hasVideoEnded,_items:e.component._items,_incorrectOverlay:e.component._incorrect,_timeoutOverlay:e.component._timeout,_shouldDisableTimer:e.component._shouldDisableTimer,_currentTime:this.props.component._currentTime,_totalTime:e.component._timer,optionClicked:this.onOptionClicked,incorrectOverlayButtonClicked:this.onIncorrectOverlayButtonClicked,timeoutOverlayButtonClicked:this.onTimeoutOverlayButtonClicked,animations:t._animations})},renderTranscript(){var e;const t=this.getCurrentItem()._video;if(null!=t&&null!==(e=t._transcript)&&void 0!==e&&e.body)return s.createElement(p,{className:"ev-component-body ev-interactiveVideo-video-transcript",innerClassName:"ev-component-body-inner",body:t._transcript.body})},renderWidget(){const{props:e}=this;if(!e.component._currentItemId)return;const t=this.getCurrentItem();return s.createElement("div",{className:d(e.component)},s.createElement("div",{className:"ev-interactiveVideo-video-container"},s.createElement(u,{ref:"video-player",_currentItem:t,_isPlaying:e.component._isPlaying,_hasVideoEnded:e.component._hasVideoEnded,_isLoading:e.component._isLoading,_hasTouch:this.getHasTouch(),_shouldEnableControls:e.component._shouldEnableControls,canAutoPlay:e.component._canAutoPlay,poster:e.component._posterGraphic,playButtonAriaLabel:e.component.playButtonAriaLabel,playVideo:this.onPlayVideo,pauseVideo:this.onPauseVideo,onVideoEnded:this.onVideoEnded,onLoadStart:this.onLoadStart,onCanPlay:this.onCanPlay,onItemVideoMetricsChange:this.onItemVideoMetricsChange,animationEnded:e.animationEnded}),this.renderTranscript(),this.renderOverlay()))},render(){return s.createElement(c,{component:this.props.component,styles:this.props.styles,isVisibilitySensorActive:l(this.props),onVisibilityChange:this.onVisibilityChange},this.renderWidget())}});e.exports=I}).call(this,i(29))},1970:function(e,t,i){"use strict";const n=i(0),o=i(2),r=i(1),s=i(76),a=i(305),c=o({displayName:"InteractiveVideoPlayer",propTypes:{_currentItem:r.shape({_id:r.string.isRequired,_metrics:r.object,_video:r.shape({src:r.object,_subtitles:r.object,_transcript:r.object})}),poster:r.shape({src:r.object}),animationEnded:r.bool,_shouldEnableControls:r.bool,canAutoPlay:r.bool,playButtonAriaLabel:r.string,onLoadStart:r.func.isRequired,onCanPlay:r.func.isRequired,onVideoEnded:r.func.isRequired,onItemVideoMetricsChange:r.func.isRequired},onEnded(e){e&&e.webkitExitFullScreen&&e.webkitExitFullScreen(),this.props.onVideoEnded()},onItemVideoMetricsChange(e){this.props.onItemVideoMetricsChange(this.props._currentItem._id,e)},render(){var e,t,i,o;const{props:r}=this,{_video:c}=r._currentItem;return n.createElement("div",{className:"ev-interactiveVideo-player"},n.createElement(a,{src:s(null==c?void 0:c.src),posterSrc:s(null===(e=r.poster)||void 0===e?void 0:e.src),subtitlesSrc:s(null==c||null===(t=c._subtitles)||void 0===t?void 0:t.src),subtitlesLabel:null==c||null===(i=c._subtitles)||void 0===i?void 0:i.label,transcriptType:"popup",transcriptText:null==c||null===(o=c._transcript)||void 0===o?void 0:o.body,controls:!!r._shouldEnableControls,hasBigPlayButton:!0,autoPlay:r.canAutoPlay,playButtonLabel:r.playButtonAriaLabel,onEnded:this.onEnded,onLoadStart:r.onLoadStart,onCanPlay:r.onCanPlay,playsFromStart:!0,metrics:r._currentItem._metrics,onMetricsChange:this.onItemVideoMetricsChange,animationEnded:r.animationEnded}))}});e.exports=c},1971:function(e,t,i){"use strict";var n=i(30)(i(21));const o=i(2),r=i(0),s=i(1426),a=i(1972),c=i(1973),d=o({displayName:"InteractiveVideoOptionsOverlay",componentDidMount(){this._body&&this._body.focus({preventScroll:!0})},getOptions(){return r.createElement(s,{items:this.props.children,startAnimation:!0,animations:this.props.animations,renderItem:({item:e,style:t},i)=>r.createElement(a,(0,n.default)({},this.props,{key:i,style:t,item:e,hasAutoFocus:0===i}))})},renderTimer(){if(!this.props._shouldDisableTimer)return r.createElement(c,{_currentTime:this.props._currentTime,_totalTime:this.props._totalTime,_color:"#ff5567"})},render(){return r.createElement("div",{className:"ev-interactiveVideo-overlay-inner"},r.createElement("div",{className:"ev-interactiveVideo-overlay-timer"},this.renderTimer()),r.createElement("div",{ref:e=>this._body=e,tabIndex:"-1",className:"ev-focusable ev-interactiveVideo-overlay-body"},this.props.question),r.createElement("div",{className:"ev-interactiveVideo-overlay-options"},this.getOptions()))}});e.exports=d},1972:function(e,t,i){"use strict";const n=i(0),{animated:o}=i(77),r=i(1373);e.exports=({item:e,style:t,hasAutoFocus:i,optionClicked:s})=>n.createElement(o.span,{style:t},n.createElement(r,{className:"ev-interactiveVideo-option-button",text:e.optionText,autoFocus:i,onClick:()=>s(e)}))},1973:function(e,t,i){"use strict";const n=i(2),o=i(0),r=i(1402);function s(e,t,i){const n=i/180*Math.PI;return[e[0]+Math.cos(n)*t,e[1]+Math.sin(n)*t]}function a(e,t,i,n){let o=i,r=s(e,t,o),a=`M ${r[0]} ${r[1]}`;for(;o<=n;)r=s(e,t,o),a+=` L ${r[0]} ${r[1]}`,o+=1;return a}const c={FRONT_RADIUS:14,FRONT_WIDTH:28,ARC_SIZE:56,arc:null,create(e,t,i,n){const o=this.getCurrentArc(t,i),s=new r(e,this.ARC_SIZE,this.ARC_SIZE);this.arc=s.path(a([this.ARC_SIZE/2,this.ARC_SIZE/2],this.FRONT_RADIUS,o,270)).attr({stroke:n,"stroke-width":this.FRONT_WIDTH})},getCurrentArc:(e,t)=>360/t*(t-e)-90,update(e,t,i){const n=this.getCurrentArc(e,t);this.arc.attr({stroke:i,"stroke-width":this.FRONT_WIDTH,path:a([this.ARC_SIZE/2,this.ARC_SIZE/2],this.FRONT_RADIUS,n,270)})}},d=n({displayName:"InteractiveVideoTimer",componentDidMount(){const{_currentTime:e,_totalTime:t}=this.props,i=getComputedStyle(this.timerMount).getPropertyValue("color");c.create(this.timerMount,e,t,i)},componentDidUpdate(){const{_currentTime:e,_totalTime:t}=this.props,i=getComputedStyle(this.timerMount).getPropertyValue("color");c.update(e,t,i)},render(){return o.createElement("div",{className:"ev-interactiveVideo-timer",ref:e=>this.timerMount=e})}});e.exports=d},1974:function(e,t,i){"use strict";const n=i(0),o=i(1),r=i(1373),s=e=>n.createElement("div",{className:"ev-interactiveVideo-overlay-inner"},n.createElement("div",{className:"ev-interactiveVideo-overlay-icon"},n.createElement("i",{className:"ev-icon ev-icon-cross"})),n.createElement("div",{className:"ev-interactiveVideo-overlay-body"},e._incorrectOverlay.body),n.createElement("div",{className:"ev-interactiveVideo-overlay-button"},n.createElement(r,{text:e._incorrectOverlay.buttonText,onClick:()=>e.incorrectOverlayButtonClicked(e._currentItem)})));s.propTypes={_incorrectOverlay:o.shape({body:o.string,buttonText:o.string}),_currentItem:o.object.isRequired,incorrectOverlayButtonClicked:o.func.isRequired},e.exports=s},1975:function(e,t,i){"use strict";const n=i(0),o=i(1),r=i(1373),s=e=>n.createElement("div",{className:"ev-interactiveVideo-overlay-inner"},n.createElement("div",{className:"ev-interactiveVideo-overlay-icon"},n.createElement("i",{className:"ev-icon ev-icon-alarm2"})),n.createElement("div",{className:"ev-interactiveVideo-overlay-body"},e._timeoutOverlay.body),n.createElement("div",{className:"ev-interactiveVideo-overlay-button"},n.createElement(r,{text:e._timeoutOverlay.buttonText,onClick:()=>e.timeoutOverlayButtonClicked(e._currentItem)})));s.propTypes={_timeoutOverlay:o.shape({body:o.string,buttonText:o.string}),_currentItem:o.object.isRequired,timeoutOverlayButtonClicked:o.func.isRequired},e.exports=s},1976:function(e,t,i){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String",shouldRestore:!1},_metrics:{fieldKey:"_metrics",type:"Object",shouldRestore:!0}}}}},1977:function(e,t,i){"use strict";const n=i(18),{SETUP_COMPONENT:o,SET_COMPONENT_AS_COMPLETE:r}=i(61),{INTERACTIVE_VIDEO_TIMER_UPDATE:s,INTERACTIVE_VIDEO_PLAYING:a,INTERACTIVE_VIDEO_ENDED:c,INTERACTIVE_VIDEO_OPTION_CLICKED:d,INTERACTIVE_VIDEO_LOADING:l,INTERACTIVE_VIDEO_LOADED:m,INTERACTIVE_VIDEO_INCORRECT_OVERLAY_BUTTON_CLICKED:p,INTERACTIVE_VIDEO_TIMEOUT_BUTTON_CLICKED:u,INTERACTIVE_VIDEO_START_TIMER:_,INTERACTIVE_VIDEO_ITEM_VIDEO_METRICS:I}=i(1440);e.exports=function(e,t){switch(t.type){case o:case r:const i=n(e._items,{_isInitialItem:!0});return{...e,_currentTime:null,_isPlaying:!1,_hasVideoEnded:!1,_canAutoPlay:!1,_currentItemId:i?i._id:null};case l:return{...e,_isLoading:!0};case m:return{...e,_isLoading:!1};case d:return{...e,_isLoading:!0,_isPlaying:!0,_hasVideoEnded:!1,_canAutoPlay:!0,_currentItemId:t.payload.itemId};case p:return{...e,_hasVideoEnded:!1,_isPlaying:!0,_currentTime:e._timer,_currentItemId:t.payload.previousItemId};case _:return{...e,_currentTime:e._timer};case s:return{...e,_currentTime:t.payload.time};case a:return{...e,_isPlaying:t.payload.isPlaying};case c:return{...e,_hasVideoEnded:!0,_isPlaying:!1};case u:return{...e,_hasVideoEnded:!0,_isPlaying:!0};case I:return function(e,{itemId:t,metrics:i}){const n=e._items.map(e=>e._id===t?{...e,_metrics:i}:e);return{...e,_items:n}}(e,t.payload);default:return e}}},1978:function(e,t,i){"use strict";const n=i(18),o=i(32),{Observable:r}=i(5),{openFullScreen:s}=i(473),{addPrompt:a}=i(474),{setComponentAsComplete:c}=i(61),{startTimer:d,timerUpdate:l,showOverlay:m,INTERACTIVE_VIDEO_ENDED:p,INTERACTIVE_VIDEO_START_TIMER:u,INTERACTIVE_VIDEO_CLEAR_TIMER:_,INTERACTIVE_VIDEO_OPTION_CLICKED:I,INTERACTIVE_VIDEO_INCORRECT_OVERLAY_BUTTON_CLICKED:E,INTERACTIVE_VIDEO_SHOW_OVERLAY:T}=i(1440),y=i(1979),h=(e,t)=>t.getState().components[e];t.videoEndedEpic=(e,t)=>e.ofType(p).map(({payload:e})=>h(e.componentId,t)).mergeMap(e=>{const t=e._id,i=n(e._items,t=>t._id===e._currentItemId),s=0===o(e._items,{_parentId:i._id}).length,d=[];return i._isCorrect||i._isInitialItem?(i._isCorrect||i._isInitialItem)&&(s?d.push(c(t),a({title:e._completion.completeText,body:e._completion.feedback,_glyph:{_type:"icon",_className:"ev-icon-check"}})):d.push(m({componentId:t}))):d.push(m({componentId:t,withTimer:!1})),r.of(...d)}),t.retryPreviousSetTimerEpic=e=>e.ofType(E).map(({payload:e})=>m({...e,withTimer:!1})),t.showOverlayEpic=(e,t)=>e.ofType(T).mergeMap(({payload:e})=>{const{componentId:i}=e,{_shouldDisplayFullScreenOverlay:n,_shouldDisableTimer:o,_timer:a}=h(i,t),c=[];return"small"===t.getState().device.screenSize&&n&&c.push(s({component:y,props:{componentId:i}})),!o&&a&&!1!==e.withTimer&&c.push(d(e)),r.of(...c)}),t.startTimerEpic=(e,t)=>e.ofType(u).map(({payload:e})=>h(e.componentId,t)).mergeMap(t=>r.interval(1e3).take(t._timer).map(e=>l({componentId:t._id,time:t._timer-(e+1)})).takeUntil(e.ofType(I,_).filter(({payload:e})=>e.componentId===t._id)))},1979:function(e,t,i){"use strict";const n=i(18),o=i(2),r=i(1),s=i(0),a=i(7),{connect:c}=i(6),d=i(1980),{optionClicked:l,incorrectButtonClicked:m,timeoutButtonClicked:p}=i(1440),u=i(1546),_=o({displayName:"InteractiveVideoFullScreenOverlay",propTypes:{componentId:r.string.isRequired,component:r.object.isRequired,closeFullScreen:r.func.isRequired,optionClicked:r.func.isRequired,timeoutButtonClicked:r.func.isRequired,incorrectButtonClicked:r.func.isRequired},UNSAFE_componentWillReceiveProps({component:e}){(e._isPlaying||!1===e._hasVideoEnded)&&this.props.closeFullScreen()},onOptionClicked(e){this.props.optionClicked({componentId:this.props.componentId,itemId:e._id})},onIncorrectOverlayButtonClicked(e){this.props.incorrectButtonClicked({componentId:this.props.componentId,previousItemId:e._parentId})},onTimeoutOverlayButtonClicked(){this.props.timeoutButtonClicked({componentId:this.props.componentId})},render(){const{component:e}=this.props;return s.createElement("div",{className:a("ev-interactiveVideo-fullscreen",d(e))},s.createElement(u,{_currentItem:n(e._items,t=>t._id===e._currentItemId),_isPlaying:e._isPlaying,_hasVideoEnded:e._hasVideoEnded,_items:e._items,_incorrectOverlay:e._incorrect,_timeoutOverlay:e._timeout,_shouldDisableTimer:e._shouldDisableTimer,_currentTime:e._currentTime,_totalTime:e._timer,optionClicked:this.onOptionClicked,incorrectOverlayButtonClicked:this.onIncorrectOverlayButtonClicked,timeoutOverlayButtonClicked:this.onTimeoutOverlayButtonClicked}))}});e.exports=c((e,t)=>({component:e.components[t.componentId]}),{optionClicked:l,incorrectButtonClicked:m,timeoutButtonClicked:p})(_)},1980:function(e,t,i){"use strict";const{store:n}=i(4),o=i(78);e.exports=function(e){const t=o(n.getState(),e,"article");return"none"!==t._classes?t._classes:""}}}]);