(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1305:function(e,t,i){"use strict";const{registerMenu:s}=i(4);s("coverMenu",i(2161))},1386:function(e,t,i){"use strict";const s=i(8),n=i(2),r=i(1),o=i(0),a=i(7),{Spring:l,config:c,animated:d}=i(77),{connect:u}=i(6),h=n({displayName:"Carousel",propTypes:{currentIndex:r.number.isRequired,initialIndex:r.number.isRequired,animations:r.object.isRequired,className:r.string,isRTL:r.bool,verticalAlignment:r.string,_ref:r.func},getInitialState:()=>({_animationEnded:!1,_canAnimateItemTransform:!1}),UNSAFE_componentWillReceiveProps(e){const{currentIndex:t}=this.props;t!==e.currentIndex&&this.setState({_canAnimateItemTransform:!0})},getDefaultProps:()=>({currentIndex:0,initialIndex:0,animations:{_slideIn:!0,_fadeIn:{_isEnabled:!1},_scaleIn:{_isEnabled:!1},_easing:"default"}}),onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderCarousel(){const{currentIndex:e,initialIndex:t,animations:i}=this.props,s=100*t,n=100*e;return i._slideIn?o.createElement(l,{native:!0,from:{x:s},to:{x:n},config:c[i._easing]||c.default},({x:e})=>this.renderCarouselInner(e,!0)):this.renderCarouselInner(n)},renderCarouselInner(e,t){const{verticalAlignment:i,isRTL:s}=this.props,n="ev-carousel-inner ev-vertical-align-"+(i?i.toLowerCase():"normal"),r=s?"":"-",a=t?d.ul:"ul",l={left:t?e.interpolate(e=>`${r}${e}%`):`${r}${e}%`};return o.createElement(a,{className:n,style:l},this.renderCarouselItems())},getItemStyle(e,t){const{_animationEnded:i,_canAnimateItemTransform:s}=this.state,n={opacity:e,transform:t.interpolate(e=>`scale(${e})`)};return!i&&s||(n.transform="none"),n},renderCarouselItems(){const{children:e,currentIndex:t,animations:i}=this.props;return e.map((e,s)=>{const n=s===t,{_fadeIn:r,_scaleIn:a}=i;return o.createElement(l,{native:!0,key:s,from:{opacity:r&&r._isEnabled?r._from/100:.99,scale:a&&a._isEnabled?a._from/100:1},to:{opacity:r&&r._isEnabled?n?1:r._from/100:1,scale:a&&a._isEnabled?n?1:a._from/100:1},config:c[i._easing]||c.default,onStart:this.onStart,onRest:this.onRest},({opacity:t,scale:i})=>o.createElement(d.li,{className:"ev-carousel-item","aria-hidden":!n,style:this.getItemStyle(t,i)},e))})},render(){return o.createElement("div",{ref:this.props._ref,className:a("ev-carousel",this.props.className)},this.renderCarousel())}});e.exports=u(({course:e,device:t})=>({isRTL:s(e,"_isRTL",!1),windowWidth:t.windowWidth}))(h)},1387:function(e,t,i){"use strict";e.exports=function(e){const t=e.displayTitle,i=e._heroImage?e._heroImage.title:null;return t||i}},1493:function(e,t,i){"use strict";const s=i(2),n=i(1),r=i(0),o=i(48),a=s({displayName:"Swipeable",propTypes:{onSwipe:n.func.isRequired,threshold:n.number,allowedTime:n.number,restraint:n.number},getDefaultProps:function(){return{threshold:30,allowedTime:400,restraint:100}},getInitialState:function(){return{_startX:0,_startY:0,_startTime:0}},onTouchStart:function(e){const t=e.changedTouches[0];this.setState({_startX:t.pageX,_startY:t.pageY,_startTime:(new Date).getTime()}),e.target===o.findDOMNode(this)&&e.preventDefault()},onTouchMove:function(){},onTouchEnd:function(e){const t=e.changedTouches[0],i=t.pageX-this.state._startX,s=t.pageY-this.state._startY,n=(new Date).getTime()-this.state._startTime;let r="none";n<=this.props.allowedTime&&(Math.abs(i)>=this.props.threshold&&Math.abs(s)<=this.props.restraint?r=i<0?"left":"right":Math.abs(s)>=this.props.threshold&&Math.abs(i)<=this.props.restraint&&(r=s<0?"up":"down"));const a={direction:r,speed:{x:i/n,y:s/n},distance:{x:i,y:s},timeTaken:n};this.props.onSwipe(a),this.setState({_startX:0,_startY:0,_startTime:0}),e.target===o.findDOMNode(this)&&e.preventDefault()},render:function(){return r.createElement("div",{className:"ev-swipeable",onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd},this.props.children)}});e.exports=a},2161:function(e,t,i){"use strict";const s=i(182),n=i(8),r=i(31),o=i(2),a=i(1),l=i(0),{connect:c}=i(6),d=i(7),{Transition:u,interpolate:h}=i(77),m=i(1493),p=i(1386),v=i(478),g=i(63),{setAriaLive:_}=i(58),b=i(2162),f=i(2163),y=o({displayName:"CoverMenu",propTypes:{menu:a.object.isRequired,device:a.object.isRequired,theme:a.object.isRequired,itemIds:a.array.isRequired,hasActionBar:a.bool.isRequired,location:a.object.isRequired,setAriaLive:a.func.isRequired,classList:a.array,isRTL:a.bool.isRequired},getInitialState(){const e=this.getInitialStage();return{_isCoverVisible:this.getCoverVisible(),_stage:e,_initialStage:e,_height:window.innerHeight,_width:window.innerWidth}},componentDidMount(){this.setSize(),this.props.device.touch&&window.addEventListener("scroll",this.onWindowScroll),this.props.menu.ariaLabel&&this.props.setAriaLive({message:this.props.menu.ariaLabel,delay:200})},UNSAFE_componentWillReceiveProps({device:e}){e!==this.props.device&&this.setSize()},componentWillUnmount(){this.props.device.touch&&window.removeEventListener("scroll",this.onWindowScroll)},onWindowScroll:s((function(){this.state._isCoverVisible||window.scrollTo(0,0)}),300),getCoverVisible(){return!this.props.menu._isVisited},getInitialStage(){const{previousId:e}=this.props.location;if(!e)return 0;const t=this.props.itemIds.indexOf(e);return-1===t?0:t},setSize(){this.setState({_height:this.getHeight(),_width:this.getWidth()})},getHeight(){const e=document.querySelector(".ev-content-container");return window.innerHeight-e.offsetTop},getWidth:()=>document.querySelector(".ev-content-container").getBoundingClientRect().width,onCoverButtonClicked(e){e.preventDefault(),e.currentTarget.blur(),this.setState({_isCoverVisible:!1},()=>{this.setSize()})},onLeftClicked(e){e.preventDefault(),e.stopPropagation(),this.setState({_stage:this.state._stage-1})},onRightClicked(e){e.preventDefault(),e.stopPropagation(),this.setState({_stage:this.state._stage+1})},onIndicatorClicked(e,t){t.preventDefault(),t.stopPropagation(),this.setState({_stage:e})},onHomeIndicatorClicked(e){e.preventDefault(),e.stopPropagation(),this.setState({_stage:0,_isCoverVisible:!0})},onCarouselSwipe(e){let t=this.state._stage;if("left"===e.direction){if(t=this.state._stage+1,t>=this.props.itemIds.length)return}else if("right"===e.direction&&(t=this.state._stage-1,t<0))return;this.setState({_stage:t})},getClassName(){const{props:e}=this;return d("ev-menu",e.classList,{"ev-use-menu-header-styles":e.theme._menu._settings._useMenuHeaderStyles})},getCoverButtonText(){return this.props.menu._coverMenu&&this.props.menu._coverMenu._coverButtonText?this.props.menu._coverMenu._coverButtonText:"View"},renderElements(e){const{props:t}=this;return g("menu",e,{menu:t.menu})},renderCover(){return l.createElement(u,{native:!0,items:this.state._isCoverVisible,from:{opacity:0,y:0},enter:{opacity:1,y:0},leave:{opacity:0,y:-100}},e=>e&&(({opacity:e,y:t})=>l.createElement(f,{key:"cover",style:{opacity:e,transform:h([t],e=>`translateY(${e}%)`)},title:this.props.menu.displayTitle,body:this.props.menu.body,shouldHideHeader:this.props.menu._hidePageHeader,height:this.state._height,src:this.props.menu._coverMenu&&this.props.menu._coverMenu.src,srcAdvanced:this.props.menu._coverMenu&&this.props.menu._coverMenu.srcAdvanced,buttonText:this.getCoverButtonText(),actionBarElements:this.renderElements("actionBar"),displayTitleSettings:this.props.menu._displayTitleSettings,onCoverButtonClicked:this.onCoverButtonClicked,theme:this.props.theme,device:this.props.device,hasActionBar:this.props.hasActionBar})))},renderIndicators(){return this.props.itemIds.map((e,t)=>{const i=t===this.state._stage;return l.createElement("button",{className:d("ev-button ev-carousel-indicator",{"ev-primary":!i,"ev-disabled":i}),key:e,onClick:this.onIndicatorClicked.bind(this,t),disabled:i},t+1)})},renderCarousel(){return l.createElement(m,{onSwipe:this.onCarouselSwipe},l.createElement("div",{className:"ev-cover-carousel",style:{width:this.state._width+"px",visibility:this.state._isCoverVisible?"hidden":"visible"}},l.createElement(p,{currentIndex:this.state._stage,initialIndex:this.state._initialStage,animations:{_slideIn:!0,_fadeIn:{_isEnabled:!0,_from:50},_scaleIn:{_isEnabled:!1},_easing:"slow"}},this.renderItems()),this.renderCarouselLeftControl(),this.renderCarouselRightControl(),l.createElement("div",{className:"ev-carousel-indicators"},l.createElement("div",{className:"ev-carousel-indicators-inner"},l.createElement("button",{className:"ev-button ev-primary ev-carousel-indicator",onClick:this.onHomeIndicatorClicked,"aria-label":this.props.menu._coverMenu.homeButtonAriaLabel},l.createElement("i",{className:"ev-icon ev-icon-home4"})),this.renderIndicators()))))},renderCarouselLeftControl(){if(0===this.state._stage)return;const{isRTL:e}=this.props;return l.createElement("button",{className:d("ev-button ev-primary ev-carousel-control",{"ev-carousel-control-left":!e,"ev-carousel-control-right":e}),onClick:this.onLeftClicked,"aria-label":this.props.menu._coverMenu.prevButtonAriaLabel},l.createElement("i",{className:d("ev-icon",{"ev-icon-arrow-left":!e,"ev-icon-arrow-right":e})}))},renderCarouselRightControl(){if(this.state._stage===this.props.itemIds.length-1)return;const{isRTL:e}=this.props;return l.createElement("button",{className:d("ev-button ev-primary ev-carousel-control",{"ev-carousel-control-right":!e,"ev-carousel-control-left":e}),onClick:this.onRightClicked,"aria-label":this.props.menu._coverMenu.nextButtonAriaLabel},l.createElement("i",{className:d("ev-icon",{"ev-icon-arrow-right":!e,"ev-icon-arrow-left":e})}))},getShouldShowProgressBars(){const{props:e}=this,t=n(e.theme,"_menu._settings._shouldShowProgressBarsOnMenus","content"),i=n(e.menu,"_coverMenu._shouldShowProgressBarsOnMenus",!0);return"content"===t?i:"true"===t},renderItems(){const e=n(this.props.theme,"_menu._settings._durationIcon",null);return r(this.props.itemIds,(t,i)=>l.createElement(b,{key:t,itemId:t,width:this.state._width,height:this.state._height,isCurrentItem:i===this.state._stage,shouldShowProgressBarsOnMenus:this.getShouldShowProgressBars(),durationIcon:e}))},render(){return l.createElement("main",{className:this.getClassName()},l.createElement("div",{className:"ev-cover-menu"},v(this.props.menu),this.renderCover(),this.renderCarousel()))}});e.exports=c(e=>({isRTL:n(e.course,"_isRTL",!1)}),{setAriaLive:_})(y)},2162:function(e,t,i){"use strict";const s=i(2),n=i(1),r=i(0),o=i(7),a=i(1387),l=i(478),c=i(303),d=i(63),{MenuItemProgress:u,MenuItemDuration:h,MenuItemLink:m,MenuItemHOC:p}=i(302),v=i(143),g=i(33),_=i(16),b=s({displayName:"CoverMenuItem",propTypes:{item:n.object.isRequired,isCurrentItem:n.bool,shouldShowProgressBarsOnMenus:n.bool,durationIcon:n.string,width:n.number.isRequired,height:n.number.isRequired,pageMenuItemsCompletedCount:n.number,pageMenuItemsCount:n.number,completedChildrenAsPercentage:n.number.isRequired},mixins:[_],renderTitle(){const e=a(this.props.item);if(e)return r.createElement(v,{headingElement:"h2",displayTitle:e,className:"ev-menu-item-title",innerClassName:"ev-menu-item-title-inner"})},renderBody(){if(this.props.item.description)return r.createElement(g,{body:this.props.item.description,className:"ev-menu-item-body",innerClassName:"ev-menu-item-body-inner"})},renderDuration(){const{duration:e,durationLabel:t}=this.props.item;if(e)return r.createElement(h,{duration:e,durationIcon:this.props.durationIcon,durationLabel:t})},renderProgress(){const{props:e}=this;if(e.shouldShowProgressBarsOnMenus)return r.createElement(u,{item:e.item,pageMenuItemsCompletedCount:e.pageMenuItemsCompletedCount,pageMenuItemsCount:e.pageMenuItemsCount,completedChildrenAsPercentage:e.completedChildrenAsPercentage})},renderLink(){const{item:e}=this.props;return r.createElement(m,{isLocked:e._isLocked,isVisited:e._isVisited,linkText:e.linkText,linkIcon:e.linkIcon,isLinkIconRightPosition:e.isLinkIconRightPosition,link:`/${e._type}/${e._id}`})},getItemStyle(){const e={width:this.props.width+"px",height:this.props.height+"px"};if(!this.props.item._coverMenu)return e;const{src:t,srcAdvanced:i}=this.props.item._coverMenu;return e.backgroundImage=`url(${c(t,i,!0)})`,e},getItemClass(){return o("ev-menu-item-container",{"ev-is-current-item":this.props.isCurrentItem})},renderElements(e){return d("menuItem",e,{item:this.props.item})},render(){return r.createElement("div",{id:this.props.item._id,name:"menu item",className:this.getItemClass(),style:this.getItemStyle()},l(this.props.item,"menuitem"),r.createElement("div",{className:"ev-menu-item ev-collection-item ev-menu-item-"+this.props.item._id},this.renderElements("root"),r.createElement("div",{className:"ev-menu-item-inner ev-collection-item-inner"},r.createElement("div",{className:"ev-collection-item-content"},r.createElement("div",{className:"ev-collection-item-content-inner ev-clearfix"},this.renderTitle(),this.renderBody(),this.renderDuration(),this.renderElements("content"))),r.createElement("div",{className:"ev-collection-item-aside"},r.createElement("div",{className:"ev-collection-item-aside-inner"})),r.createElement("div",{className:"ev-collection-item-footer"},r.createElement("div",{className:"ev-collection-item-footer-inner ev-clearfix"},this.renderProgress(),this.renderLink())))))}});e.exports=p(b)},2163:function(e,t,i){"use strict";const s=i(221),n=i(2),r=i(1),o=i(0),{animated:a}=i(77),l=i(7),c=i(318),d=i(303),u=i(24),h=n({displayName:"CoverMenuCover",propTypes:{theme:r.object.isRequired,height:r.number.isRequired,title:r.string,body:r.string,buttonText:r.string,device:r.object.isRequired,hasActionBar:r.bool.isRequired,actionBarElements:r.element.isRequired,onCoverButtonClicked:r.func.isRequired,src:r.object,srcAdvanced:r.object,style:r.object,displayTitleSettings:r.object},getInitialState:()=>({_overrideHeight:null}),componentDidMount(){this.setContentHeight()},UNSAFE_componentWillReceiveProps({device:e}){e!==this.props.device&&this.setContentHeight()},setContentHeight:s((function(){const e=this._content.offsetHeight;e>this.props.height?this.setState({_overrideHeight:e}):this.setState({_overrideHeight:null})}),100),getHeaderClass(){return l("ev-menu-header ev-header",{"ev-header-with-action-bar":this.props.hasActionBar})},getStyle(){return{height:this.state._overrideHeight?this.state._overrideHeight+"px":this.props.height+"px",backgroundImage:`url(${d(this.props.src,this.props.srcAdvanced,!0)})`,...this.props.style}},getDisplayTitleStyles(){const{displayTitleSettings:e}=this.props,t={};return null!=e&&e._fontSize&&(t.fontSize=e._fontSize+"px"),null!=e&&e._textAlign&&(t.textAlign=e._textAlign),t},renderTitle(){if(this.props.title)return o.createElement("div",{className:"ev-menu-title ev-header-title"},o.createElement(u,{element:"h1",className:"ev-menu-title-inner ev-header-title-inner",html:this.props.title,style:this.getDisplayTitleStyles()}))},renderBody(){if(this.props.body)return o.createElement("div",{className:"ev-menu-body ev-header-body"},o.createElement(u,{className:"ev-menu-body-inner ev-header-body-inner",html:this.props.body}))},renderHeader(){const e=this.props.theme._menu._settings;return null!=e&&e._hideMenuHeader?null:this.props.title||this.props.body?o.createElement("div",{className:this.getHeaderClass(),style:c(!0)},o.createElement("div",{className:"ev-menu-header-inner ev-header-inner"},this.renderTitle(),this.renderBody())):void 0},render(){return o.createElement(a.div,{className:"ev-cover-menu-cover",style:this.getStyle(),key:"cover"},o.createElement("div",{className:"ev-menu-container",ref:e=>this._content=e},o.createElement("div",{className:"ev-menu-container-inner"},this.renderHeader(),o.createElement("div",{className:"ev-action-bar-container"},this.props.actionBarElements),o.createElement("div",{className:"ev-cover-actions"},o.createElement("button",{className:"ev-button ev-primary ev-menu-item-view-button",onClick:this.props.onCoverButtonClicked},this.props.buttonText)))))}});e.exports=h}}]);