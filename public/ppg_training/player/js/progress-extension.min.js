(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{1328:function(e,t,s){"use strict";const{registerEpics:i}=s(4),{registerElementsEpic:r}=s(2272);i(r)},2272:function(e,t,s){"use strict";const i=s(8),{Observable:r}=s(5),{SETUP_APP:o}=s(9),{addElement:n}=s(42),l=s(2273),a=s(2275),c=s(2281);t.registerElementsEpic=(e,t)=>e.filter(e=>{if(e.type!==o)return!1;const{course:s}=t.getState();return s._progress&&s._progress._isEnabled}).mergeMap(()=>{const e=t.getState().course._progress,s=void 0===e._isOnRightSide||e._isOnRightSide,o=s?"right":"left",p=s?10:0;return r.of(n({name:"progress",component:l,props:{},parent:"navigationTop",position:o,priority:p}),n({name:"progress",component:a,props:{},parent:"container"}),n({name:"progress",component:c,props:{},parent:"page",position:"container",priority:0,getShouldPersist:e=>{const t=i(e,"course._progress._isEnabled",!1),s=i(e,"course._progress._displayAsStickNav",!1),r=i(e,"course._isRTL",!1);return t&&s&&!r}}))})},2273:function(e,t,s){"use strict";const i=s(2),r=s(0),{connect:o}=s(6),n=s(307),{toggleActiveOverlay:l}=s(176),a=s(2274),c=i({displayName:"ProgressNavigationButtonContainer",render(){const{isRTL:e,progress:t,device:s}=this.props;return!e&&t._displayAsStickNav&&"small"!==s.screenSize?null:r.createElement(a,this.props)}});e.exports=o(e=>({location:e.location,isOpen:n("progress",e),progress:e.course._progress,activeOverlay:e.overlay.activeOverlay,device:e.device,isRTL:e.course._isRTL}),{toggleActiveOverlay:l})(c)},2274:function(e,t,s){"use strict";var i=s(30)(s(21));const r=s(0),o=s(1),n=({progress:e,location:t,activeOverlay:s,isOpen:o,toggleActiveOverlay:n})=>"page"!==t.currentContentType?null:r.createElement("a",(0,i.default)({href:"#",role:"button",tabIndex:s&&!o?"-1":"0",className:"ev-progress-navigation-button ev-navigation-item"},e.progressAriaLabel&&{"aria-label":e.progressAriaLabel},{"aria-expanded":o,onClick:e=>{e.preventDefault(),n("progress")}}),r.createElement("i",{className:"ev-icon ev-progress-navigation-button-icon "+(o?"ev-icon-cross":e._progressNavigationItemIcon?"ev-icon-"+e._progressNavigationItemIcon:"ev-icon-list3")}));n.propTypes={progress:o.object.isRequired,location:o.object.isRequired,activeOverlay:o.string,isOpen:o.bool.isRequired,toggleActiveOverlay:o.func.isRequired},e.exports=n},2275:function(e,t,s){"use strict";const i=s(43),r=s(495),o=s(2),n=s(0),{connect:l}=s(6),{toggleActiveOverlay:a}=s(176),c=s(307),p=s(2276),d=o({displayName:"ProgressSidePanelContainer",render(){const{isRTL:e,progress:t,device:s}=this.props;return!e&&t._displayAsStickNav&&"small"!==s.screenSize?null:n.createElement(p,this.props)}});e.exports=l(e=>{const t={isOpen:c("progress",e),progress:e.course._progress,location:e.location,navigation:e.navigation,device:e.device,isRTL:e.course._isRTL};if("page"===e.location.currentContentType){t.page=e.contentObjects[e.location.currentId];const s=i(e.articles,t.page._childrenIds);t.articles=e.isShowingHiddenContent?s:r(s,e=>e._progress&&e._progress._isEnabled&&!e._isHidden)}return t},{toggleActiveOverlay:a})(d)},2276:function(e,t,s){"use strict";(function(t){var i=s(30)(s(21));const r=s(31),o=s(2),n=s(1),l=s(0),a=s(7),c=s(144),p=s(64),d=s(24),m=s(2277),g=s(2278),u=o({displayName:"ProgressSidePanel",propTypes:{progress:n.object.isRequired,isOpen:n.bool.isRequired,toggleActiveOverlay:n.func.isRequired,articles:n.object},componentWillUnmount(){this.props.isOpen&&this.props.toggleActiveOverlay("progress")},onProgressItemClicked(e){t.scrollTo("."+e,{duration:250,offset:{top:-parseInt(c(),10)}}),this.props.toggleActiveOverlay("progress")},getClassName(){return a("ev-progress-side-panel",{"ev-is-visible":this.props.isOpen,"ev-is-right-side":this.props.progress._isOnRightSide})},getProgressStyles:()=>({top:c()}),renderTitle(){return this.props.progress.progressSidePanelTitle?l.createElement(d,{element:"h2",className:"ev-progress-side-panel-title",html:this.props.progress.progressSidePanelTitle}):null},renderArticles(){return r(this.props.articles,(e,t)=>l.createElement(g,{key:t,article:e,isVisible:this.props.isOpen,useTitleIfNoDisplayTitle:this.props.progress._useTitleIfNoDisplayTitle,doNotUseDisplayTitle:this.props.progress._alwaysUseInternalTitle,onProgressItemClicked:this.onProgressItemClicked,showComponentProgress:this.props.progress._showComponentProgress}))},renderProgressExitCourseButton(){return this.props.progress._showCourseExitButton?l.createElement(m,{text:this.props.progress.courseExitButtonText,isVisible:this.props.isOpen,isOnRightSide:this.props.progress._isOnRightSide}):null},render(){const{progress:e}=this.props;let t=null;return this.props.progress.progressSidebarAriaLabel&&(t=this.props.isOpen?"0":"-1"),l.createElement(p,(0,i.default)({name:"progress",isVisible:this.props.isOpen,className:this.getClassName(),style:this.getProgressStyles(),tabIndex:t,"aria-hidden":!this.props.isOpen},e.progressSidebarAriaLabel&&{"aria-label":e.progressSidebarAriaLabel}),this.renderTitle(),l.createElement("ul",{className:"ev-progress-articles"},this.renderArticles()),l.createElement("div",{className:"ev-progress-actions"},this.renderProgressExitCourseButton()))}});e.exports=u}).call(this,s(29))},2277:function(e,t,s){"use strict";const i=s(0),r=s(1),o=e=>{const t="ev-icon ev-progress-exit-course-button-icon ev-icon-arrow-"+(e.isOnRightSide?"right":"left");return i.createElement("button",{tabIndex:e.isVisible?"0":"-1",className:"ev-button ev-primary ev-progress-exit-course-button",onClick:e=>{e.preventDefault(),window._exitCourse()}},(()=>{if(!e.isOnRightSide)return i.createElement("i",{className:t})})(),e.text,(()=>{if(e.isOnRightSide)return i.createElement("i",{className:t})})())};o.propTypes={text:r.string,isOnRightSide:r.bool,isVisible:r.bool},e.exports=o},2278:function(e,t,s){"use strict";const i=s(2),r=s(0),{connect:o}=s(6),n=s(122),l=s(121),a=s(2279),c=i({displayName:"ProgressArticleItemContainer",render(){return r.createElement(a,this.props)}});e.exports=o((e,t)=>({isComplete:n(t.article,e),blocks:l(e,t.article,"block"),components:l(e,t.article,"component"),isShowingHiddenContent:e.isShowingHiddenContent}))(c)},2279:function(e,t,s){"use strict";const i=s(32),r=s(18),o=s(31),n=s(2),l=s(1),a=s(0),c=s(7),p=s(24),d=s(2280),m=n({displayName:"ProgressArticleItem",propTypes:{article:l.object.isRequired,components:l.array.isRequired,blocks:l.array.isRequired,isComplete:l.bool.isRequired,onProgressItemClicked:l.func.isRequired,isVisible:l.bool.isRequired,isShowingHiddenContent:l.bool,useTitleIfNoDisplayTitle:l.bool,doNotUseDisplayTitle:l.bool,showComponentProgress:l.bool},onProgressItemClicked(e){e.preventDefault(),e.stopPropagation(),this.props.onProgressItemClicked(this.props.article._id)},renderArticleTitle(){const{useTitleIfNoDisplayTitle:e,doNotUseDisplayTitle:t}=this.props,{displayTitle:s,title:i}=this.props.article,r=t?i:s||(i&&e?i:"<br/>");return a.createElement(p,{html:r})},renderComponents(){const{props:e}=this;if(!e.showComponentProgress)return;const t=e.isShowingHiddenContent?e.components:i(e.components,t=>{if(t._isHidden)return!1;return!r(e.blocks,{_id:t._parentId})._isHidden}),s=o(t,t=>{if(t._progress&&t._progress._isEnabled)return a.createElement(d,{key:t._id,component:t,isVisible:e.isVisible,onProgressItemClicked:e.onProgressItemClicked,useTitleIfNoDisplayTitle:e.useTitleIfNoDisplayTitle,doNotUseDisplayTitle:e.doNotUseDisplayTitle})});return a.createElement("ul",{className:"ev-progress-article-item-components"},s)},render(){return a.createElement("li",null,a.createElement("a",{href:"#",tabIndex:this.props.isVisible?"0":"-1",className:"ev-progress-article-item",onClick:this.onProgressItemClicked},a.createElement("div",{className:"ev-progress-article-item-title"},a.createElement("div",{className:c("ev-progress-article-item-completion-indicator",{"ev-is-complete":this.props.isComplete})},a.createElement("i",{className:"ev-icon ev-icon-check"})),this.renderArticleTitle())),this.renderComponents())}});e.exports=m},2280:function(e,t,s){"use strict";const i=s(2),r=s(1),o=s(0),n=s(7),l=s(24),a=i({displayName:"ProgressComponentItem",propTypes:{component:r.object.isRequired,isVisible:r.bool.isRequired,onProgressItemClicked:r.func.isRequired,useTitleIfNoDisplayTitle:r.bool,doNotUseDisplayTitle:r.bool},onProgressItemClicked(e){e.preventDefault(),e.stopPropagation(),this.props.onProgressItemClicked(this.props.component._id)},renderComponentTitle(){const{useTitleIfNoDisplayTitle:e,doNotUseDisplayTitle:t}=this.props,{displayTitle:s,title:i}=this.props.component,r=t?i:s||(i&&e?i:"<br/>");return o.createElement(l,{html:r})},render(){return o.createElement("li",null,o.createElement("a",{href:"#",role:"button",tabIndex:this.props.isVisible?"0":"-1",className:"ev-progress-component-item",onClick:this.onProgressItemClicked},o.createElement("div",{className:"ev-progress-component-item-title"},o.createElement("div",{className:n("ev-progress-component-item-completion-indicator",{"ev-is-complete":this.props.component._isComplete})},o.createElement("i",{className:"ev-icon ev-icon-check"})),this.renderComponentTitle())))}});e.exports=a},2281:function(e,t,s){"use strict";const i=s(43),r=s(495),o=s(2),n=s(0),{connect:l}=s(6),a=s(2282),c=o({displayName:"ProgressStickyNavContainer",render(){const{isRTL:e,progress:t,location:s,device:i}=this.props;return e||!t._displayAsStickNav||"page"!==s.currentContentType||"small"===i.screenSize?null:n.createElement(a,this.props)}});e.exports=l(e=>{const t={progress:e.course._progress,location:e.location,navigation:e.navigation,device:e.device,theme:e.theme,isRTL:e.course._isRTL,isInline:e.inline.isEnabled};if("page"===e.location.currentContentType){t.page=e.contentObjects[e.location.currentId];const s=i(e.articles,t.page._childrenIds);t.articles=e.isShowingHiddenContent?s:r(s,e=>e._progress&&e._progress._isEnabled&&!e._isHidden)}return t})(c)},2282:function(e,t,s){"use strict";(function(t){const i=s(221),r=s(66),o=s(8),n=s(31),l=s(2),a=s(1),c=s(0),p=s(48),d=s(144),{Spring:m,config:g,animated:u}=s(77),v=s(2283),h=l({displayName:"ProgressStickyNav",propTypes:{progress:a.object.isRequired,device:a.object.isRequired,isInline:a.bool.isRequired,previousButtonAriaLabel:a.string,nextButtonAriaLabel:a.string,articles:a.object,theme:a.object},getInitialState:()=>({_currentIndex:0,_itemsVisible:5}),componentDidMount(){this.updateItemsVisible(),window.addEventListener("scroll",this.findActiveArticle)},componentWillUnmount(){window.removeEventListener("scroll",this.findActiveArticle)},UNSAFE_componentWillReceiveProps({device:e}){e.windowWidth!==this.props.device.windowWidth&&this.updateItemsVisible()},updateItemsVisible(){const e=Math.floor(this._itemsContainer.offsetWidth/180);this.setState({_itemsVisible:e},()=>{this.findActiveArticle()})},findActiveArticle:i((function(){const e=window.pageYOffset,s=window.innerHeight,i=s/3,o=r(this.props.articles),{_itemsVisible:n,_currentIndex:l}=this.state;let a=l;if(0===e)a=0;else if(e+s===t(document).height())a=o.length-n;else{for(let e=0;e<o.length;e++){const r=o[e],n=document.querySelectorAll(`[data-id='${r}']`)[0].getBoundingClientRect();if(n.bottom>0+i&&n.left<t(window).width()&&n.top<s+i){a=e;break}}a+n>=o.length&&(a=o.length-n)}this.setState({_currentIndex:a})}),100),onProgressItemClicked(e){const s=parseInt(d(),10),i=p.findDOMNode(this).offsetHeight,{top:r}=t("."+e).offset();window.scrollTo(0,r-(s+i))},updateCurrentIndex(e){this.setState({_currentIndex:e})},onPreviousClicked(e){e.preventDefault();let t=this.state._currentIndex-1;t<0&&(t=0),this.updateCurrentIndex(t)},onNextClicked(e){e.preventDefault();const t=r(this.props.articles).length;let s=this.state._currentIndex+1;s>t-1&&(s=t-1),this.updateCurrentIndex(s)},renderPreviousControl(){const e=r(this.props.articles).length-this.state._itemsVisible,t=o(this.props.theme,"_extensions._progress._settings._progressStickyNavLeftControlIcon","arrow-left");if(0!==this.state._currentIndex&&0!==e)return c.createElement("button",{className:"ev-progress-sticky-nav-items-container-control ev-progress-sticky-nav-items-container-control-before",onClick:this.onPreviousClicked,"aria-label":this.props.previousButtonAriaLabel},c.createElement("i",{className:"ev-icon ev-icon-"+t}))},renderNextControl(){const e=r(this.props.articles).length-this.state._itemsVisible,t=o(this.props.theme,"_extensions._progress._settings._progressStickyNavRightControlIcon","arrow-right");if(!(this.state._currentIndex>=e))return c.createElement("button",{className:"ev-progress-sticky-nav-items-container-control ev-progress-sticky-nav-items-container-control-after",onClick:this.onNextClicked,"aria-label":this.props.nextButtonAriaLabel},c.createElement("i",{className:"ev-icon ev-icon-"+t}))},renderItems(){const{articles:e,progress:t}=this.props;let s=0;return n(e,(e,i)=>(s+=1,c.createElement(v,{key:i,article:e,index:s,onProgressItemClicked:this.onProgressItemClicked,useTitleIfNoDisplayTitle:t._useTitleIfNoDisplayTitle,doNotUseDisplayTitle:t._alwaysUseInternalTitle})))},render(){const{props:e}=this,s=o(e,"page._isReady",!1);let i=d();return e.isInline&&(i=t("#ev-root").offset().top),c.createElement("div",{className:"ev-progress-sticky-nav-container"},c.createElement(m,{native:!0,from:{opacity:0,y:-40},to:{opacity:s?1:0,y:s?0:-40},config:g.slow},({opacity:e,y:t})=>c.createElement(u.div,{className:"ev-progress-sticky-nav",style:{opacity:e,top:i,transform:t.interpolate(e=>`translate3d(0,${e}%,0)`)}},c.createElement("div",{className:"ev-progress-sticky-nav-items-container",ref:e=>this._itemsContainer=e},this.renderPreviousControl(),c.createElement(m,{native:!0,from:{x:0},to:{x:180*this.state._currentIndex},config:g.gentle},({x:e})=>c.createElement(u.div,{className:"ev-progress-sticky-nav-items",style:{transform:e.interpolate(e=>`translate3d(-${e}px, 0, 0)`)}},this.renderItems())),this.renderNextControl()))))}});e.exports=h}).call(this,s(29))},2283:function(e,t,s){"use strict";const i=s(2),r=s(0),{connect:o}=s(6),n=s(122),l=s(2284),a=i({displayName:"ProgressStickyNavItemContainer",render(){return r.createElement(l,this.props)}});e.exports=o((e,t)=>({isComplete:n(t.article,e)}))(a)},2284:function(e,t,s){"use strict";const i=s(2),r=s(1),o=s(0),n=s(7),l=s(24),a=i({displayName:"ProgressStickyNavItem",propTypes:{article:r.object.isRequired,index:r.number.isRequired,isComplete:r.bool.isRequired,onProgressItemClicked:r.func.isRequired,doNotUseDisplayTitle:r.bool,useTitleIfNoDisplayTitle:r.bool},onClick(e){e.preventDefault(),this.props.onProgressItemClicked(this.props.article._id,this.props.index)},renderIcon(){const{index:e,isComplete:t}=this.props;return t?o.createElement("i",{className:"ev-icon ev-icon-check ev-progress-sticky-nav-item-complete-icon"}):o.createElement("span",null,e)},render(){const{article:e,isComplete:t,useTitleIfNoDisplayTitle:s,doNotUseDisplayTitle:i}=this.props,{displayTitle:r,title:a}=e,c=i?a:r||(a&&s?a:"<br/>");return o.createElement("div",{className:n("ev-progress-sticky-nav-item",{"ev-is-complete":t}),key:e._id},o.createElement("button",{className:n("ev-progress-sticky-nav-item-button",{"ev-is-complete":t}),onClick:this.onClick,"aria-label":c},this.renderIcon()),o.createElement(l,{className:"ev-progress-sticky-nav-item-label",html:c}),o.createElement("div",{className:"ev-progress-sticky-nav-item-connection"}))}});e.exports=a}}]);