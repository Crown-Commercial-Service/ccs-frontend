(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{1282:function(e,t,n){"use strict";const{registerComponent:s}=n(4),o=n(2022),i=n(2023),{saveUserAnswer:r,editUserAnswer:u}=n(1554);s("numberInput",{component:o,actions:{saveUserAnswer:r,editUserAnswer:u},reducer:i,mapStateToProps:n(2024),trackingMap:n(2025)})},1370:function(e,t,n){"use strict";const s=n(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,n){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:s}=e;return!0===s&&!0===n._isReady&&!0!==n[t]}},1372:function(e,t,n){"use strict";e.exports=function(e,t,n,s,o){s&&s.props&&s.props.component?(t.top&&(s.isInviewTop=!0),t.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&o&&o(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1380:function(e,t,n){var s=n(88),o=n(49);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==s(e)}},1396:function(e,t,n){var s=n(1380);e.exports=function(e){return s(e)&&e!=+e}},1490:function(e,t,n){"use strict";const s=n(1396),o=n(2),i=n(1),r=n(0),u=n(7),c=o({displayName:"Input",propTypes:{type:i.oneOf(["text","number"]),value:i.oneOfType([i.string,i.number]),onChange:i.func.isRequired,onFocus:i.func,onBlur:i.func,className:i.string,placeholder:i.string,min:i.number,max:i.number,ariaLabel:i.string,isDisabled:i.bool,shouldFocus:i.bool},getDefaultProps:function(){return{type:"text"}},onChange:function(e){const{type:t,min:n,max:o,onChange:i}=this.props;let r=e.target.value;if("number"===t){if(r=parseInt(r),!s(r)&&(r<n||r>o))return;s(r)&&(r="")}i(r)},componentDidUpdate:function(e){const{shouldFocus:t}=this.props;t&&!e.shouldFocus&&this._input.focus()},render:function(){const{className:e,type:t,value:n,onFocus:s,onBlur:o,placeholder:i,min:c,max:a,ariaLabel:p,isDisabled:l}=this.props;return r.createElement("input",{ref:e=>this._input=e,className:u("ev-input ev-input-text",e),type:t,value:n,onChange:this.onChange,onFocus:s,onBlur:o,placeholder:i,min:c,max:a,disabled:l,"aria-label":p})}});e.exports=c},1554:function(e,t,n){"use strict";t.NUMBERINPUT_SAVE_USER_ANSWER="NUMBERINPUT_SAVE_USER_ANSWER",t.NUMBERINPUT_EDIT_USER_ANSWER="NUMBERINPUT_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.NUMBERINPUT_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.NUMBERINPUT_EDIT_USER_ANSWER,payload:e})},2022:function(e,t,n){"use strict";const s=n(308),o=n(2),i=n(1),r=n(0),u=n(7),{Component:c}=n(468),a=n(1490),p=n(1370),l=n(1371),m=n(1372),d=o({displayName:"NumberInput",propTypes:{component:i.object.isRequired,setComponentAsReady:i.func.isRequired,setComponentAsViewed:i.func.isRequired,setComponentAsComplete:i.func.isRequired,saveUserAnswer:i.func.isRequired,editUserAnswer:i.func.isRequired,updateVariable:i.func.isRequired,styles:i.object,articleStyle:i.string.isRequired,theme:i.object.isRequired},getInitialState:function(){const{_userAnswer:e,_defaultValue:t}=this.props.component;return{_userAnswer:s(e)?t:e,_previousUserAnswer:void 0}},componentDidMount:function(){this.props.setComponentAsReady(this.props.component._id)},onInputChange:function(e){this.setState({_userAnswer:e})},onSubmitClicked:function(e){e.preventDefault();const{props:t,state:n}=this;t.saveUserAnswer({componentId:t.component._id,userAnswer:n._userAnswer}),t.setComponentAsComplete(t.component._id,{_isSubmitted:!0}),t.component._canSaveToVariable&&t.updateVariable(t.component._variableId,n._userAnswer,t.component._variableUpdateType,n._previousUserAnswer)},onEditClicked:function(e){e.preventDefault();const{props:t,state:n}=this;this.setState({_previousUserAnswer:n._userAnswer}),t.editUserAnswer({componentId:t.component._id})},onVisibilityChange:function(...e){m(...e,this,this.props.setComponentAsViewed)},getButtonSettings:function(){const{articleStyle:e,theme:t}=this.props;let n=t._button._settings;if(e&&"none"!==e){n=t._articleStyles[e]._elements._button._settings}return n},renderSubmittedLabel:function(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return r.createElement("div",{className:"ev-label"},t)},renderButtons:function(){const{submitButtonText:e,editButtonText:t,_isEditing:n,_isComplete:s,_allowEditing:o}=this.props.component,{_userAnswer:i}=this.state,{_isActionButtonOnRight:c}=this.getButtonSettings();return r.createElement("div",{className:u("ev-buttons",{"ev-switch-buttons":c})},(!s||n)&&r.createElement("button",{className:"ev-button ev-button-submit",onClick:this.onSubmitClicked,disabled:""===i},e),o&&s&&!n&&r.createElement("button",{className:"ev-button ev-button-edit",onClick:this.onEditClicked},t))},render:function(){const{props:e,state:t}=this;return r.createElement(c,{component:e.component,styles:e.styles,isVisibilitySensorActive:l(e),onVisibilityChange:this.onVisibilityChange},r.createElement("div",null,r.createElement("div",{className:p(e.component)},r.createElement(a,{type:"number",value:t._userAnswer,onChange:this.onInputChange,isDisabled:e.component._isComplete&&!e.component._isEditing,min:e.component._minValue,max:e.component._maxValue,shouldFocus:e.component._isEditing,ariaLabel:e.component.numberInputAriaLabel}),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=d},2023:function(e,t,n){"use strict";const{NUMBERINPUT_SAVE_USER_ANSWER:s,NUMBERINPUT_EDIT_USER_ANSWER:o}=n(1554);e.exports=function(e,t){switch(t.type){case s:return{...e,_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1};case o:return{...e,_isEditing:!0,_isSubmitted:!1};default:return e}}},2024:function(e,t,n){"use strict";const s=n(78);e.exports=(e,t)=>({articleStyle:s(e,t,"article")._classes})},2025:function(e,t,n){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"Number",shouldRestore:!0}}}}]);