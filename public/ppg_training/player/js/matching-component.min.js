(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1276:function(e,t,i){"use strict";const{registerComponent:n}=i(4),o=i(1998),s=i(2001),{matchingValueChanged:r}=i(1549);n("matching",{component:o,actions:{matchingValueChanged:r},reducer:s,trackingMap:i(2002)})},1370:function(e,t,i){"use strict";const n=i(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1376:function(e,t,i){"use strict";const{store:n}=i(4),o=i(170);function s(e,t,i){const s=e._feedback[i],r=s&&o(s.src,s.srcAdvanced);if(t&&!r){return n.getState().course._globals._feedbackText[i]}return r?s:null}function r(e,t){const i=e._feedbackNavigation;if(i&&i[t]&&i[t]._isEnabled&&i[t]._linkType)return{_link:i[t]}}e.exports=function(e){let t;return t=e._isCorrect?function(e){const t=e._feedback._shouldUseGlobalCorrectFeedback;return{feedbackMessage:(t?n.getState().course._globals._feedbackText.correctFeedback:"")+(e._feedback.correct?e._feedback.correct:""),feedbackGraphic:s(e,t,"_correctGraphic"),feedbackNavigation:r(e,"_correct")}}(e):e._isPartlyCorrect?function(e){const{_partlyCorrect:t}=e._feedback,i=t._shouldUseGlobalPartlyCorrectFeedback,o=n.getState().course._globals._feedbackText;if(0===e._attemptsLeft){return{feedbackMessage:(i?o.partlyCorrectFinalFeedback:"")+(t.final||""),feedbackGraphic:s(e,i,"_partlyCorrectFinalGraphic"),feedbackNavigation:r(e,"_partlyCorrect")}}return{feedbackMessage:(i?o.partlyCorrectNotFinalFeedback:"")+(t.notFinal||""),feedbackGraphic:s(e,i,"_partlyCorrectNotFinalGraphic"),feedbackNavigation:r(e,"_partlyCorrectNotFinal")}}(e):function(e){const{_incorrect:t}=e._feedback,i=t._shouldUseGlobalIncorrectFeedback,o=n.getState().course._globals._feedbackText;if(0===e._attemptsLeft||!t.notFinal&&!i||!o.incorrectNotFinalFeedback&&i){return{feedbackMessage:(i?o.incorrectFinalFeedback:"")+(t.final||""),feedbackGraphic:s(e,i,"_incorrectFinalGraphic"),feedbackNavigation:r(e,0===e._attemptsLeft?"_incorrect":"_incorrectNotFinal")}}return{feedbackMessage:(i?o.incorrectNotFinalFeedback:"")+(t.notFinal||""),feedbackGraphic:s(e,i,"_incorrectNotFinalGraphic"),feedbackNavigation:r(e,"_incorrectNotFinal")}}(e),!1!==e._shouldShowDisplayTitleInFeedback&&(t.feedbackTitle=e.displayTitle),t}},1549:function(e,t,i){"use strict";t.MATCHING_VALUE_CHANGED="MATCHING_VALUE_CHANGED",t.matchingValueChanged=function(e,i,n){return{type:t.MATCHING_VALUE_CHANGED,payload:{componentId:e,itemId:i,value:n}}}},1998:function(e,t,i){"use strict";const n=i(31),o=i(2),s=i(1),r=i(0),c=i(7),{Component:a}=i(468),d=i(1370),l=i(1376),u=i(1999),p=o({displayName:"Matching",propTypes:{component:s.object.isRequired,submitQuestion:s.func.isRequired,actionButtonClicked:s.func.isRequired,setComponentAsReady:s.func.isRequired,setComponentAsViewed:s.func.isRequired,setComponentAsStarted:s.func.isRequired,submitQuestion:s.func.isRequired,showFeedback:s.func.isRequired,matchingValueChanged:s.func.isRequired,shouldHideMarking:s.bool},componentDidMount:function(){const{props:e}=this;e.setComponentAsReady(e.component._id)},componentDidUpdate:function(e){const{component:t}=this.props;!e.component._isSubmitted&&t._isSubmitted&&this.showFeedback()},showFeedback:function(){const{component:e}=this.props,t=l(e);this.props.showFeedback(t)},onMatchingValueChange:function(e,t){const{props:i}=this;i.component._hasStarted||i.setComponentAsStarted(i.component._id),i.matchingValueChanged(i.component._id,e,t)},onVisibilityChange:function(e,{top:t,bottom:i}){const{props:n}=this;t&&(this.isInviewTop=!0),i&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&n.setComponentAsViewed(n.component._id)},getWidgetClassName:function(){const{component:e}=this.props;return c(d(e),{"ev-disabled":!e._isEnabled,"ev-correct":e._isComplete&&e._isCorrect,"ev-complete":e._isComplete,"ev-submitted":e._isSubmitted})},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._hasBeenViewed},renderItems:function(){const{component:e,isRTL:t,shouldHideMarking:i}=this.props;let o=e[e._selectedAnswerState];return n(o,n=>r.createElement(u,{key:n._id,item:n,componentId:e._id,placeholder:e.placeholder,isEnabled:e._isEnabled,isSubmitted:e._isSubmitted,isComplete:e._isComplete,onChange:this.onMatchingValueChange,isRTL:t,shouldHideMarking:i}))},render:function(){const{props:e}=this;return r.createElement(a,{component:e.component,styles:e.styles,shouldHideMarking:e.shouldHideMarking,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange,onActionButtonClicked:e.actionButtonClicked,onFeedbackButtonClicked:this.showFeedback},r.createElement("div",{className:this.getWidgetClassName()},this.renderItems()))}});e.exports=p},1999:function(e,t,i){"use strict";const n=i(31),o=i(2),s=i(1),r=i(16),c=i(0),a=i(7),d=i(1489).default,l=i(24),u=o({displayName:"MatchingItem",propTypes:{item:s.object.isRequired,isEnabled:s.bool,isComplete:s.bool,isSubmitted:s.bool,placeholder:s.string,componentId:s.string.isRequired,onChange:s.func.isRequired,shouldHideMarking:s.bool},mixins:[r],onChange:function(e){const{props:t}=this;t.onChange(t.item._id,e)},getClassName:function(){const{item:e,isEnabled:t,isComplete:i,isSubmitted:n}=this.props;return a("ev-matching-item",{"ev-correct":e._isCorrect&&!t,"ev-incorrect":!e._isCorrect&&!t,"ev-disabled":!t,"ev-submitted":n,"ev-complete":i})},renderIcon:function(e,t){const{item:i,isComplete:n,shouldHideMarking:o}=this.props,s=a("ev-matching-select-icon ev-matching-dropdown-icon ev-icon",{"ev-icon-chevron-down ev-matching-dropdown-icon":!n,"ev-icon-check":n&&i._isCorrect&&!o,"ev-icon-cross":n&&!i._isCorrect&&!o,"ev-matching-correct-icon":n&&i._isCorrect&&!o,"ev-matching-incorrect-icon":n&&!i._isCorrect&&!o});return c.createElement("i",{className:s})},renderSelect:function(e){const{item:t,isRTL:i,isEnabled:o,isSubmitted:s,placeholder:r}=this.props,a=n(t._options,e=>({value:e._id,label:e.text}));return c.createElement(d,{name:"matching-select-"+t._id,"aria-labelledby":e,className:"ev-matching-select",value:t.value||"",onChange:this.onChange,options:a,placeholder:r||"",disabled:!o||s,searchable:!1,simpleValue:!0,clearable:!1,arrowRenderer:this.renderIcon,rtl:i})},render:function(){const{props:e}=this,t=`${e.componentId}-${e.item._id}-title`;return c.createElement("div",{className:this.getClassName()},c.createElement(l,{id:t,className:"ev-matching-item-title ev-component-item-title",html:e.item.text}),this.renderSelect(t))}});e.exports=u},2001:function(e,t,i){"use strict";const n=i(31),o=i(10),s=i(470),r=i(18),{SETUP_COMPONENT:c,SETUP_ANSWER_STATE:a,RESET_QUESTION:d,SUBMIT_QUESTION:l,SHOW_CORRECT_ANSWER:u,HIDE_CORRECT_ANSWER:p}=i(61),{MATCHING_VALUE_CHANGED:_}=i(1549);function m(e){return o({},e,{_selectedAnswerState:"_correctAnswer"})}function h(e){const t=e._items.map(e=>o({},e,{value:void 0,_isCorrect:void 0}));return o({},e,{_items:t,_canSubmit:!1})}e.exports=function(e,t){switch(t.type){case c:return function(e){if(e._isComplete)e._isComplete&&!e._hasUserAnswered&&(e=e._isCorrect?m(e):function(e){return o({},e,{_selectedAnswerState:"_incorrectAnswer"})}(e));else{if(e._isRandom){const t=n(e._items,e=>o({},e,{_options:s(e._options)}));e=o({},e,{_items:t})}e=h(e)}return e}(e);case a:return function(e){return e._correctAnswer=n(e._items,e=>{const t=r(e._options,e=>e._isCorrect);return o({},e,{_isCorrect:!0,value:t?t._id:null})}),e._incorrectAnswer=e._items.map(e=>e._shouldBeSelected?o({},e):o({},e,{_isCorrect:!1,_isSelected:!0})),e}(e);case _:return function(e,t){if(e._isSubmitted)return e;let i=!0;const s=n(e._items,e=>(e._id===t.payload.itemId&&(e=o({},e,{value:t.payload.value})),e.value||(i=!1),e));return o({},e,{_items:s,_canSubmit:i})}(e,t);case l:return function(e){if(!e._canSubmit)return e;let t=!1,i=0;const s=n(e._items,(function(e,n){const s=!!r(e._options,t=>t._isCorrect&&t._id===e.value);return s&&(t=!0,i+=1),o({},e,{_isCorrect:s})})),c=i===s.length;return o({},e,{_items:s,_isCorrect:c,_isPartlyCorrect:!c&&t,_hasUserAnswered:!0})}(e);case u:return m(e);case p:return function(e){return o({},e,{_selectedAnswerState:"_items"})}(e);case d:return h(e);default:return e}}},2002:function(e,t,i){"use strict";e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},value:{fieldKey:"value",type:"String",shouldRestore:!0}}},_hasUserAnswered:{fieldKey:"_hasUserAnswered",type:"Boolean",shouldRestore:!0},_attemptsLeft:{fieldKey:"_attemptsLeft",type:"Number",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0}}}}]);