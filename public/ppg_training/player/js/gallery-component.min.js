(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{1261:function(e,t,i){"use strict";const{registerComponent:n}=i(4),s=i(1862),o=i(1864),{galleryItemSelected:c}=i(1529);n("gallery",{component:s,actions:{galleryItemSelected:c},reducer:o,trackingMap:i(1865)})},1370:function(e,t,i){"use strict";const n=i(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1529:function(e,t,i){"use strict";t.GALLERY_ITEM_SELECTED="GALLERY_ITEM_SELECTED",t.galleryItemSelected=(e,i)=>({type:t.GALLERY_ITEM_SELECTED,payload:{componentId:e,itemId:i}})},1862:function(e,t,i){"use strict";const n=i(32),s=i(301),o=i(18),c=i(31),r=i(8),l=i(2),a=i(1),p=i(16),m=i(0),u=i(7),{Component:d}=i(468),h=i(1370),_=i(1863),y=i(119),g=i(170),v=i(87),f=l({displayName:"Gallery",propTypes:{component:a.object.isRequired,setComponentAsReady:a.func.isRequired,setComponentAsViewed:a.func.isRequired,setComponentAsStarted:a.func.isRequired,setComponentAsComplete:a.func.isRequired,galleryItemSelected:a.func.isRequired},mixins:[p],getInitialState:function(){return{_isAutoPlaying:!0}},componentDidMount:function(){const{props:e}=this;e.setComponentAsReady(e.component._id),this.startAutoPlay()},componentWillUnmount:function(){this.stopAutoPlay()},componentWillReceiveProps:function({component:e}){if(!e._isComplete){n(e._items,e=>e._isVisited).length===e._items.length&&this.props.setComponentAsComplete(e._id)}},startAutoPlay:function(){const{props:e}=this;e.component._shouldAutoplay&&(this._interval=setInterval(this.nextStage,e.component._autoplaySpeed))},stopAutoPlay:function(){const{props:e}=this;e.component._shouldAutoplay&&(clearInterval(this._interval),this._interval=void 0)},nextStage:function(){const{props:e}=this,t=e.component._items;let i=s(t,e=>e._isSelected)+1;t[i]||(i=0),this.onGalleryItemSelected(t[i])},onGalleryItemSelected:function(e){const{props:t}=this;t.galleryItemSelected(t.component._id,e._id)},onToggleAutoPlayClicked:function(){const{state:e}=this;e._isAutoPlaying?this.stopAutoPlay():this.startAutoPlay(),this.setState({_isAutoPlaying:!e._isAutoPlaying})},onVisibilityChange:function(e,{top:t,bottom:i}){const{props:n}=this;t&&(this.isInviewTop=!0),i&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&(n.setComponentAsViewed(n.component._id),n.setComponentAsStarted(n.component._id))},getSelectedItem:function(){const{component:e}=this.props;return o(e._items,e=>e._isSelected)},getButtonClassName:function(){const{component:e}=this.props;return u("ev-button ev-gallery-toggle-autoplay",{"ev-gallery-toggle-autoplay-top":"top"===e._thumbnailPosition,"ev-gallery-toggle-autoplay-bottom":"bottom"===e._thumbnailPosition})},getButtonIconClassName:function(){const{state:e}=this;return u("ev-icon",{"ev-icon-pause-circle":e._isAutoPlaying,"ev-icon ev-icon-play-circle":!e._isAutoPlaying})},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._hasBeenViewed},renderPlayButton:function(){const{state:e,props:t}=this;if(t.component._shouldAutoplay)return m.createElement("button",{className:this.getButtonClassName(),onClick:this.onToggleAutoPlayClicked},m.createElement("i",{className:this.getButtonIconClassName()}))},renderGraphics:function(e){const{props:t}=this,i=this.getSelectedItem(),n=c(t.component._items,n=>{const s=r(i,"_id")===n._id;return n._graphic&&g(n._graphic.src,n._graphic.srcAdvanced)?m.createElement(v,{key:n._id,className:u("ev-gallery-image ev-clearfix",{"ev-top":!e}),animations:t.component._animations,startAnimation:s,ariaHidden:!s,style:{display:s?"block":"none"}},m.createElement(y,{graphicSrc:n._graphic.src,graphicSrcAdvanced:n._graphic.srcAdvanced,altText:n._graphic.alt,autoSize:!0})):null});return m.createElement("div",{className:"ev-gallery-items"},n)},renderThumbnails:function(e){const{props:t}=this,i=c(t.component._items,e=>e._graphic&&g(e._graphic.src,e._graphic.srcAdvanced)?m.createElement(_,{key:e._id,item:e,onGalleryItemSelected:this.onGalleryItemSelected,screenSize:t.screenSize}):null);return m.createElement("div",{className:u("ev-gallery-image-select",{"ev-bottom":e})},m.createElement("ul",{className:"ev-gallery-image-select-inner ev-clearfix"},i))},renderWidget:function(){const{props:e}=this;return"top"===e.component._thumbnailPosition?m.createElement("div",{className:h(e.component)},this.renderThumbnails(!1),this.renderGraphics(!1),this.renderPlayButton()):m.createElement("div",{className:h(e.component)},this.renderGraphics(!0),this.renderPlayButton(),this.renderThumbnails(!0))},render:function(){const{props:e}=this;return m.createElement(d,{component:e.component,styles:e.styles,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange},this.renderWidget())}});e.exports=f},1863:function(e,t,i){"use strict";const n=i(2),s=i(1),o=i(0),c=i(16),r=i(7),l=i(119),a=n({displayName:"GalleryItem",propTypes:{item:s.object.isRequired,onGalleryItemSelected:s.func.isRequired},mixins:[c],onGalleryItemClicked:function(e){e.preventDefault();const{props:t}=this;t.onGalleryItemSelected(t.item)},getClassName:function(){return r("ev-gallery-item-inner",{"ev-selected":this.props.item._isSelected})},render:function(){const{item:e}=this.props;return o.createElement("li",{className:"ev-gallery-item"},o.createElement("button",{className:this.getClassName(),onClick:this.onGalleryItemClicked},o.createElement(l,{className:"ev-gallery-item-image",graphicSrc:e._graphic.src,graphicSrcAdvanced:e._graphic.srcAdvanced,altText:e._graphic.alt,autoSize:!0})))}});e.exports=a},1864:function(e,t,i){"use strict";const n=i(18),s=i(31),o=i(10),{SETUP_COMPONENT:c}=i(61),{GALLERY_ITEM_SELECTED:r}=i(1529);e.exports=(e,t)=>{switch(t.type){case c:return function(e){let t=n(e._items,e=>e._isSelected);if(e._items.length&&!t){const t=s(e._items,(e,t)=>o({},e,{_isSelected:0===t,_isVisited:0===t}));return o({},e,{_items:t})}return e}(e);case r:return function(e,t){const{itemId:i}=t.payload,n=s(e._items,e=>e._id===i?o({},e,{_isSelected:!0,_isVisited:!0}):e._isSelected?o({},e,{_isSelected:!1}):e);return o({},e,{_items:n})}(e,t);default:return e}}},1865:function(e,t,i){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isVisited:{fieldKey:"_isVisited",type:"Boolean",shouldRestore:!0}}}}}}]);