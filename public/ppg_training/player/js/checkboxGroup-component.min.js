(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{1250:function(e,t,n){"use strict";const{registerComponent:i}=n(4),s=n(1790),o=n(1792),{saveUserAnswer:r,editUserAnswer:a}=n(1519);i("checkboxGroup",{component:s,actions:{saveUserAnswer:r,editUserAnswer:a},reducer:o,trackingMap:n(1793)})},1370:function(e,t,n){"use strict";const i=n(7);e.exports=function(e){return i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,n){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:i}=e;return!0===i&&!0===n._isReady&&!0!==n[t]}},1372:function(e,t,n){"use strict";e.exports=function(e,t,n,i,s){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&s&&s(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1374:function(e,t,n){"use strict";const i=n(39),s=n(10),o=n(2),r=n(0),a=n(7),c=n(1),l=n(219),{Trail:u,config:d,animated:p,interpolate:m}=n(77),{connect:h}=n(6),_=o({displayName:"Grid",propTypes:{isList:c.bool.isRequired,isRTL:c.bool.isRequired,shouldIgnoreScreenSize:c.bool.isRequired,animations:c.object,gridItemStyle:c.object,gridItemInnerStyle:c.object,windowWidth:c.number.isRequired,getGridItemInnerStyle:c.func,hasGridItemInnerPadding:c.bool,className:c.string,columns:c.number,separatorBorder:c.string},getDefaultProps:()=>({isList:!1,isRTL:!1,shouldIgnoreScreenSize:!1,gridItemStyle:{},gridItemInnerStyle:{},hasGridItemInnerPadding:!0,animations:{_slideInX:{_isEnabled:!1},_slideInY:{_isEnabled:!1},_fadeInItem:{_isEnabled:!1},_scaleInItem:{_isEnabled:!1},_easing:"default"}}),getInitialState(){return{columns:this.getColumns(window.innerWidth,this.props.columns),isVisible:!1,_animationEnded:!1}},componentDidMount(){this._isMounted=!0},componentWillUnmount(){this._isMounted=!1},UNSAFE_componentWillReceiveProps(e){const{props:t}=this,n=e.windowWidth!==t.windowWidth,i=t.columns!==e.columns;(n||i)&&this.updateColumns(e.windowWidth,e.columns)},getGridClassName(){return a("ev-grid",this.props.className)},getColumns(e,t){if(this.props.shouldIgnoreScreenSize)return t;return e>=768?t||2:e<768&&e>=520?2:1},updateColumns(e,t){this._isMounted&&this.setState({columns:this.getColumns(e,t)})},getAnimationsEnabled(){const{animations:e}=this.props;let t=!1;return e&&(t=0!==i(e).values().filter({_isEnabled:!0}).value().length),t},getGridItemStyle(e,t,n,i,o,r){const{isRTL:a}=this.props,{_animationEnded:c}=this.state,l=100/this.state.columns,u=s({flex:l+"%",textAlign:"center",boxSizing:"border-box",margin:"10px 0"},this.props.gridItemStyle);t&&(u.opacity=n,u.transform=m([i,o,r],(e,t,n)=>`translate(${e}%,${t}%) scale(${n})`),c&&(u.transform="none"));const d=this.props.children.length%this.state.columns;if((e+1)%this.state.columns!=0&&this.props.separatorBorder&&(u.borderRight=this.props.separatorBorder),0!==d)if(1===d){e===this.props.children.length-1&&(u.margin="auto")}else{if(e===this.props.children.length-d){let e=l/2;2===d&&4===this.state.columns&&(e=l),a?u.marginRight=e+"%":u.marginLeft=e+"%"}}return u},getGridItemInnerStyle(e){const{gridItemInnerStyle:t,getGridItemInnerStyle:n,hasGridItemInnerPadding:i}=this.props,o=n?n(e):{};return s({padding:i?"0 10px":0,boxSizing:"border-box"},t,o)},getVisibilitySensorActive(){return!1===this.state.isVisible},onVisibilityChange(e){e&&this.setState({isVisible:!0})},getSpringFrom(){const{animations:e}=this.props,{_slideInX:t,_slideInY:n,_fadeIn:i,_scaleIn:s}=e;return{x:t&&t._isEnabled?t._isReverseDirection?-t._from:t._from:0,y:n&&n._isEnabled?n._isReverseDirection?-n._from:n._from:0,opacity:i&&i._isEnabled?i._from/100:1,scale:s&&s._isEnabled?s._from/100:1}},getSpringTo(){const{isVisible:e}=this.state;return e?{opacity:1,x:0,y:0,scale:1}:this.getSpringFrom()},onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderGridItems(e){const{isList:t,children:n,animations:i}=this.props,s=t?p.li:p.div;return e?r.createElement(u,{native:!0,key:n.length,from:this.getSpringFrom(),to:this.getSpringTo(),onStart:this.onStart,onRest:this.onRest,config:d[i._easing]||d.default,keys:n.map((e,t)=>t),items:n},(e,t)=>({opacity:n,x:i,y:o,scale:a})=>r.createElement(s,{key:t,className:"ev-grid-item",style:this.getGridItemStyle(t,!0,n,i,o,a)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e))):n.map((e,t)=>r.createElement(s,{key:t,className:"ev-grid-item",style:this.getGridItemStyle(t,!1)},r.createElement("div",{className:"ev-grid-item-inner",style:this.getGridItemInnerStyle(t)},e)))},render(){const{isList:e}=this.props,t=e?"ul":"div";return this.getAnimationsEnabled()?r.createElement(l,{active:this.getVisibilitySensorActive(),partialVisibility:!0,scrollCheck:!0,scrollThrottle:10,intervalDelay:250,minTopValue:200,onChange:this.onVisibilityChange},r.createElement(t,{className:this.getGridClassName()},this.renderGridItems(!0))):r.createElement(t,{className:this.getGridClassName()},this.renderGridItems(!1))}});e.exports=h(({device:e,course:t})=>({windowWidth:e.windowWidth,isRTL:t._isRTL}))(_)},1519:function(e,t,n){"use strict";t.CHECKBOXGROUP_SAVE_USER_ANSWER="CHECKBOXGROUP_SAVE_USER_ANSWER",t.CHECKBOXGROUP_EDIT_USER_ANSWER="CHECKBOXGROUP_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.CHECKBOXGROUP_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.CHECKBOXGROUP_EDIT_USER_ANSWER,payload:e})},1790:function(e,t,n){"use strict";const i=n(2),s=n(1),o=n(0),r=n(7),{Component:a}=n(468),c=n(1370),l=n(1371),u=n(1372),d=n(1374),{Checkbox:p,CheckboxGroup:m}=n(1791),h=i({displayName:"CheckboxGroupComponent",propTypes:{component:s.object.isRequired,theme:s.object.isRequired,screenSize:s.string.isRequired,setComponentAsReady:s.func.isRequired,setComponentAsViewed:s.func.isRequired,setComponentAsComplete:s.func.isRequired,saveUserAnswer:s.func.isRequired,editUserAnswer:s.func.isRequired,updateVariable:s.func.isRequired,setFocusOnNextElement:s.func.isRequired,articleStyle:s.string,styles:s.object},getInitialState:function(){const{_items:e}=this.props.component;return{_userAnswer:e.reduce((e,t)=>(t._isSelected&&e.push(t._id),e),[])}},componentDidMount:function(){this.props.setComponentAsReady(this.props.component._id)},onCheckboxGroupChange:function(e){this.setState({_userAnswer:e})},onSubmitClicked:function(e){e.preventDefault();const{props:t,state:n}=this,i=[],s=t.component._items.map(e=>((e={...e,_isSelected:n._userAnswer.includes(e._id)})._canSaveToVariable&&e._variableId&&i.push([e._variableId,e._isSelected]),e));t.component._allowEditing||t.setFocusOnNextElement(this._button),t.saveUserAnswer({componentId:t.component._id,items:s}),i.forEach(([e,n])=>{t.updateVariable(e,n)}),t.setComponentAsComplete(t.component._id,{_isSubmitted:!0})},onEditClicked:function(e){e.preventDefault(),this.props.editUserAnswer({componentId:this.props.component._id})},onVisibilityChange:function(...e){u(...e,this,this.props.setComponentAsViewed)},getButtonSettings:function(){const{articleStyle:e,theme:t}=this.props;let n=t._button._settings;if(e&&"none"!==e){n=t._articleStyles[e]._elements._button._settings}return n},getColumns:function(){const{screenSize:e,component:{_columns:t}}=this.props;return"small"===e?t.mobile:"medium"===e?t.tablet:t.desktop},renderSubmittedLabel:function(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return o.createElement("div",{className:"ev-label"},t)},renderButtons:function(){const{submitButtonText:e,editButtonText:t,_isEditing:n,_isComplete:i,_allowEditing:s,_minimumCheckedRequired:a=0}=this.props.component,{_userAnswer:c}=this.state,{_isActionButtonOnRight:l}=this.getButtonSettings();let u=e,d=this.onSubmitClicked,p=c.length<a;return s&&i&&!n&&(u=t,d=this.onEditClicked,p=!1),o.createElement("div",{className:r("ev-buttons",{"ev-switch-buttons":l})},(!i||s)&&o.createElement("button",{key:"button-submit",disabled:p,ref:e=>this._button=e,className:"ev-button ev-button-submit",onClick:d},u))},renderOptions:function(e){const{_userAnswer:t}=this.state,{_id:n,_items:i}=this.props.component;return i.map(({_id:i,text:s})=>{const a=t.includes(i);return o.createElement(o.Fragment,{key:i},o.createElement(p,{id:`${n}-${i}`,value:i,disabled:e}),o.createElement("label",{key:i,htmlFor:`${n}-${i}`,className:r("ev-checkbox-group-item",{"ev-disabled":e,"ev-selected":a})},o.createElement("i",{className:r("ev-icon ev-checkbox-group-item-icon",{"ev-icon-square":!a,"ev-icon-check-square":a})}),o.createElement("span",{className:"ev-checkbox-group-item-text"},s)))})},render:function(){const{props:e,state:t}=this,n=e.component._isComplete&&!e.component._isEditing,i=this.getColumns();return o.createElement(a,{component:e.component,styles:e.styles,isVisibilitySensorActive:l(e),onVisibilityChange:this.onVisibilityChange},o.createElement("div",{className:c(e.component)},o.createElement(m,{name:"checkbox-group-"+e.component._id,value:t._userAnswer,onChange:this.onCheckboxGroupChange},o.createElement(d,{columns:i,shouldIgnoreScreenSize:!0,className:"ev-column-layout-"+i},this.renderOptions(n))),this.renderSubmittedLabel(),this.renderButtons()))}});e.exports=h},1791:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckboxGroup=t.Checkbox=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),r=c(o),a=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t.Checkbox=function(e){function t(){return l(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),s(t,[{key:"componentWillMount",value:function(){if(!this.context||!this.context.checkboxGroup)throw new Error("The `Checkbox` component must be used as a child of `CheckboxGroup`.")}},{key:"render",value:function(){var e=this.context.checkboxGroup,t=e.name,n=e.checkedValues,s=e.onChange,o={};return n&&(o.checked=n.indexOf(this.props.value)>=0),"function"==typeof s&&(o.onChange=s.bind(null,this.props.value)),r.default.createElement("input",i({},this.props,{type:"checkbox",name:t,disabled:this.props.disabled},o))}}]),t}(o.Component)).contextTypes={checkboxGroup:a.default.object.isRequired};var p=t.CheckboxGroup=function(e){function t(e){l(this,t);var n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._isControlledComponent=n._isControlledComponent.bind(n),n._onCheckboxChange=n._onCheckboxChange.bind(n),n.getChildContext=n.getChildContext.bind(n),n.getValue=n.getValue.bind(n),n.state={value:n.props.value||n.props.defaultValue||[]},n}return d(t,e),s(t,[{key:"getChildContext",value:function(){return{checkboxGroup:{name:this.props.name,checkedValues:this.state.value,onChange:this._onCheckboxChange}}}},{key:"componentWillReceiveProps",value:function(e){e.value&&this.setState({value:e.value})}},{key:"render",value:function(){var e=this.props,t=e.Component,n=(e.name,e.value,e.onChange,e.children),i=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["Component","name","value","onChange","children"]);return r.default.createElement(t,i,n)}},{key:"getValue",value:function(){return this.state.value}},{key:"_isControlledComponent",value:function(){return Boolean(this.props.value)}},{key:"_onCheckboxChange",value:function(e,t){var n=void 0;n=t.target.checked?this.state.value.concat(e):this.state.value.filter((function(t){return t!==e})),this._isControlledComponent()?this.setState({value:this.props.value}):this.setState({value:n}),"function"==typeof this.props.onChange&&this.props.onChange(n,t,this.props.name)}}]),t}(o.Component);p.childContextTypes={checkboxGroup:a.default.object.isRequired},p.propTypes={name:a.default.string,defaultValue:a.default.array,value:a.default.array,onChange:a.default.func,children:a.default.node.isRequired,Component:a.default.oneOfType([a.default.string,a.default.func,a.default.object])},p.defaultProps={Component:"div"}},1792:function(e,t,n){"use strict";const{CHECKBOXGROUP_SAVE_USER_ANSWER:i,CHECKBOXGROUP_EDIT_USER_ANSWER:s}=n(1519);e.exports=function(e,t){switch(t.type){case i:return{...e,_items:t.payload.items,_isComplete:!0,_isSubmitted:!0,_isEditing:!1};case s:return{...e,_isEditing:!0,_isSubmitted:!1};default:return e}}},1793:function(e,t,n){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_isSelected:{fieldKey:"_isSelected",type:"Boolean",shouldRestore:!0}}}}}}]);