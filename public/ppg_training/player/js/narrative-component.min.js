(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{1281:function(e,t,n){"use strict";const{registerComponent:i}=n(4),r=n(2017),o=n(2020),{setCurrentIndex:s,incrementCurrentIndex:a,decrementCurrentIndex:c}=n(1553);i("narrative",{component:r,actions:{setCurrentIndex:s,incrementCurrentIndex:a,decrementCurrentIndex:c},reducer:o,trackingMap:n(2021),mapStateToProps:({device:e,fullScreen:t})=>({windowWidth:e.windowWidth,isFullScreenOpen:t.isOpen})})},1370:function(e,t,n){"use strict";const i=n(7);e.exports=function(e){return i(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,n){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:i}=e;return!0===i&&!0===n._isReady&&!0!==n[t]}},1372:function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){i&&i.props&&i.props.component?(t.top&&(i.isInviewTop=!0),t.bottom&&(i.isInviewBottom=!0),i.isInviewTop&&i.isInviewBottom&&r&&r(i.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1386:function(e,t,n){"use strict";const i=n(8),r=n(2),o=n(1),s=n(0),a=n(7),{Spring:c,config:d,animated:l}=n(77),{connect:p}=n(6),m=r({displayName:"Carousel",propTypes:{currentIndex:o.number.isRequired,initialIndex:o.number.isRequired,animations:o.object.isRequired,className:o.string,isRTL:o.bool,verticalAlignment:o.string,_ref:o.func},getInitialState:()=>({_animationEnded:!1,_canAnimateItemTransform:!1}),UNSAFE_componentWillReceiveProps(e){const{currentIndex:t}=this.props;t!==e.currentIndex&&this.setState({_canAnimateItemTransform:!0})},getDefaultProps:()=>({currentIndex:0,initialIndex:0,animations:{_slideIn:!0,_fadeIn:{_isEnabled:!1},_scaleIn:{_isEnabled:!1},_easing:"default"}}),onStart(){this.setState({_animationEnded:!1})},onRest(){this.setState({_animationEnded:!0})},renderCarousel(){const{currentIndex:e,initialIndex:t,animations:n}=this.props,i=100*t,r=100*e;return n._slideIn?s.createElement(c,{native:!0,from:{x:i},to:{x:r},config:d[n._easing]||d.default},({x:e})=>this.renderCarouselInner(e,!0)):this.renderCarouselInner(r)},renderCarouselInner(e,t){const{verticalAlignment:n,isRTL:i}=this.props,r="ev-carousel-inner ev-vertical-align-"+(n?n.toLowerCase():"normal"),o=i?"":"-",a=t?l.ul:"ul",c={left:t?e.interpolate(e=>`${o}${e}%`):`${o}${e}%`};return s.createElement(a,{className:r,style:c},this.renderCarouselItems())},getItemStyle(e,t){const{_animationEnded:n,_canAnimateItemTransform:i}=this.state,r={opacity:e,transform:t.interpolate(e=>`scale(${e})`)};return!n&&i||(r.transform="none"),r},renderCarouselItems(){const{children:e,currentIndex:t,animations:n}=this.props;return e.map((e,i)=>{const r=i===t,{_fadeIn:o,_scaleIn:a}=n;return s.createElement(c,{native:!0,key:i,from:{opacity:o&&o._isEnabled?o._from/100:.99,scale:a&&a._isEnabled?a._from/100:1},to:{opacity:o&&o._isEnabled?r?1:o._from/100:1,scale:a&&a._isEnabled?r?1:a._from/100:1},config:d[n._easing]||d.default,onStart:this.onStart,onRest:this.onRest},({opacity:t,scale:n})=>s.createElement(l.li,{className:"ev-carousel-item","aria-hidden":!r,style:this.getItemStyle(t,n)},e))})},render(){return s.createElement("div",{ref:this.props._ref,className:a("ev-carousel",this.props.className)},this.renderCarousel())}});e.exports=p(({course:e,device:t})=>({isRTL:i(e,"_isRTL",!1),windowWidth:t.windowWidth}))(m)},1553:function(e,t,n){"use strict";t.SET_CURRENT_INDEX="SET_CURRENT_INDEX",t.INCREMENT_CURRENT_INDEX="INCREMENT_CURRENT_INDEX",t.DECREMENT_CURRENT_INDEX="DECREMENT_CURRENT_INDEX",t.setCurrentIndex=e=>({type:t.SET_CURRENT_INDEX,payload:e}),t.incrementCurrentIndex=e=>({type:t.INCREMENT_CURRENT_INDEX,payload:e}),t.decrementCurrentIndex=e=>({type:t.DECREMENT_CURRENT_INDEX,payload:e})},2017:function(e,t,n){"use strict";(function(t){const i=n(217),r=n(8),o=n(2),s=n(1),a=n(0),c=n(7),d=n(1386),l=n(1370),p=n(1371),m=n(1372),{Component:u}=n(468),h=n(62),_=n(2018),g=n(2019),v=o({displayName:"Narrative",propTypes:{component:s.object.isRequired,setComponentAsReady:s.func.isRequired,setComponentAsViewed:s.func.isRequired,setComponentAsStarted:s.func.isRequired,setComponentAsComplete:s.func.isRequired,setCurrentIndex:s.func.isRequired,incrementCurrentIndex:s.func.isRequired,decrementCurrentIndex:s.func.isRequired,windowWidth:s.number,isFullScreenOpen:s.bool,isPageReady:s.bool,isRTL:s.bool,animationEnded:s.bool,screenSize:s.string,setAriaLive:s.func,styles:s.object},getInitialState:()=>({_carouselHeight:"auto"}),componentDidMount(){this.props.setComponentAsReady(this.props.component._id),this.setHeights()},UNSAFE_componentWillReceiveProps({component:e,windowWidth:t,isFullScreenOpen:n,animationEnded:i}){const{props:r}=this;e._currentIndex===e._items.length-1&&(e._isComplete||this.props.setComponentAsComplete(e._id)),(t!==r.windowWidth||r.isFullScreenOpen&&!n||r.component._isHidden&&!e._isHidden||!r.animationEnded&&i)&&this.setHeights()},componentDidUpdate(e){const{props:n}=this;e.component._currentIndex!==n.component._currentIndex&&(i(()=>{this.setAriaLive()},1e3),t(this._content).scrollTop(0))},setStarted(){const{props:e}=this;e.component._hasStarted||e.setComponentAsStarted(e.component._id)},setHeights(){const{props:e}=this,t=e.component._narrativeLayout;let n="auto";"large"===e.screenSize&&"Full"!==t&&this._carousel&&(n=this._carousel.getBoundingClientRect().height+"px"),this.setState({_carouselHeight:n})},setAriaLive(){const{component:e,setAriaLive:t}=this.props,n=e._items[e._currentIndex];t({message:(n.title||"")+(n.body||"")+r(n,"_graphic.alt","")})},getCanNavigateNext(){const{props:e}=this;return e.component._currentIndex<e.component._items.length-1},getCanNavigatePrevious(){const{props:e}=this;return e.component._currentIndex>0},onImageLoaded(){this.setHeights()},onNextSlideButtonClicked(e){e.preventDefault();const{props:t}=this;t.incrementCurrentIndex({componentId:t.component._id}),this.setStarted()},onPreviousSlideButtonClicked(e){e.preventDefault();const{props:t}=this;t.decrementCurrentIndex({componentId:t.component._id})},onItemImageFocused({itemIndex:e}){const{setCurrentIndex:t,component:n}=this.props;t({componentId:n._id,nextIndex:e})},onVisibilityChange(...e){m(...e,this,this.props.setComponentAsViewed)},onDirectionKeyDown(e){const{props:t}=this;"right"===e&&this.getCanNavigateNext()&&(t.incrementCurrentIndex({componentId:t.component._id}),this.setStarted()),"left"===e&&this.getCanNavigatePrevious()&&t.decrementCurrentIndex({componentId:t.component._id})},getIsVisibilitySensorActive(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._hasBeenViewed},renderPreviousSlideButton(e){const{props:t}=this;if(e===("small"===t.screenSize?"small":"large")&&this.getCanNavigatePrevious())return a.createElement("a",{href:"#",tabIndex:"0",role:"button",ref:e=>this._prev=e,"aria-label":t.component.prevButtonAriaLabel,className:c("ev-narrative-controls ev-narrative-controls-"+e,{"ev-narrative-control-left":!t.isRTL,"ev-narrative-control-right":t.isRTL}),onClick:this.onPreviousSlideButtonClicked},a.createElement("div",{className:c("ev-icon",{"ev-icon-arrow-left":!t.isRTL,"ev-icon-arrow-right":t.isRTL})}))},renderNextSlideButton(e){const{props:t}=this;if(e!==("small"===t.screenSize?"small":"large")||!this.getCanNavigateNext())return;const n=0===t.component._currentIndex&&!t.component._hasStarted&&t.component._canPulsate;return a.createElement("a",{href:"#",tabIndex:"0",role:"button",ref:e=>this._next=e,"aria-label":t.component.nextButtonAriaLabel,className:c("ev-narrative-controls ev-narrative-controls-"+e,{"ev-can-animate":n,"ev-narrative-control-right":!t.isRTL,"ev-narrative-control-left":t.isRTL}),onClick:this.onNextSlideButtonClicked},a.createElement("div",{className:c("ev-icon",{"ev-icon-arrow-right":!t.isRTL,"ev-icon-arrow-left":t.isRTL})}))},renderSlideContainer(){const{props:e}=this,t=e.component._currentIndex,n=e.component._shouldReloadGifs,i=e.component._items.map((e,i)=>a.createElement(_,{key:e._id,item:e,shouldReloadGifs:n,isCurrentItem:i===t,onImageLoaded:this.onImageLoaded,onItemImageFocused:this.onItemImageFocused}));return a.createElement("div",{className:"ev-narrative-slide-container"},this.renderPreviousSlideButton("large"),this.renderNextSlideButton("large"),a.createElement(d,{currentIndex:e.component._currentIndex,animations:e.component._animations,_ref:e=>this._carousel=e},i))},renderIndicators(e){const{props:t}=this,n=t.component._items.map((e,n)=>a.createElement("div",{key:e._id,className:c("ev-narrative-progress ev-component-item-color ev-component-item-border",{"ev-selected":n===t.component._currentIndex})}));return a.createElement("div",{className:"ev-narrative-indicators ev-component-indicators ev-narrative-indicators-"+e},this.renderPreviousSlideButton("small"),this.renderNextSlideButton("small"),n)},renderContent(){const{props:e}=this,t=e.component._items.map((t,n)=>a.createElement(g,{key:t._id,item:t,isHidden:n!==e.component._currentIndex})),n={},i=e.component._narrativeLayout.toLowerCase();return"left"!==i&&"right"!==i||"large"!==e.screenSize||(n.height=this.state._carouselHeight),a.createElement("div",{className:"ev-narrative-content ev-component-content",style:n},a.createElement("div",{ref:e=>this._content=e,className:"ev-narrative-content-inner ev-component-content-inner"},t))},renderWidget(){const{props:e}=this,t=e.component._narrativeLayout.toLowerCase();let n=l(e.component);return n=c(n,{"ev-js-layout-full":!t||"full"===t,"ev-js-layout-left":"left"===t,"ev-js-layout-right":"right"===t}),!e.component._shouldDisplayContentOnTop||"full"!==t&&"large"===e.screenSize?a.createElement("div",{className:n},this.renderSlideContainer(),this.renderIndicators("full"),this.renderContent(),this.renderIndicators("side")):a.createElement("div",{className:n},this.renderContent(),this.renderSlideContainer(),this.renderIndicators("full"),this.renderIndicators("side"))},render(){const{props:e}=this,t=e.component.displayTitle?this.context+1:this.context;return a.createElement(u,{component:e.component,styles:e.styles,isVisibilitySensorActive:p(e),onVisibilityChange:this.onVisibilityChange,onDirectionKeyDown:this.onDirectionKeyDown},a.createElement(h.Provider,{value:t},this.renderWidget()))}});v.contextType=h,e.exports=v}).call(this,n(29))},2018:function(e,t,n){"use strict";const i=n(8),r=n(2),o=n(1),s=n(16),a=n(0),c=n(170),d=n(119),l=r({displayName:"NarrativeItemGraphic",propTypes:{item:o.object.isRequired,shouldReloadGifs:o.bool,isCurrentItem:o.bool.isRequired,onImageLoaded:o.func,onItemImageFocused:o.func.isRequired},mixins:[s],onFocus(){const{item:e,onItemImageFocused:t}=this.props;t(e)},render(){let e;const{item:t,shouldReloadGifs:n,isCurrentItem:r,onImageLoaded:o}=this.props;if(t._graphic&&c(t._graphic.src,t._graphic.srcAdvanced)){const s="gif"===i(t,"_graphic.src._extension");e=a.createElement(d,{graphicSrc:t._graphic.src,graphicSrcAdvanced:t._graphic.srcAdvanced,isLightboxEnabled:t._graphic._shouldViewInLightbox,lightboxSrc:t._graphic.lightboxSrc,lightboxSrcAdvanced:t._graphic.lightboxSrcAdvanced,autoSize:!0,altText:t._graphic.alt,onLoad:o,shouldEnableGraphicText:t._shouldEnableGraphicText,disableCache:r&&s&&!!n,graphicText:t.graphicText,graphicTextLayout:t._graphicTextLayout,graphicTextWidth:t._graphicTextWidth,graphicTextTopPadding:t._graphicTextTopPadding,graphicTextBottomPadding:t._graphicTextBottomPadding,graphicTextLeftPadding:t._graphicTextLeftPadding,graphicTextRightPadding:t._graphicTextRightPadding,graphicTextStyles:t._graphicTextStyles,onFocus:this.onFocus})}return a.createElement("div",{className:"ev-narrative-slider-graphic"},e)}});e.exports=l},2019:function(e,t,n){"use strict";const i=n(2),r=n(1),o=n(16),s=n(7),a=n(0),c=n(33),d=n(24),l=n(62),p=i({displayName:"NarrativeItemContent",propTypes:{item:r.shape({title:r.string,body:r.string}),isHidden:r.bool.isRequired},mixins:[o],render(){const{item:e,isHidden:t}=this.props;return a.createElement("div",{className:s("ev-narrative-content-item ev-component-content-item",{"ev-narrative-hidden":t})},e.title&&a.createElement(d,{element:"h"+this.context,className:"ev-narrative-content-title-inner ev-component-content-title-inner",html:e.title}),e.body&&a.createElement(c,{className:"ev-narrative-content-body ev-component-content-body",innerClassName:"ev-narrative-content-body-inner ev-component-content-body-inner",body:e.body}))}});p.contextType=l,e.exports=p},2020:function(e,t,n){"use strict";const i=n(310),{SETUP_COMPONENT:r}=n(61),{SET_CURRENT_INDEX:o,INCREMENT_CURRENT_INDEX:s,DECREMENT_CURRENT_INDEX:a}=n(1553);e.exports=(e,t)=>{switch(t.type){case r:return{...e,_currentIndex:0};case o:return{...e,_currentIndex:i(t.payload.nextIndex,0,e._items.length-1)};case s:return{...e,_currentIndex:i(e._currentIndex+1,0,e._items.length-1)};case a:return{...e,_currentIndex:i(e._currentIndex-1,0,e._items.length-1)};default:return e}}},2021:function(e,t,n){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_currentIndex:{fieldKey:"_currentIndex",type:"Number",shouldRestore:!0}}}}]);