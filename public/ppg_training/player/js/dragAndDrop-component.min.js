(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1258:function(e,t,o){"use strict";const{registerComponent:n}=o(4),r=o(1846),i=o(1848),{itemDroppedIntoZone:s,itemDroppedOutOfZone:c,itemSelected:a}=o(1526);n("dragAndDrop",{component:r,actions:{itemDroppedIntoZone:s,itemDroppedOutOfZone:c,itemSelected:a},reducer:i,trackingMap:o(1849)})},1370:function(e,t,o){"use strict";const n=o(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1376:function(e,t,o){"use strict";const{store:n}=o(4),r=o(170);function i(e,t,o){const i=e._feedback[o],s=i&&r(i.src,i.srcAdvanced);if(t&&!s){return n.getState().course._globals._feedbackText[o]}return s?i:null}function s(e,t){const o=e._feedbackNavigation;if(o&&o[t]&&o[t]._isEnabled&&o[t]._linkType)return{_link:o[t]}}e.exports=function(e){let t;return t=e._isCorrect?function(e){const t=e._feedback._shouldUseGlobalCorrectFeedback;return{feedbackMessage:(t?n.getState().course._globals._feedbackText.correctFeedback:"")+(e._feedback.correct?e._feedback.correct:""),feedbackGraphic:i(e,t,"_correctGraphic"),feedbackNavigation:s(e,"_correct")}}(e):e._isPartlyCorrect?function(e){const{_partlyCorrect:t}=e._feedback,o=t._shouldUseGlobalPartlyCorrectFeedback,r=n.getState().course._globals._feedbackText;if(0===e._attemptsLeft){return{feedbackMessage:(o?r.partlyCorrectFinalFeedback:"")+(t.final||""),feedbackGraphic:i(e,o,"_partlyCorrectFinalGraphic"),feedbackNavigation:s(e,"_partlyCorrect")}}return{feedbackMessage:(o?r.partlyCorrectNotFinalFeedback:"")+(t.notFinal||""),feedbackGraphic:i(e,o,"_partlyCorrectNotFinalGraphic"),feedbackNavigation:s(e,"_partlyCorrectNotFinal")}}(e):function(e){const{_incorrect:t}=e._feedback,o=t._shouldUseGlobalIncorrectFeedback,r=n.getState().course._globals._feedbackText;if(0===e._attemptsLeft||!t.notFinal&&!o||!r.incorrectNotFinalFeedback&&o){return{feedbackMessage:(o?r.incorrectFinalFeedback:"")+(t.final||""),feedbackGraphic:i(e,o,"_incorrectFinalGraphic"),feedbackNavigation:s(e,0===e._attemptsLeft?"_incorrect":"_incorrectNotFinal")}}return{feedbackMessage:(o?r.incorrectNotFinalFeedback:"")+(t.notFinal||""),feedbackGraphic:i(e,o,"_incorrectNotFinalGraphic"),feedbackNavigation:s(e,"_incorrectNotFinal")}}(e),!1!==e._shouldShowDisplayTitleInFeedback&&(t.feedbackTitle=e.displayTitle),t}},1390:function(e,t,o){var n=o(224),r=o(40);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var o=n(e.prototype),i=e.apply(o,t);return r(i)?i:o}}},1391:function(e,t){e.exports=function(e,t){for(var o=-1,n=e.length,r=0,i=[];++o<n;){var s=e[o];s!==t&&"__lodash_placeholder__"!==s||(e[o]="__lodash_placeholder__",i[r++]=o)}return i}},1397:function(e,t){e.exports=function(e){return e.placeholder}},1412:function(e,t,o){var n=o(145),r=o(1461),i=o(1397),s=o(1391),c=n((function(e,t,o){var n=1;if(o.length){var a=s(o,i(c));n|=32}return r(e,n,t,o,a)}));c.placeholder={},e.exports=c},1413:function(e,t,o){var n=o(147),r=o(493),i=r?function(e,t){return r.set(e,t),e}:n;e.exports=i},1414:function(e,t,o){var n=o(1415),r=o(1416),i=o(1464),s=o(1390),c=o(1417),a=o(1397),p=o(1468),d=o(1391),u=o(44);e.exports=function e(t,o,l,_,m,h,f,g,D,v){var I=128&o,b=1&o,y=2&o,Z=24&o,S=512&o,E=y?void 0:s(t);return function A(){for(var k=arguments.length,N=Array(k),C=k;C--;)N[C]=arguments[C];if(Z)var O=a(A),x=i(N,O);if(_&&(N=n(N,_,m,Z)),h&&(N=r(N,h,f,Z)),k-=x,Z&&k<v){var R=d(N,O);return c(t,o,e,A.placeholder,l,N,R,g,D,v-k)}var w=b?l:this,M=y?w[t]:t;return k=N.length,g?N=p(N,g):S&&k>1&&N.reverse(),I&&D<k&&(N.length=D),this&&this!==u&&this instanceof A&&(M=E||s(M)),M.apply(w,N)}}},1415:function(e,t){var o=Math.max;e.exports=function(e,t,n,r){for(var i=-1,s=e.length,c=n.length,a=-1,p=t.length,d=o(s-c,0),u=Array(p+d),l=!r;++a<p;)u[a]=t[a];for(;++i<c;)(l||i<s)&&(u[n[i]]=e[i]);for(;d--;)u[a++]=e[i++];return u}},1416:function(e,t){var o=Math.max;e.exports=function(e,t,n,r){for(var i=-1,s=e.length,c=-1,a=n.length,p=-1,d=t.length,u=o(s-a,0),l=Array(u+d),_=!r;++i<u;)l[i]=e[i];for(var m=i;++p<d;)l[m+p]=t[p];for(;++c<a;)(_||i<s)&&(l[m+n[c]]=e[i++]);return l}},1417:function(e,t,o){var n=o(494),r=o(1418),i=o(1419);e.exports=function(e,t,o,s,c,a,p,d,u,l){var _=8&t;t|=_?32:64,4&(t&=~(_?64:32))||(t&=-4);var m=[e,t,c,_?a:void 0,_?p:void 0,_?void 0:a,_?void 0:p,d,u,l],h=o.apply(void 0,m);return n(e)&&r(h,m),h.placeholder=s,i(h,e,t)}},1418:function(e,t,o){var n=o(1413),r=o(492)(n);e.exports=r},1419:function(e,t,o){var n=o(1465),r=o(1466),i=o(311),s=o(1467);e.exports=function(e,t,o){var c=t+"";return i(e,r(c,s(n(c),o)))}},1461:function(e,t,o){var n=o(1413),r=o(1462),i=o(1463),s=o(1414),c=o(1469),a=o(312),p=o(1470),d=o(1418),u=o(1419),l=o(97),_=Math.max;e.exports=function(e,t,o,m,h,f,g,D){var v=2&t;if(!v&&"function"!=typeof e)throw new TypeError("Expected a function");var I=m?m.length:0;if(I||(t&=-97,m=h=void 0),g=void 0===g?g:_(l(g),0),D=void 0===D?D:l(D),I-=h?h.length:0,64&t){var b=m,y=h;m=h=void 0}var Z=v?void 0:a(e),S=[e,t,o,m,h,b,y,f,g,D];if(Z&&p(S,Z),e=S[0],t=S[1],o=S[2],m=S[3],h=S[4],!(D=S[9]=void 0===S[9]?v?0:e.length:_(S[9]-I,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||16==t?i(e,t,D):32!=t&&33!=t||h.length?s.apply(void 0,S):c(e,t,o,m);else var E=r(e,t,o);return u((Z?n:d)(E,S),e,t)}},1462:function(e,t,o){var n=o(1390),r=o(44);e.exports=function(e,t,o){var i=1&t,s=n(e);return function t(){var n=this&&this!==r&&this instanceof t?s:e;return n.apply(i?o:this,arguments)}}},1463:function(e,t,o){var n=o(222),r=o(1390),i=o(1414),s=o(1417),c=o(1397),a=o(1391),p=o(44);e.exports=function(e,t,o){var d=r(e);return function r(){for(var u=arguments.length,l=Array(u),_=u,m=c(r);_--;)l[_]=arguments[_];var h=u<3&&l[0]!==m&&l[u-1]!==m?[]:a(l,m);if((u-=h.length)<o)return s(e,t,i,r.placeholder,void 0,l,h,void 0,void 0,o-u);var f=this&&this!==p&&this instanceof r?d:e;return n(f,this,l)}}},1464:function(e,t){e.exports=function(e,t){for(var o=e.length,n=0;o--;)e[o]===t&&++n;return n}},1465:function(e,t){var o=/\{\n\/\* \[wrapped with (.+)\] \*/,n=/,? & /;e.exports=function(e){var t=e.match(o);return t?t[1].split(n):[]}},1466:function(e,t){var o=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(o,"{\n/* [wrapped with "+t+"] */\n")}},1467:function(e,t,o){var n=o(316),r=o(485),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(i,(function(o){var n="_."+o[0];t&o[1]&&!r(e,n)&&e.push(n)})),e.sort()}},1468:function(e,t,o){var n=o(178),r=o(179),i=Math.min;e.exports=function(e,t){for(var o=e.length,s=i(t.length,o),c=n(e);s--;){var a=t[s];e[s]=r(a,o)?c[a]:void 0}return e}},1469:function(e,t,o){var n=o(222),r=o(1390),i=o(44);e.exports=function(e,t,o,s){var c=1&t,a=r(e);return function t(){for(var r=-1,p=arguments.length,d=-1,u=s.length,l=Array(u+p),_=this&&this!==i&&this instanceof t?a:e;++d<u;)l[d]=s[d];for(;p--;)l[d++]=arguments[++r];return n(_,c?o:this,l)}}},1470:function(e,t,o){var n=o(1415),r=o(1416),i=o(1391),s=Math.min;e.exports=function(e,t){var o=e[1],c=t[1],a=o|c,p=a<131,d=128==c&&8==o||128==c&&256==o&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==o;if(!p&&!d)return e;1&c&&(e[2]=t[2],a|=1&o?0:4);var u=t[3];if(u){var l=e[3];e[3]=l?n(l,u,t[4]):u,e[4]=l?i(e[3],"__lodash_placeholder__"):t[4]}return(u=t[5])&&(l=e[5],e[5]=l?r(l,u,t[6]):u,e[6]=l?i(e[5],"__lodash_placeholder__"):t[6]),(u=t[7])&&(e[7]=u),128&c&&(e[8]=null==e[8]?t[8]:s(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a,e}},1525:function(e,t,o){"use strict";const n=o(2),r=o(16),i=o(171),s=o(119),c=o(0),a=o(48),p=o(477),d=o(7),u=o(24),l=n({displayName:"DraggableItem",mixins:[r],getInitialState:function(){return{_isDragging:!1,_x:0,_y:0}},componentDidMount:function(){this._isMounted=!0,p(a.findDOMNode(this)).draggable({onmove:this.onDragMove,onend:this.onDragEnd,autoScroll:!0})},componentDidUpdate:function(e,t){this.state._isDragging&&!t._isDragging&&(this._item.focus(),this.props.onItemSelected(this.props.id))},componentWillUnmount:function(){this._isMounted=!1,p(a.findDOMNode(this)).unset()},onDragMove:function(e){this.setState({_x:this.state._x+e.dx,_y:this.state._y+e.dy,_isDragging:!0},()=>{this.props.onItemDragMove()})},onDragEnd:function(e){this._isMounted&&(this.setState({_isDragging:!1,_x:0,_y:0},()=>{this.props.onItemDragEnd()}),e.dropzone||this.props.onItemDroppedOutOfZone(this.props.id),this.props.onItemSelected(void 0))},onKeyPress:function(e){const{props:t}=this;i.isSpaceKey(e)&&t.onItemSelected(t.id),i.isEscapeKey(e)&&this.props.isSelected&&(t.isInDropZone?t.onItemDroppedOutOfZone(t.id):t.onItemSelected(void 0))},getClassName:function(){return d("ev-draggable-item","ev-draggable-item-"+this.props.modelId,"ev-component-item",{"ev-is-dragging":this.state._isDragging||this.props.isSelected,"ev-is-disabled":this.props.isDisabled})},getStyle:function(){return{left:this.state._x+"px",top:this.state._y+"px"}},renderIcon:function(){if(!this.props.shouldHideMarking||!this.props.isComplete){if(this.props.showMarking&&this.props.isComplete){const e=d("ev-icon ev-draggable-item-icon",{"ev-icon-check":this.props.isCorrect,"ev-icon-cross":!this.props.isCorrect});return c.createElement("i",{className:e})}return c.createElement("i",{className:"ev-icon ev-draggable-item-icon ev-icon-move"})}},renderGraphic:function(){return this.props.graphic&&this.props.graphic.src?c.createElement(s,{className:"ev-draggable-item-graphic",graphicSrc:this.props.graphic.src,altText:this.props.graphic.alt,autoSize:!1}):null},render:function(){return c.createElement("button",{ref:e=>this._item=e,id:this.props.id,className:this.getClassName(),style:this.getStyle(),tabIndex:this.props.tabIndex,onKeyDown:this.onKeyPress,"aria-grabbed":this.state._isDragging||this.props.isSelected},this.renderIcon(),this.renderGraphic(),c.createElement(u,{element:"span",html:this.props.text}))}});e.exports=l},1526:function(e,t,o){"use strict";t.DRAG_AND_DRAP_ITEM_DROPPED_INTO_ZONE="DRAG_AND_DRAP_ITEM_DROPPED_INTO_ZONE",t.DRAG_AND_DRAP_ITEM_DROPPED_OUT_OF_ZONE="DRAG_AND_DRAP_ITEM_DROPPED_OUT_OF_ZONE",t.DRAG_AND_DROP_ITEM_SELECTED="DRAG_AND_DROP_ITEM_SELECTED",t.itemDroppedIntoZone=(e,o,n)=>({type:t.DRAG_AND_DRAP_ITEM_DROPPED_INTO_ZONE,payload:{componentId:e,itemId:o,zoneId:n}}),t.itemDroppedOutOfZone=(e,o)=>({type:t.DRAG_AND_DRAP_ITEM_DROPPED_OUT_OF_ZONE,payload:{componentId:e,itemId:o}}),t.itemSelected=(e,o)=>({type:t.DRAG_AND_DROP_ITEM_SELECTED,payload:{componentId:e,itemId:o}})},1846:function(e,t,o){"use strict";const n=o(75),r=o(18),i=o(31),s=o(2),c=o(1),a=o(0),p=o(48),d=o(7),{Component:u}=o(468),l=o(1370),_=o(1376),m=o(1525),h=o(1847),f=s({displayName:"DragAndDrop",propTypes:{component:c.object.isRequired,itemSelected:c.func.isRequired,itemDroppedIntoZone:c.func.isRequired,itemDroppedOutOfZone:c.func.isRequired,submitQuestion:c.func.isRequired,actionButtonClicked:c.func.isRequired,setComponentAsReady:c.func.isRequired,setComponentAsViewed:c.func.isRequired,setComponentAsStarted:c.func.isRequired,showFeedback:c.func.isRequired,resetQuestion:c.func.isRequired,shouldHideMarking:c.bool,isPageReady:c.bool,styles:c.object},getInitialState:function(){return{_isItemDragging:!1}},componentDidMount:function(){const{props:e}=this;this.props.setComponentAsReady(e.component._id)},componentDidUpdate:function(e){const{component:t}=this.props;!e.component._isSubmitted&&t._isSubmitted&&this.showFeedback()},UNSAFE_componentWillReceiveProps:function(e){const{component:t}=this.props;!e.component._canSubmit||!t._canAutoSubmit||t._canSubmit||t._isSubmitted||t._canSubmitAtAnyTime||this.props.submitQuestion(t._id),t._canAutoSubmit&&!t._isSubmitted&&!t._canSubmitAtAnyTime&&e.component._attemptsLeft>0&&e.component._isSubmitted&&!e.component._isCorrect&&this.props.resetQuestion(t._id)},showFeedback:function(){const{component:e}=this.props,t=_(e);this.props.showFeedback(t)},setFocusOnDroppedItem:function(e){const{props:t}=this;n(()=>{if(!t.component._isComplete){const t=p.findDOMNode(this).querySelector(`[id='${e}']`);t&&t.focus()}})},onItemDragMove:function(){this.setState({_isItemDragging:!0})},onItemDragEnd:function(){this.setState({_isItemDragging:!1})},getWidgetClassName:function(){const{component:e}=this.props;return d(l(e),"ev-"+e._dropZonelayout,{"ev-draggable-items-grid-layout":e._useItemGridLayout,"ev-drop-zones-compact":e._hasCompactDropZones,"ev-drop-zones-horizontal-layout":e._hasHorizontalDropZones})},renderBlocker:function(){const{component:e}=this.props;if(!e._isEnabled)return a.createElement("div",{className:"ev-draggable-blocker"})},onItemDroppedOutOfZone:function(e){const{props:t}=this;r(t.component._items,t=>t._id===e)._currentDropZone&&t.itemDroppedOutOfZone(t.component._id,e),this.setFocusOnDroppedItem(e)},onItemDroppedIntoZone:function(e,t){const{props:o}=this;o.component._hasStarted||o.setComponentAsStarted(o.component._id),o.itemDroppedIntoZone(o.component._id,e,t),this.setFocusOnDroppedItem(e)},onItemSelected:function(e){this.props.itemSelected(this.props.component._id,e)},onDropZoneSelected:function(e){const{props:t}=this;this.onItemDroppedIntoZone(t.component._selectedItemId,e)},onVisibilityChange:function(e,{top:t,bottom:o}){const{props:n}=this;t&&(this.isInviewTop=!0),o&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&n.setComponentAsViewed(n.component._id)},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._hasBeenViewed},renderDropZones:function(e){const{props:t,state:o}=this,n=t.component._dropZones;if(!n)return null;const r=1===n.length;return a.createElement("div",{className:"ev-drop-zones ev-clearfix"},i(n,n=>a.createElement(h,{key:n._id,modelId:t.component._id,id:n._id,text:n.text,onItemDroppedOutOfZone:this.onItemDroppedOutOfZone,onItemDroppedIntoZone:this.onItemDroppedIntoZone,onItemSelected:this.onItemSelected,onDropZoneSelected:this.onDropZoneSelected,allItems:t.component._items,droppedItems:n._droppedItems,graphic:n._graphic,isComplete:t.component._isComplete,tabIndex:e?-1:0,selectedItemId:t.component._selectedItemId,shouldRejectIncorrect:t.component._shouldZonesRejectIncorrect,shouldUseCoverBackgroundSize:n._shouldUseCoverBackgroundSize,isSingleDropZone:r,shouldHideMarking:t.shouldHideMarking,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,isItemDragging:o._isItemDragging,shouldDisplayDropZonePointers:t.component._shouldDisplayDropZonePointers,ariaLabel:n.ariaLabel})))},renderDraggableItems:function(){const{component:e}=this.props,t=e[e._selectedAnswerState],o=i(t,t=>t._currentDropZone?null:a.createElement(m,{key:t._id,modelId:e._id,id:t._id,text:t.text,tabIndex:t._isDisabled?-1:0,isSelected:t._id===e._selectedItemId,onItemDroppedOutOfZone:this.onItemDroppedOutOfZone,showMarking:t._showMarking,isCorrect:t._isInCorrectDropZone,isComplete:e._isComplete,isDisabled:t._isDisabled,onItemSelected:this.onItemSelected,correctDropZones:t._correctDropZones,graphic:t._graphic,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd}));return a.createElement("div",{className:"ev-draggable-items"},o)},renderContent:function(){const{component:e}=this.props,{_dropZonelayout:t}=e,o=!1===e._isEnabled;return"drop-zones-top"!==t?a.createElement("div",{className:"ev-drag-and-drop-layout-container","aria-hidden":o},this.renderDraggableItems(),this.renderDropZones(o)):a.createElement("div",{className:"ev-drag-and-drop-layout-container","aria-hidden":o},this.renderDropZones(o),this.renderDraggableItems())},render:function(){const{props:e}=this;return a.createElement(u,{component:e.component,styles:e.styles,shouldHideMarking:e.shouldHideMarking,onActionButtonClicked:e.actionButtonClicked,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange,onFeedbackButtonClicked:this.showFeedback},a.createElement("div",{role:"application","aria-roledescription":e.component.ariaRoleDescription,className:this.getWidgetClassName()},this.renderContent(),this.renderBlocker()))}});e.exports=f},1847:function(e,t,o){"use strict";const n=o(18),r=o(57),i=o(1412),s=o(2),c=o(16),a=o(171),p=o(0),d=o(48),u=o(7),l=o(477),_=o(76),m=o(33),h=o(1525),f=s({displayName:"DropZone",mixins:[c],getInitialState:function(){return{_isDropActive:!1}},componentDidMount:function(){l(d.findDOMNode(this)).dropzone({accept:this.getAcceptableItemClassName,ondropactivate:this.onDropActivate,ondragenter:this.onDragEnter,ondragleave:this.onDragLeave,ondrop:this.onDrop,ondropdeactivate:this.onDropDeactivate,overlap:"pointer"})},componentWillUnmount:function(){l(d.findDOMNode(this)).unset()},getAcceptableItemClassName:function(){return".ev-draggable-item-"+this.props.modelId},onDropActivate:function(){this.setState({_isDropActive:!0})},onDragEnter:function(){this.setState({_isDragEnter:!0})},onDragLeave:function(){this.setState({_isDragEnter:!1})},onDrop:function(e){this.setState({_isDragEnter:!1});const t=e.relatedTarget.id;if(this.props.shouldRejectIncorrect){const e=n(this.props.allItems,{_id:t});if(e&&!r(e._correctDropZones,this.props.id))return}n(this.props.droppedItems,{_id:t})||(this.props.onItemDroppedIntoZone(t,this.props.id),this.props.onItemDragEnd())},onDropDeactivate:function(){this.setState({_isDropActive:!1})},onKeyPress:function(e){a.isEnterKey(e)&&this.props.selectedItemId&&this.props.onDropZoneSelected(this.props.id)},getClassName:function(){return u("ev-drop-zone",{"ev-drop-zone-item-over":this.state._isDragEnter,"ev-single-drop-zone":this.props.isSingleDropZone,"ev-is-item-dragging":this.props.isItemDragging,"ev-display-drop-zone-pointer":this.props.shouldDisplayDropZonePointers,"ev-has-no-text":!this.props.text})},renderDraggableItems:function(e){return e?e.map(i((function(e){return p.createElement(h,{key:e._id,modelId:this.props.modelId,id:e._id,text:e.text,onItemDroppedOutOfZone:this.props.onItemDroppedOutOfZone,onItemSelected:this.props.onItemSelected,showMarking:e._showMarking,isCorrect:e._isInCorrectDropZone,isInDropZone:!0,tabIndex:this.props.tabIndex,isComplete:this.props.isComplete,isSelected:this.props.selectedItemId===e._id,correctDropZones:e._correctDropZones,graphic:e._graphic,shouldHideMarking:this.props.shouldHideMarking,onItemDragMove:this.props.onItemDragMove,onItemDragEnd:this.props.onItemDragEnd})}),this)):null},renderGraphic:function(){if(this.props.graphic){const e={backgroundImage:`url(${_(this.props.graphic.src)})`};return this.props.shouldUseCoverBackgroundSize&&(e.backgroundSize="cover"),p.createElement("div",{role:"img",className:"ev-drop-zone-graphic",style:e,"aria-label":this.props.graphic.alt})}},renderDropZoneText:function(){if(this.props.text)return p.createElement(m,{className:"ev-drop-zone-text ev-body",body:this.props.text,hasInner:!1})},render:function(){return p.createElement("div",{tabIndex:this.props.tabIndex,className:this.getClassName(),"aria-dropeffect":this.state._isDropActive||this.props.selectedItemId?"move":null,"aria-label":this.props.ariaLabel,onKeyPress:this.onKeyPress},this.renderDropZoneText(),p.createElement("div",{className:"ev-drop-zone-content"},this.renderGraphic(),p.createElement("div",{className:"ev-drop-zone-dropped-items"},this.renderDraggableItems(this.props.droppedItems)),p.createElement("i",{className:"ev-icon ev-icon-arrow-down ev-drop-zone-pointer-icon"})))}});e.exports=f},1848:function(e,t,o){"use strict";const n=o(10),r=o(31),i=o(32),s=o(18),c=o(470),a=o(301),p=o(57),{SETUP_COMPONENT:d,SETUP_ANSWER_STATE:u,RESET_QUESTION:l,SUBMIT_QUESTION:_,SHOW_CORRECT_ANSWER:m,HIDE_CORRECT_ANSWER:h}=o(61),{DRAG_AND_DRAP_ITEM_DROPPED_INTO_ZONE:f,DRAG_AND_DRAP_ITEM_DROPPED_OUT_OF_ZONE:g,DRAG_AND_DROP_ITEM_SELECTED:D}=o(1526);function v(e){const t=r(e._items,e=>n({},e,{_currentDropZone:void 0,_showMarking:!1,_isInCorrectDropZone:!1,_isDisabled:!1}));return n({},e,{_items:t,_dropZones:b(e._dropZones,t),_canSubmit:I(e,t)})}function I(e,t){if(e._canSubmitAtAnyTime&&!e._canAutoSubmit)return!0;return i(t,e=>!!e._currentDropZone).length===t.length}function b(e,t){return r(e,e=>n({},e,{_droppedItems:i(t,t=>t._currentDropZone===e._id)}))}function y(e){return n({},e,{_selectedAnswerState:"_correctAnswer",_dropZones:b(e._dropZones,e._correctAnswer)})}e.exports=function(e,t){switch(t.type){case d:return function(e){if(e._isComplete)e._isComplete&&!e._hasUserAnswered&&e._isCorrect&&(e=y(e));else{let t=r(e._items,t=>{const o=i(t._correctDropZones,t=>s(e._dropZones,{_id:t}));return n({},t,{_correctDropZones:o})}),o=e._dropZones;e._randomizeItems&&(t=c(t)),e._randomizeDropZones&&(o=c(o)),e=v(e=n({},e,{_items:t,_dropZones:o,_canSubmit:I(e,t),_canAutoSubmit:!0===e._canAutoSubmit&&!0!==e._canSubmitAtAnyTime}))}return e._dropZones=b(e._dropZones,e._items),e._selectedItemId=void 0,e}(e);case u:return function(e){return e._correctAnswer=r(e._items,e=>{const t={};return e._correctDropZones&&e._correctDropZones.length?(t._currentDropZone=e._correctDropZones[0],t._isInCorrectDropZone=!0,t._showMarking=!0):e._currentDropZone&&(t._currentDropZone=void 0,t._showMarking=!1),n({},e,t)}),e._incorrectAnswer=r(e._items,(function(e,t){return n({},e,{_isInCorrectDropZone:!1,_showMarking:!0,_isDisabled:!0})})),e}(e);case D:return n({},e,{_selectedItemId:t.payload.itemId});case f:return function(e,t){const{itemId:o,zoneId:r}=t.payload,i=a(e._items,e=>e._id===o);if(-1===i)return e;const s=n({},e._items[i],{_currentDropZone:r}),c=[...e._items.slice(0,i),s,...e._items.slice(i+1)];return n({},e,{_items:c,_dropZones:b(e._dropZones,c),_canSubmit:I(e,c),_selectedItemId:void 0})}(e,t);case g:return function(e,t){const{itemId:o}=t.payload,r=a(e._items,e=>e._id===o),i=e._items[r];if(!i._currentDropZone)return e;const s=[...e._items.slice(0,r),n({},i,{_currentDropZone:void 0}),...e._items.slice(r+1)];return n({},e,{_items:s,_dropZones:b(e._dropZones,s),_canSubmit:I(e,s),_selectedItemId:void 0})}(e,t);case _:return function(e){if(!e._canSubmit)return e;let t=0,o=0,i=!1;const s=r(e._items,e=>{let r=!1;return e._correctDropZones&&e._correctDropZones.length?(o++,r=p(e._correctDropZones,e._currentDropZone),r&&t++):e._currentDropZone&&(i=!0),n({},e,{_isInCorrectDropZone:r,_showMarking:!0,_isDisabled:!0})}),c=t===o&&!i;return n({},e,{_items:s,_isCorrect:c,_isPartlyCorrect:!c&&t>0,_hasUserAnswered:!0,_dropZones:b(e._dropZones,s),_selectedItemId:void 0})}(e);case l:return v(e);case m:return y(e);case h:return function(e){return n({},e,{_selectedAnswerState:"_items",_dropZones:b(e._dropZones,e._items)})}(e);default:return e}}},1849:function(e,t,o){"use strict";e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_attemptsLeft:{fieldKey:"_attemptsLeft",type:"Number",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0},_items:{fieldKey:"_items",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_currentDropZone:{fieldKey:"_currentDropZone",type:"String",shouldRestore:!0},_isInCorrectDropZone:{fieldKey:"_isInCorrectDropZone",type:"Boolean",shouldRestore:!0}}},_hasUserAnswered:{fieldKey:"_hasUserAnswered",type:"Boolean",shouldRestore:!0}}}}]);