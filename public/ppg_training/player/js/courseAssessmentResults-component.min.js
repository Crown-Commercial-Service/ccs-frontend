(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{1255:function(e,t,s){"use strict";const{registerComponent:n,registerEpics:o}=s(4),r=s(1836),i=s(1837),{assessmentCompletedEpic:c}=s(1838);o(c),n("courseAssessmentResults",{component:r,trackingMap:i})},1370:function(e,t,s){"use strict";const n=s(7);e.exports=function(e){return n(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1371:function(e,t,s){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:s,isPageReady:n}=e;return!0===n&&!0===s._isReady&&!0!==s[t]}},1372:function(e,t,s){"use strict";e.exports=function(e,t,s,n,o){n&&n.props&&n.props.component?(t.top&&(n.isInviewTop=!0),t.bottom&&(n.isInviewBottom=!0),n.isInviewTop&&n.isInviewBottom&&o&&o(n.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1373:function(e,t,s){"use strict";var n=s(30)(s(21));const o=s(0),r=s(7),i=s(1),c=s(119),a=s(300),l={default:"ev-default",chromeless:"ev-chromeless",warning:"ev-warning"};function m({text:e,icon:t,iconPosition:s,iconSize:i,showPulseAnimation:m,image:u,imagePosition:p,variant:v,className:d,textAlignment:h,...C}){const f=()=>{if(t)return o.createElement(a,{icon:t,size:i})},E=()=>{if(u&&u.src)return o.createElement(c,{graphicSrc:u.src,altText:u.alt})};return o.createElement("button",(0,n.default)({type:"button",className:r("ev-button",l[v],d,"ev-button-icon-position-"+s,"ev-button-image-position-"+p,"ev-button-text-align-"+h,{"ev-button-no-text":!e,"ev-has-icon":t,"ev-has-image":u&&u.src,"ev-pulse":m})},C),(()=>{if("top"===p||"left"===p)return E()})(),o.createElement("span",{className:"ev-button-inner"},(()=>{if("top"===s||"left"===s)return f()})(),e&&o.createElement("span",{className:"ev-button-text"},e),(()=>{if("bottom"===s||"right"===s)return f()})()),(()=>{if("bottom"===p||"right"===p)return E()})())}m.propTypes={text:i.string,textAlignment:i.string,icon:i.string,iconPosition:i.string,iconSize:i.number,showPulseAnimation:i.bool,image:i.object,imagePosition:i.string,className:i.string,variant:i.oneOf(["default","chromeless","warning"])},m.defaultProps={variant:"default",iconPosition:"left",iconSize:20,showPulseAnimation:!1,imagePosition:"top",textAlignment:"center"},e.exports=m},1420:function(e,t,s){"use strict";const n=s(10),o=s(43),{createSelector:r}=s(56),i=e=>e.courseAssessment;t.courseAssessmentSelector=r([e=>e.course._courseAssessment,i],(e={},t={})=>n({},e,t)),t.courseAssessmentComponentsSelector=r([i,e=>e.components],(e,t)=>e?o(t,e.componentIds):{}),t.courseAssessmentStatusSelector=r(i,e=>e._isComplete?e._isPassed?"pass":"fail":"incomplete")},1435:function(e,t,s){"use strict";const n=s(8),o=s(11),r=s(177),i=s(32),c=s(142),a=s(2),l=s(0),m=s(1),u=s(7),{connect:p}=s(6),v=s(33),d=s(24),h=s(62),C=s(1475),f=a({displayName:"CourseAssessmentResultsOverview",propTypes:{components:m.object.isRequired,completedComponentsCount:m.number,isComponentOverview:m.bool,isFullScreenOpen:m.bool,_isComplete:m.bool.isRequired,_isPassed:m.bool.isRequired,_showScoreAsPercentage:m.bool,_showQuestionsCompleted:m.bool,_showQuestionsCorrect:m.bool,_showAttemptsTaken:m.bool,incompleteFeedback:m.string,scoreText:m.string.isRequired,score:m.number.isRequired,resultsOverviewTitle:m.string.isRequired,progressDescription:m.string.isRequired,resultsQuestionsCorrect:m.string.isRequired,resultsViewAverageAttemptsTakenText:m.string.isRequired},getDefaultProps:()=>({_showScoreAsPercentage:!0,_showQuestionsCompleted:!0,_showQuestionsCorrect:!0,_showAttemptsTaken:!0}),getFeedback(){const{props:e}=this;return e._isComplete?n(e,["_feedback",e._isPassed?"passed":"failed"]):e.incompleteFeedback},getAverageAttempts(){const{props:e}=this;let t=0;o(e.components,e=>{if(!e._isComplete)return;const{_attempts:s,_attemptsLeft:n}=e,o=s-n;t+=r(o)?o:1});return Math.round(t/e.completedComponentsCount*100)/100||"N/A"},getCorrectComponentsCount(){return i(this.props.components,{_isComplete:!0,_isCorrect:!0}).length},renderScore(e){const{props:t}=this;if(!t._isComplete)return;const s=u("ev-icon ev-info-detail-display",{"ev-icon-cross":!t._isPassed,"ev-icon-check":t._isPassed}),n=t.score+(t._showScoreAsPercentage?"%":"");return e?l.createElement("div",{className:"ev-course-assessment-results-component-overview-results"},l.createElement("div",{className:"ev-course-assessment-results-component-overview-results-item"},l.createElement("div",{className:"ev-info-detail"},l.createElement("div",{className:s})),l.createElement("div",{className:"ev-label"},l.createElement(d,{element:"span",html:t.scoreText})," ",l.createElement("b",null,n)))):l.createElement("div",{className:"ev-info-detail"},l.createElement("div",{className:s}),l.createElement("div",{className:"ev-info-detail-label"},l.createElement(d,{element:"span",html:t.scoreText})," ",l.createElement("b",null,n)))},renderResultsDetail(e){const{_showQuestionsCompleted:t,_showQuestionsCorrect:s,_showAttemptsTaken:n}=this.props;if(t||s||n)return e?l.createElement("div",{className:"ev-course-assessment-results-component-overview-results"},this.renderQuestionsCompleted(!0),this.renderQuestionsCorrect(!0),this.renderAttempts(!0)):l.createElement("div",{className:"ev-content-row ev-course-assessment-results-roundup"},l.createElement("div",{className:"ev-content-row-inner ev-clearfix"},this.renderQuestionsCompleted(),this.renderQuestionsCorrect(),this.renderAttempts()))},renderQuestionsCompleted(e){const{props:t}=this;if(t._showQuestionsCompleted)return e?l.createElement("div",{className:"ev-course-assessment-results-component-overview-results-item"},l.createElement(C,{key:t.completedComponentsCount,componentsCount:c(t.components),completedComponentsCount:t.completedComponentsCount}),l.createElement(d,{className:"ev-label",html:t.progressDescription})):l.createElement("div",{className:"ev-course-assessment-results-progress ev-course-assessment-results-roundup-col"},l.createElement(C,{key:t.isFullScreenOpen,componentsCount:c(t.components),completedComponentsCount:t.completedComponentsCount}),l.createElement(d,{className:"ev-course-assessment-results-progress-text ev-info-graph-label",html:t.progressDescription}))},renderQuestionsCorrect(e){const{props:t}=this;if(!t._showQuestionsCorrect)return;const s=`${this.getCorrectComponentsCount()} / ${c(t.components)}`;return e?l.createElement("div",{className:"ev-course-assessment-results-component-overview-results-item"},l.createElement("div",{className:"ev-info-detail"},l.createElement("div",{className:"ev-info-detail-display"},s)),l.createElement(d,{className:"ev-label",html:t.resultsQuestionsCorrect})):l.createElement("div",{className:"ev-course-assessment-results-questions ev-course-assessment-results-roundup-col"},l.createElement("div",{className:"ev-course-assessment-results-questions-inner ev-info-detail"},l.createElement("div",{className:"ev-course-assessment-results-question-result ev-info-detail-display"},s),l.createElement(d,{className:"ev-course-assessment-results-question-text ev-info-detail-label",html:t.resultsQuestionsCorrect})))},renderAttempts(e){const{props:t}=this;if(t._showAttemptsTaken)return e?l.createElement("div",{className:"ev-course-assessment-results-component-overview-results-item"},l.createElement("div",{className:"ev-info-detail"},l.createElement("div",{className:"ev-info-detail-display"},this.getAverageAttempts())),l.createElement(d,{className:"ev-label",html:t.resultsViewAverageAttemptsTakenText})):l.createElement("div",{className:"ev-course-assessment-results-attempts ev-course-assessment-results-roundup-col"},l.createElement("div",{className:"ev-course-assessment-results-attempts-inner ev-info-detail"},l.createElement("div",{className:"ev-course-assessment-results-attempts-result ev-info-detail-display"},this.getAverageAttempts()),l.createElement(d,{className:"ev-course-assessment-results-attempts-text ev-info-detail-label",html:t.resultsViewAverageAttemptsTakenText})))},renderComponentOverview(){const{props:e}=this;return l.createElement("div",{className:"ev-course-assessment-results-component-overview"},l.createElement("div",{className:"ev-component-title"},l.createElement(d,{element:"h"+(this.context+1),className:"ev-component-title-inner",html:e.resultsOverviewTitle})),this.renderScore(!0),l.createElement(v,{className:"ev-component-body",innerClassName:"ev-component-body-inner",body:this.getFeedback()}),this.renderResultsDetail(!0))},render(){const{props:e}=this;return e.isComponentOverview?this.renderComponentOverview():l.createElement("div",{className:"ev-course-assessment-results-overview ev-content ev-extension-content"},l.createElement("div",{className:"ev-content-inner"},l.createElement("div",{className:"ev-content-row"},l.createElement("div",{className:"ev-content-row-inner"},l.createElement("div",{className:"ev-component-container"},l.createElement("div",{className:"ev-component"},l.createElement("div",{className:"ev-component-inner"},l.createElement("div",{className:"ev-component-title"},l.createElement(d,{element:"h"+this.context,className:"ev-component-title-inner",html:e.resultsOverviewTitle})),l.createElement("div",{className:"ev-content-row"},l.createElement("div",{className:"ev-content-row-inner"},this.renderScore(),l.createElement(v,{className:"ev-course-assessment-results-overview-status-feedback  ev-content-body",innerClassName:"ev-course-assessment-results-overview-status-feedback-inner ev-content-body-inner",body:this.getFeedback()}))),this.renderResultsDetail())))))))}});f.contextType=h,e.exports=p(({fullScreen:e})=>({isFullScreenOpen:e.isOpen}))(f)},1436:function(e,t,s){"use strict";const n=s(0),o=s(1),r=s(62),i=s(1373),c=s(24),a=e=>{const t=n.useContext(r),s=t=>{t.preventDefault(),e.onRetakeAssessment()},o=()=>{const{retakeAttemptsPrefixText:t,retakeAttemptsTaken:s,_retakeAttempts:n,_allowUnlimitedRetakeAttempts:o}=e.courseAssessment;return o?`${t}: ${s}`:`${t}: ${s}/${n}`},a=()=>{const{retakeAttemptsTaken:t,_retakeAttempts:o,retakeAssessmentButtonText:r,_allowUnlimitedRetakeAttempts:c,_shouldHideRetakeOnAssessmentPassed:a,_isPassed:l}=e.courseAssessment;if(!(e.hideRetakeButton||a&&l)&&(t!==o||c))return n.createElement("div",{className:"ev-course-assessment-results-overview-reset"},n.createElement("div",{className:"ev-course-assessment-results-overview-reset-inner"},n.createElement(i,{onClick:s,variant:"warning",text:r})))};return e.isComponentRetake?n.createElement("div",{className:"ev-course-assessment-results-component-overview-retake"},n.createElement("div",{className:"ev-label"},o()),a()):n.createElement("div",{className:"ev-content ev-extension-content"},n.createElement("div",{className:"ev-content-inner"},n.createElement("div",{className:"ev-content-row"},n.createElement("div",{className:"ev-content-row-inner"},n.createElement("div",{className:"ev-component-container"},n.createElement("div",{className:"ev-component"},n.createElement("div",{className:"ev-component-inner"},n.createElement("div",{className:"ev-component-title"},n.createElement(c,{element:"h"+t,className:"ev-component-title-inner",html:o()})),a())))))))};a.propTypes={courseAssessment:o.object.isRequired,onRetakeAssessment:o.func,hideRetakeButton:o.bool,isComponentRetake:o.bool},e.exports=n.memo(a)},1475:function(e,t,s){"use strict";const n=s(2),o=s(1),r=s(0),i=s(48),{connect:c}=s(6),a=s(140),l=s(1476),m=n({displayName:"CourseAssessmentProgressCircle",propTypes:{variables:o.object.isRequired,componentsCount:o.number.isRequired,completedComponentsCount:o.number.isRequired,swatches:o.object},getDefaultProps:function(){return{completedComponentsCount:0}},componentDidMount:function(){const e=i.findDOMNode(this),{variables:t,componentsCount:s,completedComponentsCount:n,swatches:o}=this.props,r=a(t["@chart-background-color"],o),c=a(t["@chart-highlight-color"],o),m=a(t["@chart-text-color"],o),u=Math.round(n/s*100)+"%";l(e,80,80,n,s,u,18,38,38,4,4,r,c,m)},render:function(){return r.createElement("div",{className:"ev-course-assessment-results-stats-progress-canvas"})}});e.exports=c(e=>({variables:e.theme._chart._variables,swatches:e.theme._swatches}))(m)},1476:function(e,t,s){"use strict";const n=s(1402);e.exports=function(e,t,s,o,r,i,c,a,l,m,u,p,v,d){const h=n(e,t,s);h.customAttributes.arc=function(e,t,s,n,o){const r=360/n*s,i=(90-r)*Math.PI/180,c=e+o*Math.cos(i),a=t-o*Math.sin(i);return{path:n===s?[["M",e,t-o],["A",o,o,0,1,1,e-.01,t-o]]:[["M",e,t-o],["A",o,o,0,+(r>180),1,c,a]]}},h.text(t/2,s/2,i).attr({"font-size":c,fill:d,"font-weight":"bold"}),h.circle(t/2,s/2,l).attr({stroke:p,"stroke-width":u}),h.path().attr({stroke:v,"stroke-width":m,arc:[t/2,s/2,0,r,a]}).rotate(0,0,0).animate({arc:[t/2,s/2,o,r,a]},1900)}},1836:function(e,t,s){"use strict";(function(t){var n=s(30)(s(21));const o=s(217),r=s(2),i=s(1),c=s(0),a=s(48),{connect:l}=s(6),{Component:m}=s(468),u=s(1370),p=s(1371),v=s(1372),d=s(24),h=s(62),{courseAssessmentSelector:C,courseAssessmentComponentsSelector:f}=s(1420),E=s(1435),b=s(1436),{showConfirmResetDialog:w}=s(476),N=r({displayName:"CourseAssessmentResults",propTypes:{component:i.object.isRequired,components:i.object.isRequired,courseAssessment:i.object,setComponentAsReady:i.func.isRequired,setComponentAsViewed:i.func.isRequired,setComponentAsStarted:i.func.isRequired,setComponentAsComplete:i.func.isRequired,styles:i.object,showConfirmResetDialog:i.func},componentDidMount(){this.props.setComponentAsReady(this.props.component._id)},UNSAFE_componentWillReceiveProps({courseAssessment:e}){const{props:s}=this;s.component._scrollIntoViewOnComplete&&!s.courseAssessment._isComplete&&e._isComplete&&o(()=>{const e=a.findDOMNode(this);t(e).scrollintoview({duration:600,direction:"vertical"})},300)},onVisibilityChange(...e){v(...e,this,this.props.setComponentAsStarted)},renderIncompleteFeedback(){const{component:e,courseAssessment:t}=this.props;if(!e._showIncompleteFeedback||t._isComplete)return;const s=e.displayTitle?this.context+1:this.context;return c.createElement("div",{className:"ev-course-assessment-results-incomplete-feedback"},c.createElement("div",{className:"ev-component-title"},c.createElement(d,{element:"h"+s,className:"ev-component-title-inner",html:t.resultsOverviewTitle})),c.createElement("div",{className:"ev-component-body"},c.createElement(d,{className:"ev-component-body-inner",html:t.incompleteFeedback})))},renderOverview(){const{component:e,courseAssessment:t,components:s}=this.props;if(!e._showIncompleteFeedback||t._isComplete)return c.createElement(E,(0,n.default)({},t,{components:s,isComponentOverview:!0}))},renderRetake(){const{component:e,courseAssessment:t,showConfirmResetDialog:s}=this.props;if((!e._showIncompleteFeedback||t._isComplete)&&(e._alwaysShowRetakeButton||t._isComplete)&&t._canBeRetaken)return c.createElement(b,{courseAssessment:t,onRetakeAssessment:s,hideRetakeButton:!1,isComponentRetake:!0})},renderResults(){return this.props.courseAssessment._isEnabled?c.createElement("div",{className:"ev-course-assessment-results-component-overview-container"},this.renderIncompleteFeedback(),this.renderOverview(),this.renderRetake()):c.createElement("h4",null,"The Course Assessment Results Component requires the Course Assessment extension to be enabled.")},render(){const{props:e}=this;return c.createElement(m,{component:e.component,styles:e.styles,isVisibilitySensorActive:p(e),onVisibilityChange:this.onVisibilityChange},c.createElement("div",{className:u(e.component)},this.renderResults()))}});N.contextType=h,e.exports=l(e=>({courseAssessment:C(e),components:f(e)}),{showConfirmResetDialog:w})(N)}).call(this,s(29))},1837:function(e,t,s){"use strict";e.exports={_interactionType:{type:"String",default:"presentation",shouldRestore:!1}}},1838:function(e,t,s){"use strict";const n=s(39),{Observable:o}=s(5),{setComponentAsComplete:r}=s(61);t.assessmentCompletedEpic=(e,t)=>e.ofType("COURSE_ASSESSMENT_COMPLETE").mergeMap(()=>{const{components:e}=t.getState(),s=n(e).filter(e=>"courseAssessmentResults"===e._component).map(e=>r(e._id)).value();return o.of(...s)})}}]);