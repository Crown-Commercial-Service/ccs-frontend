(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1248:function(e,t,n){"use strict";const{registerComponent:s,registerEpics:i}=n(4),r=n(1682),{openFullScreen:o,closeFullScreen:c}=n(473),a=n(1780),{captureFinishedEpic:p,captureCompletedEpic:u}=n(1781),{startCapture:l}=n(1433),d=n(78);s("capture",{component:r,actions:{openFullScreen:o,closeFullScreen:c,startCapture:l},reducer:a,mapStateToProps:(e,t)=>({articleStyle:d(e,t,"article")._classes}),trackingMap:n(1782)}),i(p,u)},1370:function(e,t,n){"use strict";const s=n(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1375:function(e,t,n){"use strict";var s=n(1683),i=n(1684),r=n(1685),o=n(1686),c=n(1687),a=n(1700),p=n(1701),u=n(1702),l=n(1703),d=n(1704),h=n(1705),m=n(1706),_=n(1707),S=n(1708),g=n(1721),v=n(1515);e.exports={getElementStyles:s,getLabelStyles:i,getPositioning:r,getHintPositioning:o,markScreen:c,markInteraction:a,getFeedbackMessage:p,updateScreenAttempts:u,getOptionStyles:l,getSliderHandleStyles:d,getScreenFeedback:h,getScreenFeedbackAvatar:m,setScreenAsViewed:_,resetScreenItems:S,loadScreenImages:g,getCaptureWidth:v}},1389:function(e,t,n){"use strict";e.exports=(e,t,n,s)=>{if(s=s||e._score,n._shouldScoreByAttempt){s=(e._scoreByAttempt||[0,0,0])[t._attemptsTaken-1]}return s}},1433:function(e,t,n){"use strict";t.CAPTURE_START="CAPTURE_START",t.CAPTURE_UPDATE_FORM_VALUE="CAPTURE_UPDATE_FORM_VALUE",t.CAPTURE_SUBMIT_SCREEN="CAPTURE_SUBMIT_SCREEN",t.CAPTURE_REJECT_SCREEN="CAPTURE_REJECT_SCREEN",t.CAPTURE_FAIL_SCREEN="CAPTURE_FAIL_SCREEN",t.CAPTURE_SET_BUTTON_AS_CLICKED="CAPTURE_SET_BUTTON_AS_CLICKED",t.CAPTURE_SET_DROPDOWN_AS_CLICKED="CAPTURE_SET_DROPDOWN_AS_CLICKED",t.CAPTURE_SET_SLIDER_HANDLE_VALUE="CAPTURE_SET_SLIDER_HANDLE_VALUE",t.CAPTURE_SET_SEARCH_DROPDOWN_OPTIONS="CAPTURE_SET_SEARCH_DROPDOWN_OPTIONS",t.CAPTURE_SET_FEEDBACK_POPUP="CAPTURE_SET_FEEDBACK_POPUP",t.CAPTURE_TOGGLE_INSTRUCTIONS="CAPTURE_TOGGLE_INSTRUCTIONS",t.CAPTURE_VIEW_COMPLETED_SCREEN="CAPTURE_VIEW_COMPLETED_SCREEN",t.CAPTURE_RETURN_TO_RESULTS_SCREEN="CAPTURE_RETURN_TO_RESULTS_SCREEN",t.CAPTURE_NAVIGATE_TO_PREVIOUS_SCREEN="CAPTURE_NAVIGATE_TO_PREVIOUS_SCREEN",t.CAPTURE_NAVIGATE_TO_NEXT_SCREEN="CAPTURE_NAVIGATE_TO_NEXT_SCREEN",t.CAPTURE_RESET_SCREEN="CAPTURE_RESET_SCREEN",t.CAPTURE_SCREEN_CLICKED="CAPTURE_SCREEN_CLICKED",t.CAPTURE_SCREEN_TIMER_ENDED="CAPTURE_SCREEN_TIMER_ENDED",t.CAPTURE_TOGGLE_INSTRUCTIONS_OPEN="CAPTURE_TOGGLE_INSTRUCTIONS_OPEN",t.CAPTURE_OPEN_INSTRUCTIONS="CAPTURE_OPEN_INSTRUCTIONS",t.CAPTURE_OPEN_DIRECTIONS="CAPTURE_OPEN_DIRECTIONS",t.CAPTURE_TOGGLE_MENU="CAPTURE_TOGGLE_MENU",t.CAPTURE_TOGGLE_CORRECT_ANSWER="CAPTURE_TOGGLE_CORRECT_ANSWER",t.CAPTURE_TOGGLE_SCENARIO_OPEN="CAPTURE_TOGGLE_SCENARIO_OPEN",t.CAPTURE_COMPLETED="CAPTURE_COMPLETED",t.startCapture=e=>({type:t.CAPTURE_START,payload:e}),t.updateFormValue=e=>({type:t.CAPTURE_UPDATE_FORM_VALUE,payload:e}),t.submitScreen=e=>({type:t.CAPTURE_SUBMIT_SCREEN,payload:e}),t.rejectScreen=e=>({type:t.CAPTURE_REJECT_SCREEN,payload:e}),t.failScreen=e=>({type:t.CAPTURE_FAIL_SCREEN,payload:e}),t.setButtonAsClicked=e=>({type:t.CAPTURE_SET_BUTTON_AS_CLICKED,payload:e}),t.setSliderHandleValue=e=>({type:t.CAPTURE_SET_SLIDER_HANDLE_VALUE,payload:e}),t.setSearchDropDownOptions=e=>({type:t.CAPTURE_SET_SEARCH_DROPDOWN_OPTIONS,payload:e}),t.setDropDownOptionAsClicked=e=>({type:t.CAPTURE_SET_DROPDOWN_AS_CLICKED,payload:e}),t.setFeedbackPopup=e=>({type:t.CAPTURE_SET_FEEDBACK_POPUP,payload:e}),t.toggleInstructions=e=>({type:t.CAPTURE_TOGGLE_INSTRUCTIONS,payload:e}),t.viewCompletedScreen=e=>({type:t.CAPTURE_VIEW_COMPLETED_SCREEN,payload:e}),t.returnToResultsScreen=e=>({type:t.CAPTURE_RETURN_TO_RESULTS_SCREEN,payload:e}),t.navigateToPreviousScreen=e=>({type:t.CAPTURE_NAVIGATE_TO_PREVIOUS_SCREEN,payload:e}),t.navigateToNextScreen=e=>({type:t.CAPTURE_NAVIGATE_TO_NEXT_SCREEN,payload:e}),t.screenClicked=e=>({type:t.CAPTURE_SCREEN_CLICKED,payload:e}),t.timerEnded=e=>({type:t.CAPTURE_SCREEN_TIMER_ENDED,payload:e}),t.resetScreen=e=>({type:t.CAPTURE_RESET_SCREEN,payload:e}),t.toggleInstructionsOpen=e=>({type:t.CAPTURE_TOGGLE_INSTRUCTIONS_OPEN,payload:e}),t.toggleMenuOpen=e=>({type:t.CAPTURE_TOGGLE_MENU,payload:e}),t.toggleCorrectAnswer=e=>({type:t.CAPTURE_TOGGLE_CORRECT_ANSWER,payload:e}),t.toggleScenarioOpen=e=>({type:t.CAPTURE_TOGGLE_SCENARIO_OPEN,payload:e}),t.openDirections=e=>({type:t.CAPTURE_OPEN_DIRECTIONS,payload:e}),t.openInstructions=e=>({type:t.CAPTURE_OPEN_INSTRUCTIONS,payload:e}),t.captureCompleted=e=>({type:t.CAPTURE_COMPLETED,payload:e})},1460:function(e,t,n){"use strict";const s=n(8),i=n(2),r=n(175);var o=n(0),c=n(7),a=n(1723),p=(n(1724),n(1725)),u=n(1726),l=n(1729),d=i({displayName:"CaptureTools",getInitialState:function(){return{currentInstructionsIndex:0}},componentWillReceiveProps:function(e){this.props.currentScreen&&this.props.currentScreen._id!=e.currentScreen._id&&this.setState({currentInstructionsIndex:0})},getText:function(){var e=this.props.currentScreen._instructions[this.state.currentInstructionsIndex];if(e)return e.body},getClassName:function(){var e=this.props.currentScreen._instructions[this.state.currentInstructionsIndex],t=s(this.props.interaction,"_appearance._defaultMenuPosition","topLeft"),n=e&&"popup"===e._type?"popup":"dialog",i=e&&e._position||t;return c("ev-capture-tools",{"ev-is-dialog":"dialog"===n,"ev-is-popup":"popup"===n,"ev-is-bottom-left":"bottomLeft"===i,"ev-is-bottom-right":"bottomRight"===i,"ev-is-middle-left":"middleLeft"===i,"ev-is-middle-right":"middleRight"===i,"ev-is-top-left":"topLeft"===i||"top-left"===i,"ev-is-top-right":"topRight"===i})},resetInstructionsIndex:function(){this.setState({currentInstructionsIndex:0})},onAvatarClicked:function(){this.props.toggleMenuOpen()},onNextInstructionsClicked:function(){this.props.currentScreen._instructions[this.state.currentInstructionsIndex+1]?this.setState({currentInstructionsIndex:this.state.currentInstructionsIndex+1}):(this.props.toggleInstructionsOpen(this.resetInstructionsIndex),this.props.openDirections());var e=this.props.currentScreen._instructions[this.state.currentInstructionsIndex]._openAfterViewed;"scenario"===e?this.props.toggleScenarioOpen():"menu"===e&&this.props.toggleMenuOpen()},render:function(){if(!this.props.interaction._hasStarted)return null;if(!this.props.currentScreen)return null;var e=this.props.currentScreen._instructions[this.state.currentInstructionsIndex]||{},t=this.getClassName();return o.createElement(r,{disabled:!0!==this.props.isMenuOpen&&!this.props.interaction._feedbackPopup&&!this.props.isInstructionsOpen},o.createElement("div",{className:t},o.createElement(p,{avatar:this.props.interaction._feedbackAvatar||e._avatar,onClick:this.onAvatarClicked,isMenuOpen:this.props.isMenuOpen,isInstructionsOpen:this.props.isInstructionsOpen&&!this.props.isMenuOpen&&!this.props.isScenarioOpen&&!this.props.interaction._feedbackPopup,isFeedbackAvatar:!!this.props.interaction._feedbackAvatar,interaction:this.props.interaction}),o.createElement(u,{interaction:this.props.interaction,currentScreen:this.props.currentScreen,remainingAttemptsText:this.props.remainingAttemptsText,text:this.getText(),isOpen:this.props.isInstructionsOpen&&!this.props.isMenuOpen&&!this.props.isScenarioOpen&&!this.props.interaction._feedbackPopup,onNextInstructionsClicked:this.onNextInstructionsClicked}),o.createElement(a,{interaction:this.props.interaction,currentScreen:this.props.currentScreen,remainingAttemptsText:this.props.remainingAttemptsText,isOpen:this.props.interaction._feedbackPopup,resetScreen:this.props.resetScreen,setFeedbackPopup:this.props.setFeedbackPopup,restoreFocus:this.props.restoreFocus}),o.createElement(l,{interaction:this.props.interaction,isOpen:this.props.isMenuOpen,toggleFullScreenMode:this.props.toggleFullScreenMode,navigateToNextScreen:this.props.navigateToNextScreen,navigateToPreviousScreen:this.props.navigateToPreviousScreen,setFeedbackPopup:this.props.setFeedbackPopup,toggleMenuOpen:this.props.toggleMenuOpen,openInstructions:this.props.openInstructions,toggleScenarioOpen:this.props.toggleScenarioOpen})))}});e.exports=d},1514:function(e,t,n){"use strict";const{store:s}=n(4);e.exports=function(e){if(!e)return;const t=s.getState().theme._fonts[e];return t?t._fontFamily:void 0}},1515:function(e,t,n){"use strict";e.exports=function(e){const t=window.innerWidth;let n,s;return t>=parseInt(e._smallScreenSize,10)&&(e._hasSmallScreenSize?(n=e._smallScreenSize,s="small"):e._hasMediumScreenSize?(n=e._mediumScreenSize,s="medium"):e._hasLargeScreenSize&&(n=e._largeScreenSize,s="large")),t>=parseInt(e._mediumScreenSize,10)&&(e._hasMediumScreenSize?(n=e._mediumScreenSize,s="medium"):e._hasSmallScreenSize?(n=e._smallScreenSize,s="small"):e._hasLargeScreenSize&&(n=e._largeScreenSize,s="large")),t>=parseInt(e._largeScreenSize,10)&&(e._hasLargeScreenSize?(n=e._largeScreenSize,s="large"):e._hasMediumScreenSize?(n=e._mediumScreenSize,s="medium"):e._hasSmallScreenSize&&(n=e._smallScreenSize,s="small")),{screenWidth:t,captureWidth:n,screenSizeSelection:s}}},1682:function(e,t,n){"use strict";const s=n(8),i=n(2),r=n(0),o=n(7),{Component:c}=n(468),a=n(1370),p=n(1375),u=n(1722),l=n(1730),d=i({displayName:"Capture",componentDidMount:function(){const{props:e}=this;p.loadScreenImages(e.component._screens)},startCapture:function(e){const{props:t}=this,n=t.component._id;t.component._hasStarted||t.setComponentAsStarted(n);const i=o("ev-capture-fullscreen",{["ev-"+t.articleStyle]:"none"!==t.articleStyle}),r=s(t.component,"_appearance.backgroundColor","transparent"),c={};"transparent"!==r&&(c.backgroundColor=r),t.startCapture({componentId:n}),t.openFullScreen({component:l,props:{componentId:n},className:i,style:c})},onVisibilityChange:function(e,{top:t,bottom:n}){const{props:s}=this;t&&(this.isInviewTop=!0),n&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&s.setComponentAsViewed(s.component._id)},onPosterLoaded:function(){const{props:e}=this;e.component._isReady||e.setComponentAsReady(e.component._id)},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:t}=this.props;return!0===t&&!0===e._isReady&&!0!==e._hasBeenViewed},render:function(){const{props:e}=this;return r.createElement(c,{component:e.component,theme:e.theme,styles:e.styles,shouldHideQuestionButtons:!0,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange},r.createElement("div",{className:a(e.component)},r.createElement(u,{screenSize:e.screenSize,interaction:e.component,startCapture:this.startCapture,onPosterLoaded:this.onPosterLoaded})))}});e.exports=d},1683:function(e,t,n){"use strict";const s=n(18),i=n(10);var r=n(76),o=n(1514);e.exports=function(e,t){var n={},c={},a={};if(e.item._baseElementStyle&&(n=s(e.interaction._styles,{_id:e.item._baseElementStyle})),e.item._elementStyles&&(c=e.item._elementStyles),!n)return console.warn("A base style is missing:",e.item._baseElementStyle);var p=n._default||{},u=c._default||{},l={},d={},h={},m={},_={},S={};return t._isHovered&&(l=n._hovered||{},d=c._hovered||{}),t._isFocused&&(h=n._focused||{},m=c._focused||{}),t._isDisabled&&(_=n._disabled||{},S=c._disabled||{}),(a=i(a,p,u,l,d,h,m,_,S)).backgroundImage&&(a.backgroundImage="url('"+r(a.backgroundImage)+"')"),a.fontFamily&&(a.fontFamily=o(a.fontFamily)),a}},1684:function(e,t,n){"use strict";const s=n(18),i=n(10);e.exports=function(e){var t={},n={},r=e.item._labelStyles||{};e.item._baseLabelStyle&&(n=s(e.interaction._styles,{_id:e.item._baseLabelStyle})||{});var o=n._default||{},c=r._default||{};return t=i(t,o,c)}},1685:function(e,t,n){"use strict";e.exports=function(e){return{left:e.item._left+"%",top:e.item._top+"%"}}},1686:function(e,t,n){"use strict";e.exports=function(e){return{left:e.hint._left+"%",top:e.hint._top+"%"}}},1687:function(e,t,n){"use strict";const s=n(11);var i=n(1688),r=n(1515);e.exports=function(e,t){const{screenSizeSelection:n}=r(t);s(e._items,s=>{s._screenSize!==n?(s._isMarkable=!1,s._usersScore=0):i(s,e,t)});var o=[],c=0;s(e._items,(function(e){!0===e._isMarkable&&!1===e._isCorrect&&o.push(e),e._usersScore&&(c+=e._usersScore)})),0===o.length?e._isCorrect=!0:e._isCorrect=!1,e._usersScore=c}},1688:function(e,t,n){"use strict";var s={inputButton:n(1689),inputText:n(1690),inputDropDown:n(1691),inputCheckbox:n(1692),inputSlider:n(1693),inputRadioOptions:n(1694),inputSearchDropDown:n(1695),inputTextArea:n(1696),inputHoverOverlay:n(1697),inputSelect:n(1698),displayTextArea:n(1699)};e.exports=function(e,t,n){s[e._type](e,t,n)}},1689:function(e,t,n){"use strict";const s=n(1389);function i(e,t,n,s){e._isMarkable=t,e._isCorrect=n,e._usersScore=s}e.exports=function(e,t,n){if("inputButton"===e._type&&"submit"===e._actionType){if("accept"===e._actionResult&&e._hasBeenClicked){return void i(e,!0,!0,s(e,t,n))}if("reject"===e._actionResult&&e._hasBeenClicked)return void i(e,!0,!1,0);if(!e._hasBeenClicked)return void i(e,!1,!1,0);"fail"===e._actionResult&&i(e,!0,!1,0)}}},1690:function(e,t,n){"use strict";const s=n(11),i=n(1389);e.exports=function(e,t,n){e._isMarkable=!0;var r=!1,o=!1,c=!1;s(e._results,(function(t){if(!c){if("equals"===t._markingType){var n=e.value,s=t._markingText;t._shouldMarkStrictly||(n=n.toLowerCase().replace(/\s+/g,""),s=s.toLowerCase().replace(/\s+/g,"")),r=n===s}else if("contains"===t._markingType){n=e.value;var i=t._markingText;t._shouldMarkStrictly||(n=n.toLowerCase().replace(/\s+/g,""),i=i.toLowerCase().replace(/\s+/g,"")),r=-1!==n.indexOf(i)}else if("hasLength"===t._markingType){n=e.value;var a=t._markingNumber;r=n.length>=a}else if("isLength"===t._markingType){n=e.value,a=t._markingNumber;r=n.length===a}else if("equalsOrHasLength"===t._markingType){n=e.value,s=t._markingText;if(t._shouldMarkStrictly||(n=n.toLowerCase().replace(/\s+/g,""),s=s.toLowerCase().replace(/\s+/g,"")),!(r=n===s)){n=e.value,a=t._markingNumber;r=n.length>=a,o=e._score/2}}else if("containsOrHasLength"===t._markingType){n=e.value,i=t._markingText;if(t._shouldMarkStrictly||(n=n.toLowerCase().replace(/\s+/g,""),i=i.toLowerCase().replace(/\s+/g,"")),!(r=-1!==n.indexOf(i))){n=e.value,a=t._markingNumber;r=n.length>=a,o=e._score/2}}r&&(c=!0)}})),c?(e._isCorrect=!0,e._usersScore=i(e,t,n,o)):(e._isCorrect=!1,e._usersScore=0)}},1691:function(e,t,n){"use strict";const s=n(18),i=n(1389);e.exports=function(e,t,n){if("inputDropDown"===e._type){e._isMarkable=!0;var r=s(e._options,{_hasBeenClicked:!0});r?"accept"===r._actionResult?(e._isCorrect=!0,e._usersScore=i(r,t,n)):("reject"===r._actionResult||"fail"===r._actionResult)&&(e._isCorrect=!1,e._usersScore=0):e._isOptionRequired?(e._isCorrect=!1,e._usersScore=0):(e._isMarkable=!1,e._usersScore=0)}}},1692:function(e,t,n){"use strict";const s=n(1389);e.exports=function(e,t,n){"inputCheckbox"===e._type&&(e._isMarkable=!0,e._result===e.value?(e._isCorrect=!0,e._usersScore=s(e,t,n)):(e._isCorrect=!1,e._usersScore=0))}},1693:function(e,t,n){"use strict";const s=n(11),i=n(18),r=n(1389);e.exports=function(e,t,n){e._isMarkable=!0,e._isCorrect=!1,s(e._handles,(function(e){e._result===e._value?e._isCorrect=!0:e._isCorrect=!1})),i(e._handles,{_isCorrect:!1})?e._usersScore=0:(e._isCorrect=!0,e._usersScore=r(e,t,n))}},1694:function(e,t,n){"use strict";const s=n(1389);e.exports=function(e,t,n){"inputRadioOptions"===e._type&&(e._isMarkable=!0,e._result===e.value?(e._isCorrect=!0,e._usersScore=s(e,t,n)):(e._isCorrect=!1,e._usersScore=0))}},1695:function(e,t,n){"use strict";const s=n(11),i=n(1389);e.exports=function(e,t,n){if("inputSearchDropDown"===e._type){e._isMarkable=!0;var r=!0;s(e._options,(function(e){e._shouldBeSelected!==e._hasBeenSelected&&(r=!1),s(e._items,(function(e){e._shouldBeSelected!==e._hasBeenSelected&&(r=!1)}))})),r?(e._isCorrect=!0,e._usersScore=i(e,t,n)):(e._isCorrect=!1,e._usersScore=0)}}},1696:function(e,t,n){"use strict";const s=n(1389);e.exports=function(e,t,n){e._isMarkable=!0;var i=!1,r=!1;if("equals"===e._markingType){var o=e.value,c=e._result;e._shouldMarkStrictly||(o=o.toLowerCase().replace(/\s+/g,""),c=c.toLowerCase().replace(/\s+/g,"")),i=o===c}else if("contains"===e._markingType){o=e.value;var a=e._markingText;e._shouldMarkStrictly||(o=o.toLowerCase().replace(/\s+/g,""),a=a.toLowerCase().replace(/\s+/g,"")),i=-1!==o.indexOf(a)}else if("hasLength"===e._markingType){o=e.value;var p=e._markingNumber;i=o.length>=p}else if("isLength"===e._markingType){o=e.value,p=e._markingNumber;i=o.length===p}else if("equalsOrHasLength"===e._markingType){o=e.value,c=e._result;if(e._shouldMarkStrictly||(o=o.toLowerCase().replace(/\s+/g,""),c=c.toLowerCase().replace(/\s+/g,"")),!(i=o===c)){o=e.value,p=e._markingNumber;i=o.length>=p,r=e._score/2}}i?(e._isCorrect=!0,e._usersScore=s(e,t,n,r)):(e._isCorrect=!1,e._usersScore=0)}},1697:function(e,t,n){"use strict";const s=n(1389);function i(e,t,n,s){e._isMarkable=t,e._isCorrect=n,e._usersScore=s}e.exports=function(e,t,n){if("inputHoverOverlay"===e._type&&"submit"===e._actionType){if("accept"===e._actionResult&&e._hasBeenClicked){return void i(e,!0,!0,s(e,t,n))}if("reject"===e._actionResult&&e._hasBeenClicked)return void i(e,!0,!1,0);if(!e._hasBeenClicked)return void i(e,!1,!1,0);"fail"===e._actionResult&&i(e,!0,!1,0)}}},1698:function(e,t,n){"use strict";const s=n(1389);e.exports=function(e,t,n){"inputSelect"===e._type&&(e._isMarkable=!0,e._result===e.value?(e._isCorrect=!0,e._usersScore=s(e,t,n)):(e._isCorrect=!1,e._usersScore=0))}},1699:function(e,t,n){"use strict";e.exports=function(e){"displayTextArea"===e._type&&(e._isMarkable=!1)}},1700:function(e,t,n){"use strict";const s=n(11),i=n(310);e.exports=function(e){var t=!1,n=0,r=0;s(e._screens,(function(e){e._totalScore&&(n+=e._totalScore),e._usersScore&&(r+=e._usersScore)}));var o=100/n*r,c=i(Math.round(o),0,100);return c>=e._passMark&&(t=!0),{_isCorrect:t,_finalScore:c}}},1701:function(e,t,n){"use strict";e.exports=function(e,t){var n=t._resultsScreen||{};t._feedback;return e._isCorrect?n.correctFeedback:n.incorrectFeedback}},1702:function(e,t,n){"use strict";e.exports=function(e,t){0!==e._attemptsLeft&&(e._attemptsTaken=e._attemptsTaken+1,e._attemptsLeft=e._attemptsLeft-1)}},1703:function(e,t,n){"use strict";const s=n(10);var i=n(1514);e.exports=function(e,t){var n={},r={};e.item._optionStyles&&(n=e.item._optionStyles);var o=n._default||{},c={};return t._isHovered&&(c=n._hovered||{}),r=s(r,o,c),o.fontFamily&&(r.fontFamily=i(o.fontFamily)),r}},1704:function(e,t,n){"use strict";const s=n(10);e.exports=function(e,t){var n={},i=e._default||{},r={};t._isHovered&&(r=e._hovered||{});var o={};return t._isFocused&&(o=e._focused||{}),n=s(n,i,r,o)}},1705:function(e,t,n){"use strict";e.exports=function(e,t){if(t&&t.feedback&&t.feedback.length&&"<br>"!=t.feedback)return t.feedback;var n=e._feedback||{};return e._isCorrect?n.correct:1===e._attemptsTaken?n.incorrect:2===e._attemptsTaken?n.incorrectSecondAttempt:3===e._attemptsTaken?n.incorrectThirdAttempt:void 0}},1706:function(e,t,n){"use strict";e.exports=function(e,t){return t&&e._feedback&&e._feedback._avatar?e._feedback._avatar:null}},1707:function(e,t,n){"use strict";e.exports=function(e){e._hasBeenViewed=!0}},1708:function(e,t,n){"use strict";const s=n(11);var i=n(1709);e.exports=function(e){s(e._items,(function(e){i(e)}))}},1709:function(e,t,n){"use strict";var s={inputButton:n(1710),inputText:n(1711),inputDropDown:n(1712),inputCheckbox:n(1713),inputSlider:n(1714),inputRadioOptions:n(1715),inputSearchDropDown:n(1716),inputTextArea:n(1717),inputHoverOverlay:n(1718),inputSelect:n(1719),displayTextArea:n(1720)};e.exports=function(e){s[e._type](e)}},1710:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._hasBeenClicked=!1,e._isMarkable=!1,e._usersScore=0}},1711:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1712:function(e,t,n){"use strict";const s=n(11);e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0,s(e._options,(function(e){e._hasBeenClicked=!1}))}},1713:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1714:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1715:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1716:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1717:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1718:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1719:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1720:function(e,t,n){"use strict";e.exports=function(e){e._isCorrect=!1,e._isMarkable=!1,e._usersScore=0}},1721:function(e,t,n){"use strict";const s=n(11);n(76);var i=n(218),r=["_imageLarge","_onionImageLarge","_imageMedium","_onionImageMedium","_imageSmall","_onionImageSmall"];e.exports=function(e){s(e,(function(e){s(r,(function(t){e[t]&&i(e[t])}))}))}},1722:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(1460),o=n(76),c=s({displayName:"CapturePlay",getPosterImage:function(){if(this.props.interaction._poster){var e=this.props.interaction._poster.large,t=this.props.interaction._poster.alt||"";return"small"===this.props.screenSize&&this.props.interaction._poster.small&&(e=this.props.interaction._poster.small),i.createElement("img",{src:o(e),alt:t,onLoad:this.props.onPosterLoaded})}},onPlayButtonClicked:function(e){this.props.startCapture(e)},render:function(){const e=this.props.interaction._captureButtons||{};return i.createElement("div",{className:"ev-capture-play"},i.createElement(r,{interaction:this.props.interaction,currentScreen:this.props.currentScreen,toggleFullScreenMode:this.props.toggleFullScreenMode,toggleInstructions:this.props.toggleInstructions}),this.getPosterImage(),i.createElement("button",{id:"ev-capture-component-open-fullscreen-"+this.props.interaction._id,className:"ev-button ev-capture-play-button","aria-label":e.playButtonAriaLabel,onClick:this.onPlayButtonClicked},i.createElement("i",{className:"ev-icon ev-icon-play-circle"})))}});e.exports=c},1723:function(e,t,n){"use strict";const s=n(2),i=n(24);var r=n(0),o=n(7),c=s({displayName:"CaptureToolsFeedback",getClassName:function(){return o("ev-capture-tools-feedback",{"ev-is-open":this.props.isOpen})},getStyles:function(){var e=this.props.interaction._appearance||{};return{visibility:this.props.isOpen?"visible":"hidden",backgroundColor:e.feedbackBackgroundColor,color:e.feedbackTextColor}},getFeedbackBody:function(){var e=this.props.interaction._feedbackPopup.body;return r.createElement(i,{className:"ev-capture-tools-feedback-body","aria-live":"polite",id:"ev-capture-tools-feedback-body",html:e})},onCloseFeedbackClicked:function(e){e.preventDefault(),this.props.resetScreen(),this.props.setFeedbackPopup(null),this.props.restoreFocus("ev-capture-content")},render:function(){if(this.props.interaction._feedbackPopup){var e=this.props.interaction._captureButtons||{};return r.createElement("div",{role:"dialog","aria-describedby":"ev-capture-tools-feedback-body",className:this.getClassName(),style:this.getStyles()},r.createElement("div",{className:"ev-capture-tools-feedback-content"},this.getFeedbackBody(),r.createElement("button",{autoFocus:!0,className:"ev-button",onClick:this.onCloseFeedbackClicked},e.feedbackButtonText)),r.createElement("div",{className:"ev-capture-tools-feedback-pin"}))}return null}});e.exports=c},1724:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=s({displayName:"CaptureToolsFullScreenButton",onFullScreenClicked:function(e){e.preventDefault(),this.props.toggleFullScreenMode()},render:function(){if(this.props.hasStarted){var e="expand4";return this.props.isFullScreenMode&&(e="contract3"),i.createElement("button",{onClick:this.onFullScreenClicked,className:"ev-capture-tools-full-screen-button"},i.createElement("i",{className:"ev-icon ev-icon-"+e}))}return null}});e.exports=r},1725:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(7),o=n(76),c=s({displayName:"CaptureToolsAvatar",getClassName:function(){return r("ev-capture-tools-avatar",{"ev-has-avatar-image":this.props.isInstructionsOpen||this.props.isFeedbackAvatar,"ev-is-menu-open":this.props.isMenuOpen})},getAriaLabel:function(){const{props:e}=this,t=e.interaction._captureButtons||{};return e.isMenuOpen?t.closeMenuButtonText:t.avatarButtonAriaLabel},renderLabel:function(){var e=this.props.interaction._captureButtons||{};if(this.props.isMenuOpen)return i.createElement("div",{className:"ev-capture-tools-menu-item-label"},e.closeMenuButtonText)},renderAvatar:function(){return i.createElement("div",{className:"ev-capture-tools-avatar-image"},i.createElement("div",{className:"ev-capture-tools-avatar-image-inner"},i.createElement("i",{className:"ev-capture-tools-avatar-image-menu-icon ev-icon ev-icon-plus"}),this.renderAvatarImage()))},renderAvatarImage:function(){return this.props.avatar?i.createElement("img",{src:o(this.props.avatar)}):i.createElement("i",{className:"ev-icon ev-icon-user"})},render:function(){return i.createElement("button",{className:this.getClassName(),"aria-label":this.getAriaLabel(),onClick:this.props.onClick},this.renderLabel(),this.renderAvatar())}});e.exports=c},1726:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(7);n(1727),n(1728);const o=n(24);var c=s({displayName:"CaptureToolsSpeech",componentDidUpdate:function({isOpen:e}){const{props:t}=this;e!==t.isOpen&&t.isOpen&&this._next.focus()},getStyles:function(){var e=this.props.interaction._appearance||{};return{visibility:this.props.isOpen?"visible":"hidden",backgroundColor:e.instructionsBackgroundColor,color:e.instructionsTextColor}},getNextButtonText:function(){var e=this.props.interaction._captureButtons.nextInstructionButtonText;if(e)return i.createElement("span",{className:"ev-capture-tools-speech-next-button-text"},e)},render:function(){var e=r("ev-capture-tools-speech ev-clearfix",{"ev-is-open":this.props.isOpen});return i.createElement("div",{className:e,style:this.getStyles()},i.createElement("div",{className:"ev-capture-tools-speech-content"},i.createElement(o,{className:"ev-capture-tools-speech-text ev-body",html:this.props.text}),i.createElement("button",{autoFocus:!0,ref:e=>this._next=e,className:"ev-capture-tools-speech-next-button",onClick:this.props.onNextInstructionsClicked},this.getNextButtonText(),i.createElement("i",{className:"ev-icon ev-icon-chevron-right ev-capture-tools-speech-next-button-icon"}))),i.createElement("div",{className:"ev-capture-tools-speech-pin"}))}});e.exports=c},1727:function(e,t,n){"use strict";const s=n(301),i=n(2);var r=n(0),o=i({displayName:"CaptureToolsProgressBar",render:function(){var e=this.props.interaction._screens,t=100/e.length*(s(e,e=>{if(e._id===this.props.currentScreen._id)return e})+1);return r.createElement("div",{className:"ev-progress-bar ev-capture-tools-progress-bar"},r.createElement("div",{className:"ev-progress-bar-indicator"},r.createElement("div",{className:"ev-progress-bar-indicator-inner",style:{width:t+"%"}})))}});e.exports=o},1728:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(7),o=s({displayName:"CaptureAttemptsCounter",getClassName:function(){var e=!0;return this.props.currentScreen._isMarkable||(e=!1),r("ev-capture-attempts-counter",{"ev-is-visible":e})},render:function(){return this.props.interaction._hasStarted&&this.props.currentScreen&&!this.props.interaction._isReviewing?i.createElement("div",{className:this.getClassName()},i.createElement("span",{className:"ev-capture-attempts-counter-attempt"},this.props.currentScreen._attemptsLeft," "),i.createElement("span",{className:"ev-capture-attempts-counter-attempt-text"},this.props.remainingAttemptsText)):null}});e.exports=o},1729:function(e,t,n){"use strict";const s=n(8),i=n(2);var r=n(0),o=n(7),c=i({displayName:"CaptureToolsMenu",onCloseCaptureButtonClicked:function(){this.props.toggleMenuOpen(),this.props.toggleFullScreenMode()},onScenarioButtonClicked:function(){this.props.toggleMenuOpen(),this.props.toggleScenarioOpen()},onInstructionsButtonClicked:function(){this.props.toggleMenuOpen(),this.props.openInstructions()},renderPreviousScreenButton:function(){if(this.props.interaction._isReviewing){var e=s(this.props.interaction,"_captureButtons.previousScreenButtonText","Previous Screen");return r.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.props.navigateToPreviousScreen},r.createElement("div",{className:"ev-capture-tools-menu-item-label"},e),r.createElement("i",{className:"ev-icon ev-icon-arrow-left-circle"}))}},renderScenarioButton:function(){if(this.props.interaction.scenarioBody){var e=this.props.interaction._captureButtons||{};return r.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.onScenarioButtonClicked},r.createElement("div",{className:"ev-capture-tools-menu-item-label"},e.openScenarioButtonText),r.createElement("i",{className:"ev-icon ev-icon-bubble-text"}))}},renderNextScreenButton:function(){if(this.props.interaction._isReviewing){var e=s(this.props.interaction,"_captureButtons.nextScreenButtonText","Next Screen");return r.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.props.navigateToNextScreen},r.createElement("div",{className:"ev-capture-tools-menu-item-label"},e),r.createElement("i",{className:"ev-icon ev-icon-arrow-right-circle"}))}},renderInstructionsButton:function(){if(!this.props.interaction._isReviewing){var e=this.props.interaction._captureButtons||{};return r.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.onInstructionsButtonClicked},r.createElement("div",{className:"ev-capture-tools-menu-item-label"},e.openInstructionsButtonText),r.createElement("i",{className:"ev-icon ev-icon-bubble-dots"}))}},render:function(){var e=o("ev-capture-tools-menu",{"ev-is-open":this.props.isOpen}),t=this.props.interaction._captureButtons||{};return r.createElement("div",{className:e},r.createElement("button",{className:"ev-capture-tools-menu-item",onClick:this.onCloseCaptureButtonClicked},r.createElement("div",{className:"ev-capture-tools-menu-item-label"},t.closeCaptureButtonText),r.createElement("i",{className:"ev-icon ev-icon-contract3"})),this.renderScenarioButton(),this.renderPreviousScreenButton(),this.renderNextScreenButton(),this.renderInstructionsButton())}});e.exports=c},1730:function(e,t,n){"use strict";var s=n(30)(n(21));const i=n(18),r=n(8),o=n(2),c=n(0),{connect:a}=n(6),p=n(64),{startCapture:u,updateFormValue:l,submitScreen:d,rejectScreen:h,failScreen:m,setButtonAsClicked:_,setSliderHandleValue:S,setSearchDropDownOptions:g,setDropDownOptionAsClicked:v,setFeedbackPopup:f,toggleInstructions:C,toggleInstructionsOpen:E,viewCompletedScreen:A,returnToResultsScreen:b,navigateToPreviousScreen:y,navigateToNextScreen:T,screenClicked:I,resetScreen:k,openDirections:N,openInstructions:x,toggleCorrectAnswer:O,toggleMenuOpen:R,toggleScenarioOpen:P,timerEnded:w}=n(1433),{restoreFocus:M}=n(149),D=n(1731),B=n(1776),L=n(140),F=n(1375),U=o({displayName:"CaptureFullScreenController",componentDidUpdate:function(e){const{props:t}=this;e.component.activeScreenId&&t.component.activeScreenId&&e.component.activeScreenId!==t.component.activeScreenId&&this.resetScrollOnScreenChanged(),t.component.isScenarioOpen&&!e.component.isScenarioOpen&&t.resetScroll()},resetScrollOnScreenChanged:function(){const{props:e}=this;!!i(e.component._screens,{_id:e.component.activeScreenId})._shouldResetScroll&&e.resetScroll()},updateFormValue:function(e,t){const{props:n}=this;n.updateFormValue({componentId:n.component._id,itemId:e,value:t})},submitScreen:function(e){const{props:t}=this;t.submitScreen({componentId:t.component._id,itemId:e})},rejectScreen:function(e){const{props:t}=this;t.rejectScreen({componentId:t.component._id,itemId:e})},failScreen:function(e){const{props:t}=this;t.failScreen({componentId:t.component._id,itemId:e})},setButtonAsClicked:function(e){const{props:t}=this;t.setButtonAsClicked({componentId:t.component._id,itemId:e})},setDropDownOptionAsClicked:function(e,t){const{props:n}=this;n.setDropDownOptionAsClicked({componentId:n.component._id,itemId:e,optionValue:t})},setSliderHandleValue:function(e,t,n){const{props:s}=this;s.setSliderHandleValue({componentId:s.component._id,handleId:t,optionValue:optionValue})},setSearchDropDownOptions:function(e,t){const{props:n}=this;n.setSliderHandleValue({componentId:n.component._id,itemId:e,options:t})},setFeedbackPopup:function(e){const{props:t}=this;t.setFeedbackPopup({componentId:t.component._id,feedback:e})},toggleInstructions:function(){const{props:e}=this;e.toggleInstructions({componentId:e.component._id})},toggleInstructionsOpen:function(){const{props:e}=this;e.toggleInstructionsOpen({componentId:e.component._id})},toggleMenuOpen:function(){const{props:e}=this;e.toggleMenuOpen({componentId:e.component._id})},toggleScenarioOpen:function(){const{props:e}=this;e.toggleScenarioOpen({componentId:e.component._id})},openDirections:function(){const{props:e}=this;e.openDirections({componentId:e.component._id})},openInstructions:function(){const{props:e}=this;e.openInstructions({componentId:e.component._id})},viewCompletedScreen:function(e){const{props:t}=this;t.viewCompletedScreen({componentId:t.component._id,screenId:e})},returnToResultsScreen:function(){const{props:e}=this;e.returnToResultsScreen({componentId:e.component._id})},navigateToPreviousScreen:function(){const{props:e}=this;e.navigateToPreviousScreen({componentId:e.component._id})},navigateToNextScreen:function(){const{props:e}=this;e.navigateToNextScreen({componentId:e.component._id})},onScreenClicked:function(){const{props:e}=this;e.screenClicked({componentId:e.component._id})},onTimerEnded:function(){const{props:e}=this;e.timerEnded({componentId:e.component._id})},resetScreen:function(){const{props:e}=this;e.resetScreen({componentId:e.component._id})},closeFullScreen:function(){const{props:e}=this;e.closeFullScreen()},renderResults:function({captureWidth:e}){const{props:t}=this;return c.createElement(B,{device:t.device,interaction:t.component,submitScreen:this.submitScreen,updateFormValue:this.updateFormValue,toggleFullScreenMode:t.closeFullScreen,isFullScreenMode:!0,toggleInstructions:this.toggleInstructions,viewCompletedScreen:this.viewCompletedScreen,captureWidth:this.props.captureWidth})},renderContent:function(){const{props:e}=this,{component:t}=e,n=t._hasStarted,r=t._isReviewing,o=t._isComplete,a=t._resultsScreen._shouldShowFinalResultsScreen,p=F.getCaptureWidth(t);if(n&&!o||n&&r||n&&o&&!a){const n=i(t._screens,{_id:t._currentScreenId}),r=i(t._screens,{_id:t._previousScreenId}),{buttons:o}=e;return c.createElement(D,(0,s.default)({device:e.device,interaction:e.component,currentScreen:n,previousScreen:r,submitScreen:this.submitScreen,rejectScreen:this.rejectScreen,failScreen:this.failScreen,updateFormValue:this.updateFormValue,elementMethods:{setButtonAsClicked:this.setButtonAsClicked,setDropDownOptionAsClicked:this.setDropDownOptionAsClicked,setSliderHandleValue:this.setSliderHandleValue,setSearchDropDownOptions:this.setSearchDropDownOptions},toggleFullScreenMode:this.closeFullScreen,isFullScreenMode:!0,toggleInstructions:this.toggleInstructions,setFeedbackPopup:this.setFeedbackPopup,returnToResultsScreen:this.returnToResultsScreen,navigateToPreviousScreen:this.navigateToPreviousScreen,navigateToNextScreen:this.navigateToNextScreen,onScreenClicked:this.onScreenClicked,onTimerEnded:this.onTimerEnded,remainingAttemptText:o.remainingAttemptText,remainingAttemptsText:o.remainingAttemptsText,hideCorrectAnswerText:o._hideCorrectAnswer.buttonText,showCorrectAnswerText:o._showCorrectAnswer.buttonText,resetScreen:this.resetScreen,isShowingCorrectAnswer:e.component._isShowingCorrectAnswer,toggleCorrectAnswer:this.toggleCorrectAnswer,toggleScenarioOpen:this.toggleScenarioOpen,isScenarioOpen:t.isScenarioOpen,isInstructionsOpen:t.isInstructionsOpen,isMenuOpen:t.isMenuOpen,toggleMenuOpen:this.toggleMenuOpen,toggleInstructionsOpen:this.toggleInstructionsOpen,openInstructions:this.openInstructions,openDirections:this.openDirections,isDirectionsOpen:t.isDirectionsOpen,restoreFocus:this.props.restoreFocus},p))}if(t._isComplete)return c.createElement(B,(0,s.default)({device:e.device,interaction:e.component,submitScreen:this.submitScreen,updateFormValue:this.updateFormValue,toggleFullScreenMode:this.closeFullScreen,isFullScreenMode:!0,toggleInstructions:this.toggleInstructions,viewCompletedScreen:this.viewCompletedScreen},p))},render:function(){const e={},t=r(this.props.component,"_appearance.backgroundColor",!1);return t&&"transparent"!==t&&(e.backgroundColor=L(t,this.props.swatches)),c.createElement(p,{name:"capture",id:this.props.component._id,className:"ev-capture-component-full-screen",style:e},this.renderContent())}});e.exports=a((e,t)=>({component:e.components[t.componentId],device:e.device,buttons:e.course._buttons,swatches:e.theme._swatches}),{startCapture:u,updateFormValue:l,submitScreen:d,rejectScreen:h,failScreen:m,setButtonAsClicked:_,setSliderHandleValue:S,setSearchDropDownOptions:g,setDropDownOptionAsClicked:v,setFeedbackPopup:f,toggleInstructions:C,toggleInstructionsOpen:E,viewCompletedScreen:A,returnToResultsScreen:b,navigateToPreviousScreen:y,navigateToNextScreen:T,screenClicked:I,resetScreen:k,openDirections:N,openInstructions:x,toggleCorrectAnswer:O,toggleMenuOpen:R,toggleScenarioOpen:P,restoreFocus:M,timerEnded:w})(U)},1731:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(1732),o=s({displayName:"CaptureScreenWrapper",render:function(){return i.createElement("div",{className:"ev-capture-screen-wrapper"},i.createElement(r,{device:this.props.device,interaction:this.props.interaction,currentScreen:this.props.currentScreen,submitScreen:this.props.submitScreen,rejectScreen:this.props.rejectScreen,failScreen:this.props.failScreen,updateFormValue:this.props.updateFormValue,elementMethods:this.props.elementMethods,previousScreen:this.props.previousScreen,toggleInstructions:this.props.toggleInstructions,setFeedbackPopup:this.props.setFeedbackPopup,isFullScreenMode:this.props.isFullScreenMode,onScreenClicked:this.props.onScreenClicked,onTimerEnded:this.props.onTimerEnded,resetScreen:this.props.resetScreen,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer,toggleFullScreenMode:this.props.toggleFullScreenMode,returnToResultsScreen:this.props.returnToResultsScreen,navigateToPreviousScreen:this.props.navigateToPreviousScreen,navigateToNextScreen:this.props.navigateToNextScreen,remainingAttemptText:this.props.remainingAttemptText,remainingAttemptsText:this.props.remainingAttemptsText,hideCorrectAnswerText:this.props.hideCorrectAnswerText,showCorrectAnswerText:this.props.showCorrectAnswerText,toggleCorrectAnswer:this.props.toggleCorrectAnswer,screenWidth:this.props.screenWidth,toggleScenarioOpen:this.props.toggleScenarioOpen,isScenarioOpen:this.props.isScenarioOpen,isInstructionsOpen:this.props.isInstructionsOpen,isMenuOpen:this.props.isMenuOpen,toggleMenuOpen:this.props.toggleMenuOpen,toggleInstructionsOpen:this.props.toggleInstructionsOpen,openInstructions:this.props.openInstructions,openDirections:this.props.openDirections,isDirectionsOpen:this.props.isDirectionsOpen,captureWidth:this.props.captureWidth,screenSizeSelection:this.props.screenSizeSelection,restoreFocus:this.props.restoreFocus}))}});e.exports=o},1732:function(e,t,n){"use strict";const s=n(500),i=n(31),r=n(8),o=n(301),c=n(2),a=n(226);var p=n(0),u=n(7),l=n(1460),d=n(1733),h=n(1734),m=n(1735),_=n(1737),S=n(1738),g=n(1739),v=n(1740),f=n(1741),C=n(1743),E=n(1749),A=n(1751),b=n(1755),y=n(1756),T=n(1758),I=n(1759),k=n(1760),N=n(1516).Scrollbars;const x=n(1774),O=n(1775);var R={inputText:_,inputSelect:S,inputButton:g,inputCheckbox:v,inputDropDown:f,inputSlider:C,inputRadioOptions:E,inputSearchDropDown:A,inputTextArea:b,inputHoverOverlay:y,displayTextArea:T},P=c({displayName:"CaptureScreen",getInitialState:function(){return{_timeRemaining:0}},componentDidUpdate:function(e){this.props.interaction._isInstructionsVisible&&(this.refs.captureScreen.scrollLeft=0)},componentDidMount:function(){this.startTimedScreen(this.props.currentScreen,this.props.interaction)},componentWillReceiveProps:function({currentScreen:e,interaction:t}){const{currentScreen:n}=this.props;e&&n._id!==e._id&&this.startTimedScreen(e,t)},componentWillUnmount:function(){this.clearTimer()},startTimedScreen:function(e,t){this.clearTimer(),!t._isReviewing&&e._shouldSubmitScreenByTimer&&(this.setState({_timeRemaining:(s(e._screenTimer,-3)||1e3)/1e3}),this._timer=setInterval(this.updateTimer,1e3))},updateTimer:function(){const{state:e}=this,t=e._timeRemaining-1;this.setState({_timeRemaining:t},()=>{t<=0&&(this.clearTimer(),this.onTimerEnded())})},clearTimer:function(){this._timer&&(clearInterval(this._timer),this._timer=void 0)},onTimerEnded:function(){const{currentScreen:e}=this.props;e._shouldTimeScreenInteraction?this.props.onTimerEnded():this.props.onScreenClicked()},getItems:function(){const{props:e}=this,t=this.props.currentScreen._items?[...this.props.currentScreen._items]:[];return e.interaction._shouldAutoSortTabOrder&&t.sort((e,t)=>e._top===t._top||Math.abs(e._top-t._top)<1?e._left-t._left:e._top-t._top),t},getClassName:function(){var e=this.props.interaction._isInstructionsVisible;return u("ev-capture-screen",{"ev-no-scroll":e})},getOverlay:function(){var e=!1,t="rgba(0,0,0,0.8)",n=this.props.interaction._appearance||{};return this.props.isInstructionsOpen&&n._shouldShowInstructionsOverlay&&(e=!0,t=n.instructionsOverlayColor),this.props.isScenarioOpen&&n._shouldShowScenarioOverlay&&(e=!0,t=n.scenarioOverlayColor),this.props.interaction._feedbackPopup&&n._shouldShowFeedbackOverlay&&(e=!0,t=n.feedbackOverlayColor),this.props.isMenuOpen&&(e=!0),e?p.createElement("div",{className:"ev-capture-screen-overlay",style:{backgroundColor:t}}):null},getTools:function(){return p.createElement(l,{device:this.props.device,interaction:this.props.interaction,currentScreen:this.props.currentScreen,previousScreen:this.props.previousScreen,toggleFullScreenMode:this.props.toggleFullScreenMode,isFullScreenMode:this.props.isFullScreenMode,toggleInstructions:this.props.toggleInstructions,returnToResultsScreen:this.props.returnToResultsScreen,navigateToPreviousScreen:this.props.navigateToPreviousScreen,navigateToNextScreen:this.props.navigateToNextScreen,remainingAttemptText:this.props.remainingAttemptText,remainingAttemptsText:this.props.remainingAttemptsText,hideCorrectAnswerText:this.props.hideCorrectAnswerText,showCorrectAnswerText:this.props.showCorrectAnswerText,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer,toggleCorrectAnswer:this.props.toggleCorrectAnswer,screenWidth:this.props.screenWidth,setFeedbackPopup:this.props.setFeedbackPopup,toggleScenarioOpen:this.props.toggleScenarioOpen,isInstructionsOpen:this.props.isInstructionsOpen,isMenuOpen:this.props.isMenuOpen,isScenarioOpen:this.props.isScenarioOpen,toggleMenuOpen:this.props.toggleMenuOpen,toggleInstructionsOpen:this.props.toggleInstructionsOpen,openInstructions:this.props.openInstructions,openDirections:this.props.openDirections,resetScreen:this.props.resetScreen,restoreFocus:this.props.restoreFocus})},getDirections:function(){if(this.props.isDirectionsOpen&&this.props.currentScreen.directions)return p.createElement(d,{interaction:this.props.interaction,currentScreen:this.props.currentScreen})},getScenario:function(){if(this.props.isScenarioOpen)return p.createElement(h,{interaction:this.props.interaction,toggleScenarioOpen:this.props.toggleScenarioOpen})},getScreenItems:function(e){return i(e,(e,t)=>{if(!e._parentId){var n=R[e._type];return e._screenSize!=this.props.screenSizeSelection?null:p.createElement(n,{device:this.props.device,interaction:this.props.interaction,item:e,key:e._id,submitScreen:this.props.submitScreen,updateFormValue:this.props.updateFormValue,rejectScreen:this.props.rejectScreen,failScreen:this.props.failScreen,elementMethods:this.props.elementMethods,hasShowMarking:this.props.interaction._isComplete,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer})}})},getScreenClassName:function(){return u("ev-capture-screen-content")},getScreenWrapperClassName:function(){return u("ev-capture-screen-content-wrapper",{"ev-is-small-screen":"small"===this.props.screenSizeSelection,"ev-is-medium-screen":"medium"===this.props.screenSizeSelection,"ev-is-large-screen":"large"===this.props.screenSizeSelection,"ev-is-centered":r(this.props.interaction,"_appearance._isScreenCentered",!1)})},getScreenPanels:function(e){return i(this.props.currentScreen._panels,(t,n)=>p.createElement(k,{device:this.props.device,interaction:this.props.interaction,currentScreen:this.props.currentScreen,panel:t,key:t._id,items:this.getPanelItems(t._id,e)}))},getPanelItems:function(e,t){return i(t,(t,n)=>{if(t._parentId===e){var s=R[t._type];return p.createElement(s,{device:this.props.device,interaction:this.props.interaction,item:t,key:t._id,submitScreen:this.props.submitScreen,updateFormValue:this.props.updateFormValue,rejectScreen:this.props.rejectScreen,failScreen:this.props.failScreen,elementMethods:this.props.elementMethods,hasShowMarking:this.props.interaction._isComplete,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer})}})},getScreenHints:function(e){if(!this.props.interaction._isComplete&&r(this.props.interaction,"_appearance._shouldOverlayHints",!1)===e)return i(this.props.currentScreen._hints,(e,t)=>{if(e._showOnAttempt===this.props.currentScreen._attemptsTaken&&e._screenSize===this.props.screenSizeSelection)return p.createElement(I,{device:this.props.device,interaction:this.props.interaction,hint:e,key:e._id})})},getImage:function(){return p.createElement(m,{currentScreen:this.props.currentScreen,screenSizeSelection:this.props.screenSizeSelection})},getProgressBar:function(){const{interaction:e,currentScreen:t}=this.props;if(e._appearance&&e._appearance._shouldShowProgressBar){const n=e._screens.length,s=o(e._screens,{_id:t._id}),i=Math.round(s/n*100);return p.createElement(x,{percentage:i,isProgressBarAtBottom:!0!==t._isProgressBarAtTop})}},getCaptureTimer:function(){const{state:e,props:t}=this;if(!t.interaction._isReviewing&&t.currentScreen&&t.currentScreen._shouldSubmitScreenByTimer&&t.currentScreen._shouldTimeScreenInteraction){const n=t.currentScreen._attemptsLeft>=1?e._timeRemaining:0,i=(s(t.currentScreen._screenTimer,-3)||1e3)/1e3,r=i-n,o=t.currentScreen._screenTimerPosition;return p.createElement(O,{key:t.currentScreen._id,currentTime:r,totalTime:i,position:o})}},getScreenContent:function(){const e=this.getItems();return"small"===this.props.screenSizeSelection?p.createElement(N,{style:{width:this.props.captureWidth,height:480},ref:"scrollPanel"},p.createElement("div",{className:this.getScreenClassName(),onClick:this.props.onScreenClicked,style:{width:this.props.captureWidth}},this.getImage(),this.getScreenPanels(e),this.getScreenHints(!1),this.getScreenItems(e),this.getScreenHints(!0))):p.createElement("div",{className:this.getScreenClassName(),onClick:this.props.onScreenClicked,style:{width:this.props.captureWidth}},this.getImage(),this.getScreenPanels(e),this.getScreenHints(!1),this.getScreenItems(e),this.getScreenHints(!0))},render:function(){return p.createElement("div",{className:this.getClassName(),ref:"captureScreen"},this.getOverlay(),this.getTools(),this.getDirections(),this.getScenario(),this.getProgressBar(),this.getCaptureTimer(),p.createElement(a,{region:"ev-capture-content"},p.createElement("div",{className:this.getScreenWrapperClassName(),style:{width:this.props.captureWidth}},this.getScreenContent())))}});e.exports=P},1733:function(e,t,n){"use strict";const s=n(75),i=n(8),r=n(2);var o=n(0),c=n(7);const a=n(24);var p=r({displayName:"CaptureScreenDirections",getInitialState:function(){return{isVisible:!1}},componentDidMount:function(){s(this.animateIn)},componentWillReceiveProps:function(e){i(e,"currentScreen._id")!=i(this.props,"currentScreen._id")&&this.setState({isVisible:!1})},componentDidUpdate:function(){this.state.isVisible||s(this.animateIn)},animateIn:function(){this.setState({isVisible:!0})},getClassName:function(){var e=this.props.currentScreen._directionsPosition;return c("ev-capture-screen-directions",{"ev-is-bottom-center":"bottomCenter"===e,"ev-is-bottom-left":"bottomLeft"===e,"ev-is-bottom-right":"bottomRight"===e,"ev-is-middle-left":"middleLeft"===e,"ev-is-middle-right":"middleRight"===e,"ev-is-top-center":"topCenter"===e,"ev-is-top-left":"topLeft"===e,"ev-is-top-right":"topRight"===e,"ev-is-visible":this.state.isVisible})},getStyles:function(){var e=this.props.currentScreen._directionsPosition,t=this.props.interaction._appearance||{},n=this.props.currentScreen._directionsWidth,s=-parseInt(n)/2+"px";return e&&-1!==e.indexOf("Left")&&(s=0),{backgroundColor:t.directionsBackgroundColor,color:t.directionsTextColor,width:n,marginLeft:s}},render:function(){return o.createElement("div",{className:this.getClassName(),style:this.getStyles(),ref:"screenDirections"},o.createElement("div",{"aria-live":"polite",className:"ev-capture-screen-directions-content ev-body"},o.createElement(a,{html:this.props.currentScreen.directions})))}});e.exports=p},1734:function(e,t,n){"use strict";const s=n(2),i=n(175),r=n(24);var o=n(0),c=s({displayName:"CaptureScreenScenario",getStyles:function(){var e=this.props.interaction._appearance||{};return{backgroundColor:e.scenarioBackgroundColor,color:e.scenarioTextColor}},render:function(){var e=this.props.interaction._captureButtons||{};return o.createElement(i,null,o.createElement("div",{role:"dialog","aria-describedby":"ev-capture-screen-scenario-body",className:"ev-capture-screen-scenario",style:this.getStyles()},o.createElement("div",{className:"ev-capture-screen-scenario-content"},o.createElement(r,{className:"ev-capture-screen-scenario-body",id:"ev-capture-screen-scenario-body",html:this.props.interaction.scenarioBody}),o.createElement("button",{className:"ev-button",onClick:this.props.toggleScenarioOpen},e.scenarioButtonText))))}});e.exports=c},1735:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(1736),o=s({displayName:"CaptureScreenImage",shouldComponentUpdate:function(e){return this.props.screenSizeSelection!=e.screenSizeSelection||this.props.currentScreen._id!==e.currentScreen._id},render:function(){var e=r(this.props.currentScreen,this.props.screenSizeSelection);return i.createElement("img",{src:e,alt:this.props.currentScreen.imageAltText})}});e.exports=o},1736:function(e,t,n){"use strict";var s=n(76),i={large:{image:"_imageLarge",externalImage:"_externalImageLarge"},medium:{image:"_imageMedium",externalImage:"_externalImageMedium"},small:{image:"_imageSmall",externalImage:"_externalImageSmall"}};e.exports=function(e,t){return e?e[i[t].externalImage]?e[i[t].externalImage]:s(e[i[t].image]):{image:null,onion:null}}},1737:function(e,t,n){"use strict";const s=n(217),i=n(1412),r=n(2);var o=n(0),c=n(1375),a=n(7),p=r({displayName:"CaptureInputText",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},componentWillMount:function(){this.props.item.value},componentDidMount:function(){this.props.item._shouldAutoFocus&&s(i((function(){this.textInput.focus()}),this),300)},getPositioning:function(){return c.getPositioning(this.props)},getClassName:function(){var e=this.props.interaction._isComplete,t=this.props.item._isMarkable;if(this.props.isShowingCorrectAnswer)var n=a("ev-capture-item ev-capture-input-text",{"ev-is-correct":e&&t});else n=a("ev-capture-item ev-capture-input-text",{"ev-is-correct":t&&e&&this.props.item._isCorrect,"ev-is-incorrect":t&&e&&!this.props.item._isCorrect});return n},getElementStyles:function(){return c.getElementStyles(this.props,this.state)},getLabel:function(){if(this.props.item.label)return o.createElement("label",{style:this.getLabelStyles(),className:"ev-capture-input-text-label",htmlFor:this.props.item._id},this.props.item.label)},getLabelStyles:function(){return c.getLabelStyles(this.props)},getValue:function(){return this.props.interaction._isComplete&&this.props.isShowingCorrectAnswer&&!this.props.item._isCorrect&&this.props.item._isMarkable?this.props.item._result:this.props.item.value},onChange:function(e){this.props.updateFormValue(this.props.item._id,e.target.value)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},onKeyPress:function(e){if(13===e.which&&this.props.item._shouldSubmitOnEnter){var t=this.props.item;return this.props.submitScreen(t._id)}},render:function(){return o.createElement("div",{style:this.getPositioning(),className:this.getClassName()},this.getLabel(),o.createElement("input",{className:"ev-no-accessibility-focus",style:this.getElementStyles(),id:this.props.item._id,value:this.getValue(),placeholder:this.props.item.placeholder,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,onKeyPress:this.onKeyPress,ref:e=>{this.textInput=e}}))}});e.exports=p},1738:function(e,t,n){"use strict";const s=n(31),i=n(2);var r=n(0),o=n(1375),c=i({displayName:"CaptureInputSelect",getInitialState:function(){return{_isOpen:!1,_isHovered:!1,_isFocused:!1,_isDisabled:!1}},getPositioning:function(){return o.getPositioning(this.props)},getElementStyles:function(){return o.getElementStyles(this.props,this.state)},getOptions:function(){return s(this.props.item._options,(e,t)=>r.createElement("option",{value:e.value,key:t},e.text))},onSelectOptionChanged:function(e){this.props.updateFormValue(this.props.item._id,e.target.value)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},render:function(){return r.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-select"},r.createElement("select",{style:this.getElementStyles(),value:this.props.item.value,onChange:this.onSelectOptionChanged,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getOptions()))}});e.exports=c},1739:function(e,t,n){"use strict";const s=n(10),i=n(2);var r=n(0),o=n(1375),c=n(7),a=n(76),p=i({displayName:"CaptureInputButton",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},getPositioning:function(){return o.getPositioning(this.props)},getClassName:function(){var e=this.props.interaction._isComplete,t=this.props.item._isMarkable;if(this.props.isShowingCorrectAnswer)var n=c("ev-capture-item ev-capture-input-button",{"ev-is-correct":e&&"submit"===this.props.item._actionType&&"accept"===this.props.item._actionResult});else n=c("ev-capture-item ev-capture-input-button",{"ev-is-correct":t&&e&&this.props.item._isCorrect,"ev-is-incorrect":t&&e&&!this.props.item._isCorrect});return n},getElementStyles:function(){const e=o.getElementStyles(this.props,this.state);let t=e.textAlign;return"right"===t?t="flex-end":"left"===t&&(t="flex-start"),s({},e,{justifyContent:t})},getLeftIcon:function(){if("left"===this.props.item._iconPosition){if(this.props.item._shouldUseIconImage&&this.props.item._iconImage)return this.getIconImage("left");if(!this.props.item._shouldUseIconImage&&this.props.item._icon)return this.getIcon("left")}},getRightIcon:function(){if("right"===this.props.item._iconPosition){if(this.props.item._shouldUseIconImage&&this.props.item._iconImage)return this.getIconImage("right");if(!this.props.item._shouldUseIconImage&&this.props.item._icon)return this.getIcon("right")}},getIconImage:function(e){var t=a(this.props.item._iconImage),n="5px",s="0px";"left"===e&&(n="0px",s="5px");var i={width:this.props.item._iconSize,marginLeft:n,marginRight:s,display:"inline",verticalAlign:"sub"};return r.createElement("img",{src:t,style:i})},getIcon:function(e){var t="5px",n="0px";"left"===e&&(t="0px",n="5px");var s={fontSize:this.props.item._iconSize,width:this.props.item._iconSize,height:this.props.item._iconSize,color:"inherit",marginLeft:t,marginRight:n};return r.createElement("i",{style:s,className:"ev-icon ev-icon-"+this.props.item._icon})},submitScreen:function(){var e=this.props.item;if(this.props.elementMethods.setButtonAsClicked(e._id),"submit"===e._actionType){if("accept"===e._actionResult)return this.props.submitScreen(e._id);if("reject"===e._actionResult)return this.props.rejectScreen(e._id);if("fail"===e._actionResult)return this.props.failScreen(e._id)}},onClick:function(e){e.preventDefault(),e.stopPropagation(),e.target.blur(),this.submitScreen()},onMouseEnter:function(){this.props.item._shouldSubmitOnHover&&this.submitScreen(),this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},render:function(){return r.createElement("div",{style:this.getPositioning(),className:this.getClassName()},r.createElement("button",{className:"ev-button ev-no-accessibility-focus",style:this.getElementStyles(),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,"aria-label":this.props.item.ariaLabel},this.getLeftIcon(),r.createElement("span",null,this.props.item.text),this.getRightIcon()))}});e.exports=p},1740:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(1375),o=n(76);const c=n(171);var a=s({displayName:"CaptureInputCheckbox",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},componentWillMount:function(){this.props.item.value},getPositioning:function(){return r.getPositioning(this.props)},getElementStyles:function(){return r.getElementStyles(this.props,this.state)},getCheckboxImageStyles:function(){return{width:this.props.item.checkboxSize}},getLabel:function(e){if(this.props.item.label)return i.createElement("label",{tabIndex:"0",style:this.getLabelStyles(),className:"ev-capture-input-checkbox-label",htmlFor:this.props.item._id},this.props.item.label)},getLabelStyles:function(){return r.getLabelStyles(this.props)},onChange:function(e){this.props.updateFormValue(this.props.item._id,e.target.checked)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},onKeyPress:function(e){c.isEnterKey(e)&&this.onCheckedImageClicked()},onCheckedImageClicked:function(){this.props.updateFormValue(this.props.item._id,!this.props.item.value)},getComponent:function(){switch(this.props.item._checkboxPosition){case"top":return i.createElement("span",{className:"ev-capture-input-checkbox-position-top"},this.renderCheckbox(),this.getLabel());case"bottom":return i.createElement("span",{className:"ev-capture-input-checkbox-position-bottom"},this.getLabel(),this.renderCheckbox());case"left":return i.createElement("span",{className:"ev-capture-input-checkbox-position-left"},this.renderCheckbox(),this.getLabel());case"right":return i.createElement("span",{className:"ev-capture-input-checkbox-position-right"},this.getLabel(),this.renderCheckbox())}},renderCheckbox:function(){this.getElementStyles();var e=this.props.item;return this.props.item.uncheckedImage?i.createElement("div",{className:"ev-capture-input-checkbox-custom"},i.createElement("div",{className:"ev-capture-input-checkbox-custom-image"},i.createElement("img",{role:"checkbox","aria-checked":!0===e.value,tabIndex:"0",onClick:this.onCheckedImageClicked,onKeyPress:this.onKeyPress,style:this.getCheckboxImageStyles(),src:e.value?o(e.checkedImage):o(e.uncheckedImage)})),i.createElement("input",{type:"checkbox",style:{marginLeft:"-9999px"},id:this.props.item._id,checked:e.value,tabIndex:"-1",onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur})):i.createElement("input",{type:"checkbox",style:this.getElementStyles(),id:this.props.item._id,checked:e.value,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur})},render:function(){return i.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-checkbox"},this.getComponent())}});e.exports=a},1741:function(e,t,n){"use strict";var s=n(30)(n(21));const i=n(10),r=n(31),o=n(18),c=n(2);var a=n(0),p=n(1375),u=n(1742);const l=(0,n(1385).default)(c({displayName:"CaptureInputDropDown",getInitialState:function(){return{_isOpen:!1,_isHovered:!1,_isFocused:!1,_isDisabled:!1,_selectedOption:null,listOptionOffset:"0px"}},getPositioning:function(){return p.getPositioning(this.props)},getElementStyles:function(){return p.getElementStyles(this.props,this.state)},getLeftIcon:function(){return this.props.item._icon&&"left"===this.props.item._iconPosition?this.getIcon("left"):null},getRightIcon:function(){return this.props.item._icon&&"right"===this.props.item._iconPosition?this.getIcon("right"):null},getIcon:function(e){var t={fontSize:this.props.item._iconSize,width:this.props.item._iconSize,height:this.props.item._iconSize};return a.createElement("i",{style:t,className:"ev-icon ev-icon-"+this.props.item._icon+" ev-icon-position-"+e})},getListStyles:function(){if(this.props.item._listStyles){var e={};return this.props.item._shouldDisplayDropDownOnRight&&(e={right:this.state.listOptionOffset}),i({},this.props.item._listStyles._default,e)}return{}},setListItemOffset:function(){const{dropDownList:e,dropDownButton:t}=this.refs;var n="0px";this.props.item._shouldDisplayDropDownOnRight&&(n=e.clientWidth-t.clientWidth+"px"),this.setState({listOptionOffset:n})},getDropDown:function(){return this.state._isOpen?a.createElement("div",{style:this.getListStyles(),className:"ev-capture-input-drop-down-list"},this.getListItems()):null},getListItems:function(){return r(this.props.item._options,e=>a.createElement(u,{key:e.text,interaction:this.props.interaction,item:this.props.item,option:e,elementMethods:this.props.elementMethods,submitScreen:this.props.submitScreen,rejectScreen:this.props.rejectScreen,failScreen:this.props.failScreen,closeDropDown:this.closeDropDown,onOptionClicked:this.onOptionClicked}))},handleClickOutside:function(){this.closeDropDown()},closeDropDown:function(){this.setState({_isOpen:!1})},onClick:function(e){e.preventDefault(),this.setState({_isOpen:!this.state._isOpen},(function(){this.setListItemOffset()}))},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},onOptionClicked:function(e){this.setState({_selectedOption:e.text,_isOpen:!1})},render:function(){var e=this.props.item.text;return this.state._selectedOption&&(e=o(this.props.item._options,{text:this.state._selectedOption}).text),a.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-drop-down"},a.createElement("button",{style:this.getElementStyles(),onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur,ref:"dropDownButton"},this.getLeftIcon(),a.createElement("span",null,e),this.getRightIcon()),a.createElement("div",{ref:"dropDownList"},this.getDropDown()))}})),d=c({displayName:"Container",render:function(){return a.createElement(l,(0,s.default)({disableOnClickOutside:1!=this.props.item._shouldCloseWhenOutsideIsClicked},this.props))}});e.exports=d},1742:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(1375),o=s({displayName:"CaptureInputDropDownItem",getInitialState:function(){return{_isHovered:!1}},getOptionGroupStyles:function(){return this.props.item._optionGroupStyles?this.props.item._optionGroupStyles._default:{}},getOptionStyles:function(){return r.getOptionStyles(this.props,this.state)},onClick:function(e){e.preventDefault();var t=this.props.item,n=this.props.option;if(this.props.elementMethods.setDropDownOptionAsClicked(t._id,n.text),"submit"===n._actionType){if(this.props.closeDropDown(),"accept"===n._actionResult)return this.props.submitScreen(t._id);if("reject"===n._actionResult)return this.props.rejectScreen(t._id);if("fail"===n._actionResult)return this.props.failScreen(t._id)}else"change"===n._actionType&&this.props.onOptionClicked(n)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},render:function(){return"optgroup"===this.props.option._type?i.createElement("div",{style:this.getOptionGroupStyles(),className:"ev-capture-input-drop-down-option-group"},this.props.option.text):i.createElement("button",{className:"ev-capture-input-drop-down-option",onClick:this.onClick,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},i.createElement("span",{style:this.getOptionStyles()},this.props.option.text))}});e.exports=o},1743:function(e,t,n){"use strict";const s=n(31),i=n(18),r=n(10),o=n(1744),c=n(1745),a=n(1472),p=n(2);var u=n(0),l=(n(309),n(1375)),d=n(1747),h=p({displayName:"CaptureInputSlider",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},getPositioning:function(){return l.getPositioning(this.props)},getElementStyles:function(){return l.getElementStyles(this.props,this.state)},getWidgetStyles:function(){return this.props.item._sliderStyles._default},getSliderLabelStyles:function(){return this.props.item._sliderLabelStyles._default},getBar:function(){return u.createElement("div",{className:"ev-capture-item-slider-bar"})},getHandles:function(){var e=this.getMinStep(),t=this.getMaxStep(),n=this.getRange(e,t+1,1),i=this.getSliderWidthAsNumber();return s(this.props.item._handles,e=>{var t=i/(n.length-1)*e._value;return u.createElement(d,{item:this.props.item,range:n,key:e._id,handle:e,sliderWidth:i,position:t,elementMethods:this.props.elementMethods,interaction:this.props.interaction})})},getLabels:function(){var e=this.getMinStep(),t=this.getMaxStep(),n=this.getRange(e,t+1,1);return s(n,(e,t)=>{var s=i(this.props.item._steps,{_value:e});if(!s)return null;var o=100/(n.length-1)*t,c=this.getSliderLabelStyles(),a=r({},c,{left:o+"%"});return s?u.createElement("div",{key:s._value,className:"ev-capture-item-slider-label",style:a},s.label):void 0})},getSliderWidthAsNumber:function(){return parseInt(this.props.item._sliderStyles._default.width)},getMaxStep:function(){return o(this.props.item._steps,(function(e){return e._value}))._value},getMinStep:function(){return c(this.props.item._steps,(function(e){return e._value}))._value},getRange:function(e,t){return a(e,t)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},render:function(){return u.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-slider"},u.createElement("div",{className:"ev-capture-item-slider-widget",style:this.getWidgetStyles()},this.getBar(),this.getHandles(),this.getLabels()))}});e.exports=h},1747:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(1748),o=n(1375),c=s({displayName:"CaptureInputSliderHandle",getInitialState:function(){return{hasMouseDown:!1,_isHovered:!1}},getSliderHandleStyles:function(){return o.getSliderHandleStyles(this.props.handle,this.state)},onHandleStart:function(){this.setState({_isFocused:!0})},onHandleDrag:function(){this.setState({_isFocused:!0})},onHandleStop:function(e,t){this.setState({_isFocused:!1});var n=(this.props.range.length-1)/this.props.sliderWidth*t.lastX;this.props.elementMethods.setSliderHandleValue(this.props.item._id,this.props.handle._id,n)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},render:function(){return i.createElement(r,{axis:"x",onStart:this.onHandleStart,onDrag:this.onHandleDrag,onStop:this.onHandleStop,bounds:{left:0,top:0,right:this.props.sliderWidth,bottom:14},defaultPosition:{x:this.props.position,y:0},grid:[100]},i.createElement("div",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,className:"ev-capture-item-slider-handle"},i.createElement("div",{style:this.getSliderHandleStyles(),className:"ev-capture-item-slider-handle-contents"})))}});e.exports=c},1749:function(e,t,n){"use strict";const s=n(31),i=n(2);var r=n(0),o=n(7),c=n(1375),a=n(1750),p=i({displayName:"CaptureInputRadioOptions",getInitialState:function(){return{value:this.props.item.value}},getClassName:function(){var e=this.props.interaction._isComplete,t=this.props.item._isMarkable;if(this.props.isShowingCorrectAnswer)var n=o("ev-capture-item ev-capture-input-radio-options",{"ev-is-correct":e});else n=o("ev-capture-item ev-capture-input-radio-options",{"ev-is-correct":t&&e&&this.props.item._isCorrect,"ev-is-incorrect":t&&e&&!this.props.item._isCorrect});return n},getPositioning:function(){return c.getPositioning(this.props)},onOptionChanged:function(e){this.props.interaction._isComplete||this.setState({value:e},(function(){this.props.updateFormValue(this.props.item._id,e)}))},renderRadioOptions:function(){var e=this.props.item._options;return s(e,(e,t)=>r.createElement(a,{item:this.props.item,option:e,key:t,onChange:this.onOptionChanged,value:this.state.value,isShowingCorrectAnswer:this.props.isShowingCorrectAnswer}))},render:function(){return r.createElement("div",{style:this.getPositioning(),className:this.getClassName()},this.renderRadioOptions())}});e.exports=p},1750:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(1375),o=s({displayName:"CaptureInputRadioOption",getElementStyles:function(){return{}},getLabelStyles:function(){return r.getLabelStyles(this.props)},onChange:function(e){this.props.onChange(this.props.option.value)},renderInput:function(){var e=this.props.option.value===this.props.value;return this.props.isShowingCorrectAnswer&&(e=this.props.option.value===this.props.item._result),i.createElement("input",{type:"radio",style:this.getElementStyles(),id:this.props.item._id,checked:e,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur})},renderLabel:function(){return i.createElement("label",null,this.renderInput(),i.createElement("span",{style:this.getLabelStyles()}," ",this.props.option.label))},render:function(){return i.createElement("div",null,this.renderLabel())}});e.exports=o},1751:function(e,t,n){"use strict";const s=n(10),i=n(11),r=n(32),o=n(31),c=n(2);var a=n(0),p=n(7),u=n(1375),l=n(1752),d=n(1754),h=n(1385).default,m=[{_value:"aeonic",text:"Aeonic Trading Desk",_shouldBeSelected:!1,_items:[{_value:"tedsTravel",text:"Ted's Travel",_shouldBeSelected:!1},{_value:"mariasboutique",text:"Maria's Boutique",_shouldBeSelected:!1},{_value:"fareenasflowers",text:"Fareena's Flowers",_shouldBeSelected:!1}]},{_value:"adworld",text:"adWorld",_shouldBeSelected:!1,_items:[{_value:"surfnboard",text:"Surf-N-Board",_shouldBeSelected:!1},{_value:"caitscaps",text:"CAIT'S CAPS",_shouldBeSelected:!0},{_value:"kidapparel",text:"KidApparel",_shouldBeSelected:!1},{_value:"sportsgear",text:"Sports Gear",_shouldBeSelected:!1}]}],_=[{_value:"aeonic",text:"Aeonic Trading Desk",_shouldBeSelected:!1,_items:[{_value:"tedsTravel",text:"Ted's Travel",_shouldBeSelected:!1},{_value:"mariasboutique",text:"Maria's Boutique",_shouldBeSelected:!1},{_value:"fareenasflowers",text:"Fareena's Flowers",_shouldBeSelected:!1}]},{_value:"adworld",text:"adWorld",_shouldBeSelected:!1,_items:[{_value:"surfnboard",text:"Surf-N-Board",_shouldBeSelected:!1},{_value:"caitscaps",text:"CAIT'S CAPS",_shouldBeSelected:!1},{_value:"kidapparel",text:"KidApparel",_shouldBeSelected:!1},{_value:"sportsgear",text:"Sports Gear",_shouldBeSelected:!0}]}],S=c({displayName:"CaptureInputSearchDropDown",getInitialState:function(){return this.props.item._options.length>0&&(m=_),{_isOpen:!1,_isHovered:!1,_isFocused:!1,_isDisabled:!1,options:m,searchValue:""}},componentDidMount:function(){this.matchSearchQuery(this.state.searchValue)},getClassName:function(){var e=this.props.interaction._isComplete,t=this.props.item._isMarkable;if(this.props.isShowingCorrectAnswer)var n=p("ev-capture-item ev-capture-input-search-drop-down",{"ev-is-correct":e});else n=p("ev-capture-item ev-capture-input-search-drop-down",{"ev-is-correct":t&&e&&this.props.item._isCorrect,"ev-is-incorrect":t&&e&&!this.props.item._isCorrect});return n},getPositioning:function(){return u.getPositioning(this.props)},getDropDownStyles:function(){return{position:"absolute",backgroundColor:"#fff",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",border:"1px solid rgba(0,0,0,0.2)",zIndex:1e4}},getDropDownOptionsStyles:function(){return{height:"200px",width:"500px",borderBottom:"1px #ccc solid",overflowY:"auto"}},getInputStyles:function(){var e={};return this.state._isFocused&&(e={boxShadow:"inset 0 1px 2px rgba(0,0,0,0.3)",outline:"none",borderColor:"#4d90fe"}),s({},{boxSizing:"border-box",height:"29px",padding:"6px 8px",border:"1px solid #d9d9d9",borderTop:"1px solid silver",lineHeight:"15px",color:"#333",verticalAlign:"baseline",borderRadius:"1px",width:"300px",backgroundColor:"#fff",transition:"none"},e)},checkSelectedItems:function(){i(this.state.options,(function(e){var t=r(e._items,{_isSelected:!0});t.length===e._items.length?(e._isSelected=!0,e._isPartiallySelected=!1):t.length>0?(e._isSelected=!1,e._isPartiallySelected=!0):(e._isSelected=!1,e._isPartiallySelected=!1)}))},matchSearchQuery:function(e){var t=0===e.length;i(this.state.options,n=>{var s=!1,r=!1;n.text.toLowerCase().indexOf(e)>=0&&e.length>0&&(s=!0),i(n._items,t=>{t.text.toLowerCase().indexOf(e)>=0&&e.length>0&&(s=!0,r=!0)}),t||s?(n._isVisible=!0,n._isOpen=r):(n._isVisible=!1,n._isOpen=!1)})},resetOptionSelection:function(){i(this.state.options,(function(e){e._isSelected=!1,e._isPartiallySelected=!1,e._isOpen=!1,i(e._items,(function(e){e._isSelected=!1}))}))},storeUserSelection:function(){i(this.state.options,(function(e){e._isSelected?e._hasBeenSelected=!0:e._hasBeenSelected=!1,i(e._items,(function(e){e._isSelected?e._hasBeenSelected=!0:e._hasBeenSelected=!1}));var t=r(e._items,{_hasBeenSelected:!0});t.length===e._items.length?e._hasBeenPartiallySelected=!1:t.length>0?e._hasBeenPartiallySelected=!0:e._hasBeenPartiallySelected=!1}))},handleClickOutside:function(){this.setState({_isFocused:!1,_isOpen:!1})},onChange:function(e){var t=e.target.value.toLowerCase();this.matchSearchQuery(t),this.setState({searchValue:t,options:this.state.options})},onFocus:function(){this.resetOptionSelection(),this.setState({options:this.state.options,_isFocused:!0,_isOpen:!0})},onDoneClicked:function(){this.storeUserSelection(),this.setState({_isFocused:!1,_isOpen:!1,options:this.state.options},(function(){this.props.elementMethods.setSearchDropDownOptions(this.props.item._id,this.state.options)}))},onOptionToggleClicked:function(e){e._isOpen=!e._isOpen,this.setState({options:this.state.options})},onOptionSelectClicked:function(e){e._isSelected=!e._isSelected,i(e._items,(function(t){t._isSelected=e._isSelected})),this.checkSelectedItems(),this.setState({options:this.state.options})},onOptionItemSelectClicked:function(e){e._isSelected=!e._isSelected,this.checkSelectedItems(),this.setState({options:this.state.options})},renderDropDown:function(){if(this.state._isOpen)return a.createElement("div",{className:"ev-capture-input-search-drop-down-list",style:this.getDropDownStyles()},a.createElement("div",{className:"ev-capture-input-search-drop-down-options",style:this.getDropDownOptionsStyles()},this.renderDropDownOptions()),this.renderDropDownButtons())},renderDropDownOptions:function(){var e=this.state.options;return o(e,(e,t)=>{if(e._isVisible)return a.createElement(l,{key:e._value+t,option:e,hasNestedItems:!0,onOptionToggleClicked:this.onOptionToggleClicked,onOptionSelectClicked:this.onOptionSelectClicked,onOptionItemSelectClicked:this.onOptionItemSelectClicked})})},renderDropDownButtons:function(){return a.createElement("div",{className:"ev-capture-input-search-drop-down-buttons"},this.renderDoneButton())},renderDoneButton:function(){return a.createElement("button",{onClick:this.onDoneClicked,className:"ev-button ev-capture-input-search-drop-down-done-button"},"Done")},renderSelectedOptions:function(){return o(this.state.options,(e,t)=>{if(e._hasBeenSelected||e._hasBeenPartiallySelected)return a.createElement(d,{key:e._value+t,option:e})})},render:function(){return a.createElement("div",{style:this.getPositioning(),className:this.getClassName()},a.createElement("input",{type:"text",onChange:this.onChange,onFocus:this.onFocus,value:this.state.searchValue,className:"ev-capture-input-search-drop-down-input",style:this.getInputStyles(),placeholder:this.props.item.placeholder}),this.renderDropDown(),this.renderSelectedOptions())}});e.exports=h(S)},1752:function(e,t,n){"use strict";const s=n(31),i=n(2);var r=n(0),o=n(1753),c=i({displayName:"CaptureInputSearchDropDownOption",componentWillUpdate:function(e){},getOptionToggleStyle:function(){var e='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAKElEQVR42mP4TwJgoEhxZGQkaYpxacCpGJsGvIrRNVDHZOqHBtUiBQD+7sMMe4NSLAAAAABJRU5ErkJggg==")  -0px -0px no-repeat';return this.props.option._isOpen&&(e='url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAJUlEQVR42mP4TwJgGGSKIyMjcWKsJuNTiNUZuBTidDM2hYMo6ABfasMMLi1rYgAAAABJRU5ErkJggg==")  -0px -0px no-repeat'),{height:"11px",width:"11px",overflow:"hidden",display:"inline-block",opacity:.55,background:e}},getOptionSelectStyle:function(){var e="none",t="0px 0px";return this.props.option._isPartiallySelected&&(e="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVAQMAAACT2TfVAAAABlBMVEXd3d10dHThX6XJAAAAAXRSTlMAQObYZgAAABFJREFUCNdjYCASMP+DYCIAAFCqAgPY2xgtAAAAAElFTkSuQmCC')",t="-5px -5px"),this.props.option._isSelected&&(e="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAtklEQVQ4y2P4//8/A7Ux1Q0cxoaCADIbCUgCMTvVXAoE5kA8CYidyXYpGrAH4iVAHIXiCwoMDQTimUBcBsRMlBrKCsTpUANzkC0j11BuIK6EGlgKsoAkQ4FgChD7AzELVI8YEDdDDawDYk6YQaQY6gg1oAqILYC4D8oHGcyLbBAphoJAKtQgGO4EYiHk2CLHUJAXm6AG9gCxNHoSIMdQEJCFGqiALaGSayjMxQwUGzq0S6nhZygA2ojsbh6J67kAAAAASUVORK5CYII=')",t="-6px -3px"),{height:"11px",width:"11px",overflow:"hidden",display:"inline-block",opacity:.55,backgroundPosition:t,backgroundColor:"rgba(255,255,255,0.65)",backgroundImage:e,border:"1px solid rgba(155,155,155,0.57)"}},getOptionStyles:function(){return{minHeight:"20px",minWidth:"20px"}},onOptionToggleClicked:function(){this.props.onOptionToggleClicked(this.props.option)},onOptionSelectClicked:function(){this.props.onOptionSelectClicked(this.props.option)},renderNestedItems:function(){if(this.props.hasNestedItems&&this.props.option._isOpen)return r.createElement("div",{className:"ev-capture-input-search-drop-down-option-items"},this.renderOptionItems())},renderOptionItems:function(){return s(this.props.option._items,(e,t)=>r.createElement(o,{key:e._value+t,item:e,onOptionItemSelectClicked:this.props.onOptionItemSelectClicked}))},render:function(){return r.createElement("div",null,r.createElement("div",{style:this.getOptionStyles()},r.createElement("span",{style:this.getOptionToggleStyle(),onClick:this.onOptionToggleClicked,className:"ev-capture-input-search-drop-down-option-toggle"}),r.createElement("span",{style:this.getOptionSelectStyle(),onClick:this.onOptionSelectClicked,className:"ev-capture-input-search-drop-down-option-select"}),r.createElement("span",{className:"ev-capture-input-search-drop-down-option-text"},this.props.option.text)),this.renderNestedItems())}});e.exports=c},1753:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=s({displayName:"CaptureInputSearchDropDownOptionItem",getItemSelectStyle:function(){var e="none";return backgroundPosition="0px 0px",this.props.item._isPartiallySelected&&(e="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVAQMAAACT2TfVAAAABlBMVEXd3d10dHThX6XJAAAAAXRSTlMAQObYZgAAABFJREFUCNdjYCASMP+DYCIAAFCqAgPY2xgtAAAAAElFTkSuQmCC')",backgroundPosition="-5px -5px"),this.props.item._isSelected&&(e="url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAACpF6WWAAAAtklEQVQ4y2P4//8/A7Ux1Q0cxoaCADIbCUgCMTvVXAoE5kA8CYidyXYpGrAH4iVAHIXiCwoMDQTimUBcBsRMlBrKCsTpUANzkC0j11BuIK6EGlgKsoAkQ4FgChD7AzELVI8YEDdDDawDYk6YQaQY6gg1oAqILYC4D8oHGcyLbBAphoJAKtQgGO4EYiHk2CLHUJAXm6AG9gCxNHoSIMdQEJCFGqiALaGSayjMxQwUGzq0S6nhZygA2ojsbh6J67kAAAAASUVORK5CYII=')",backgroundPosition="-6px -3px"),{height:"11px",width:"11px",overflow:"hidden",display:"inline-block",opacity:.55,backgroundImage:e,backgroundPosition:backgroundPosition,border:"1px solid rgba(155,155,155,0.57)",backgroundColor:"rgba(255,255,255,0.65)"}},onOptionItemSelectClicked:function(){this.props.onOptionItemSelectClicked(this.props.item)},render:function(){return i.createElement("div",null,i.createElement("span",{style:this.getItemSelectStyle(),onClick:this.onOptionItemSelectClicked,className:"ev-capture-input-search-drop-down-option-item-select"}),i.createElement("span",{className:"ev-capture-input-search-drop-down-option-item-text"},this.props.item.text))}});e.exports=r},1754:function(e,t,n){"use strict";const s=n(31),i=n(2);var r=n(0),o=i({displayName:"CaptureInputSearchDropDownSelectedOption",renderSelectedItems:function(){return this.props.option._hasBeenSelected?null:s(this.props.option._items,(function(e,t){if(e._hasBeenSelected)return r.createElement("div",{key:e._value+t,className:"ev-capture-input-search-drop-down-selected-option-item"},r.createElement("div",{className:"ev-capture-input-search-drop-down-selected-option-item-text"},e.text))}))},render:function(){return r.createElement("div",null,r.createElement("div",{className:"ev-capture-input-search-drop-down-selected-option"},r.createElement("div",{className:"ev-capture-input-search-drop-down-selected-option-text"},this.props.option.text)),this.renderSelectedItems())}});e.exports=o},1755:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(1375),o=s({displayName:"CaptureInputTextArea",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1}},componentWillMount:function(){this.props.item.value},getPositioning:function(){return r.getPositioning(this.props)},getElementStyles:function(){return r.getElementStyles(this.props,this.state)},getLabel:function(){if(this.props.item.label)return i.createElement("label",{style:this.getLabelStyles(),className:"ev-capture-input-text-area-label",htmlFor:this.props.item._id},this.props.item.label)},getLabelStyles:function(){return r.getLabelStyles(this.props)},onChange:function(e){this.props.updateFormValue(this.props.item._id,e.target.value)},onMouseEnter:function(){this.setState({_isHovered:!0})},onMouseLeave:function(){this.setState({_isHovered:!1})},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},render:function(){return i.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-text-area"},this.getLabel(),i.createElement("textarea",{className:"ev-no-accessibility-focus",style:this.getElementStyles(),id:this.props.item._id,value:this.props.item.value,placeholder:this.props.item.placeholder,onChange:this.onChange,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onFocus,onBlur:this.onBlur}))}});e.exports=o},1756:function(e,t,n){"use strict";const s=n(217),i=n(1412),r=n(2);var o=n(0),c=n(1375),a=n(1757),p=r({displayName:"CaptureInputHoverOverlay",getInitialState:function(){return{_isHovered:!1,_isFocused:!1,_isDisabled:!1,_hasPopupOpen:!1}},getPositioning:function(){return c.getPositioning(this.props)},getElementStyles:function(){return c.getElementStyles(this.props,this.state)},getPopup:function(){if(this.state._hasPopupOpen)return o.createElement(a,{onPopupButtonClicked:this.onPopupButtonClicked,item:this.props.item})},onPopupButtonClicked:function(e){e.preventDefault(),e.target.blur();var t=this.props.item;if(this.props.elementMethods.setButtonAsClicked(t._id),"submit"===t._actionType){if("accept"===t._actionResult)return this.props.submitScreen(t._id);if("reject"===t._actionResult)return this.props.rejectScreen(t._id);if("fail"===t._actionResult)return this.props.failScreen(t._id)}},onMouseEnter:function(){this.setState({_isHovered:!0,_hasPopupOpen:!0})},onMouseLeave:function(){this.setState({_isHovered:!1}),s(i((function(){!this.state._isHovered&&this.state._hasPopupOpen&&this.setState({_hasPopupOpen:!1})}),this),300)},onFocus:function(){this.setState({_isFocused:!0})},onBlur:function(){this.setState({_isFocused:!1})},render:function(){return o.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-input-hover-overlay"},o.createElement("div",{className:"ev-capture-item ev-capture-input-hover-overlay-holder",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},o.createElement("button",{style:this.getElementStyles()},o.createElement("span",null,this.props.item.text)),this.getPopup()))}});e.exports=p},1757:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(76),o=s({displayName:"CaptureInputHoverOverlayPopup",getInitialState:function(){return{height:0}},componentDidMount:function(){this.setHeight()},setHeight:function(){var e=this.refs.popup.clientHeight;this.setState({height:e})},getStyles:function(){return{marginTop:-this.state.height/2-5+"px"}},getPopupImage:function(){if(this.props.item.popupImage)return i.createElement("img",{onLoad:this.setHeight,alt:this.props.item.alt,src:r(this.props.item.popupImage)})},getPopupButtons:function(){if(this.props.item.popupButtonText)return i.createElement("div",{className:"ev-capture-input-hover-overlay-popup-buttons"},i.createElement("button",{className:"ev-capture-input-hover-overlay-popup-button",onClick:this.props.onPopupButtonClicked},this.props.item.popupButtonText))},render:function(){return i.createElement("div",{className:"ev-capture-input-hover-overlay-popup",ref:"popup",style:this.getStyles()},i.createElement("div",{className:"ev-capture-input-hover-overlay-popup-content"},this.getPopupImage()),this.getPopupButtons(),i.createElement("div",{className:"ev-capture-input-hover-overlay-popup-pin"}))}});e.exports=o},1758:function(e,t,n){"use strict";const s=n(11),i=n(2);var r=n(0),o=n(1375);const c=n(24);var a=i({displayName:"CaptureDisplayTextArea",getPositioning:function(){return o.getPositioning(this.props)},getElementStyles:function(){return o.getElementStyles(this.props,{_isHovered:!1,_isDisabled:!1,_isFocused:!1})},getText:function(){return this.props.item._existingValue?this.getExistingValue():this.props.item.text},getExistingValue:function(){var e=this.props.interaction._screens,t="";return s(e,e=>{s(e._items,e=>{e._id===this.props.item._existingValue&&(t=e.value)})}),t},render:function(){return r.createElement("div",{style:this.getPositioning(),className:"ev-capture-item ev-capture-display-text-area"},r.createElement(c,{style:this.getElementStyles(),html:this.getText()}))}});e.exports=a},1759:function(e,t,n){"use strict";const s=n(8),i=n(2),r=n(7);var o=n(0),c=n(1375),a=i({displayName:"CaptureScreenHint",getPositioning:function(){return c.getHintPositioning(this.props)},getStyles:function(){var e=this.props.interaction._appearance||{};return{width:this.props.hint._width,height:this.props.hint._height,backgroundColor:e.hintsBackgroundColor,borderColor:e.hintsBorderColor,borderWidth:e.hintsBorderWidth,borderStyle:"solid"}},getClassName:function(){return r("ev-capture-screen-hint",{"ev-is-overlay-hint":s(this.props.interaction,"_appearance._shouldOverlayHints",!1)})},render:function(){return o.createElement("div",{className:this.getClassName(),style:this.getPositioning()},o.createElement("div",{style:this.getStyles()}))}});e.exports=a},1760:function(e,t,n){"use strict";n(31);const s=n(2);var i=n(0),r=(n(1375),n(1516).Scrollbars),o=n(76),c=s({displayName:"CaptureScreenPanel",getStyles:function(){var e=this.props.panel._width,t=this.props.panel._height,n=this.props.panel._top,s=this.props.panel._left,i="absolute",r=0;return this.props.panel._isFixedPosition&&(i="fixed",r=2),{width:e,height:t,top:n+"%",left:s+"%",position:i,zIndex:r}},getContentStyles:function(){return{width:this.props.panel._innerWidth,height:this.props.panel._innerHeight,backgroundColor:this.props.panel._backgroundColor}},onImageLoaded:function(){this.refs.scrollPanel.scrollTop(this.props.panel._startingScrollTop)},renderImage:function(){if(this.props.panel._image)return i.createElement("img",{src:o(this.props.panel._image),alt:this.props.panel.alt,onLoad:this.onImageLoaded})},renderView:e=>i.createElement("div",{className:"ev-box",ref:"panel",style:e.style}),renderScreenItems:function(){return this.props.items},render:function(){return i.createElement("div",{className:"ev-capture-screen-panel",style:this.getStyles()},i.createElement(r,{style:{width:this.props.panel._width,height:this.props.panel._height},ref:"scrollPanel"},i.createElement("div",{className:"ev-capture-screen-panel-content",style:this.getContentStyles()},this.renderImage(),this.renderScreenItems())))}});e.exports=c},1774:function(e,t,n){"use strict";const s=n(2),i=n(0),r=n(7),o=s({displayName:"CaptureProgressBar",render:function(){return i.createElement("div",{className:r("ev-capture-progress-bar",{"ev-is-bottom":this.props.isProgressBarAtBottom})},i.createElement("div",{className:"ev-capture-progress-bar-indicator"},i.createElement("div",{className:"ev-capture-progress-bar-indicator-inner",style:{width:this.props.percentage+"%",transition:"width 0.2s ease-out"}})))}});e.exports=o},1775:function(e,t,n){"use strict";const s=n(2),i=n(1),r=n(7),o=n(0),c=n(1402),a={};function p(e,t,n){const s=n/180*Math.PI;return[e[0]+Math.cos(s)*t,e[1]+Math.sin(s)*t]}function u(e,t,n,s){let i=n,r=p(e,t,i),o="M "+r[0]+" "+r[1];for(;i<=s;)r=p(e,t,i),o+=" L "+r[0]+" "+r[1],i+=1;return o}a.create=function(e,t,n,s){this.paper=new c(e,56,56);const i=360/t*(t-n)-90;this.theArc=this.paper.path(u([28,28],14,i,270)).attr({stroke:s,"stroke-width":28})},a.update=function(e,t,n,s){const i=360/t*(t-n)-90;this.theArc.attr({stroke:s,"stroke-width":28,path:u([28,28],14,i,270)})};const l=s({displayName:"CaptureTimer",propTypes:{totalTime:i.number.isRequired,currentTime:i.number.isRequired,position:i.string.isRequired},getDefaultProps:function(){return{position:"top-right"}},componentDidMount:function(){const{totalTime:e,currentTime:t}=this.props;a.create(this._timer,e,t,"rgba(0,0,0,0.3)")},componentDidUpdate:function(){const{totalTime:e,currentTime:t}=this.props;a.update(this._timer,e,t,"rgba(0,0,0,0.3)")},render:function(){return o.createElement("div",{className:r("ev-capture-timer","ev-"+this.props.position),style:{width:"56px",height:"56px"}},o.createElement("div",{className:"ev-capture-timer-mount",ref:e=>this._timer=e,style:{width:"56px",height:"56px",transform:"scaleX(-1)"}}),o.createElement("i",{className:"ev-icon ev-icon-alarm2 ev-capture-timer-icon"}))}});e.exports=l},1776:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=(n(1460),n(1777)),o=s({displayName:"CaptureScreenResults",render:function(){return i.createElement("div",{className:"ev-capture-screen-results"},i.createElement("div",{className:"ev-capture-screen-results-content"},i.createElement(r,{interaction:this.props.interaction,viewCompletedScreen:this.props.viewCompletedScreen,toggleFullScreenMode:this.props.toggleFullScreenMode})))}});e.exports=o},1777:function(e,t,n){"use strict";(function(t){const s=n(75),i=n(1412),r=n(31),o=n(2);var c=n(0),a=n(7),p=n(1778),u=n(1779),l=n(76);const d=n(24);var h=o({displayName:"CaptureResultsOverview",componentDidUpdate:function(e){e.isFullScreenMode!=this.props.isFullScreenMode&&this.renderDonut()},componentDidMount:function(){this.renderDonut()},renderDonut:function(){var e="#FF1542";this.props.interaction._isCorrect&&(e="#04e678"),t(this.refs.donut).empty(),s(i((function(){new u(this.refs.donut,160,160,this.props.interaction._finalScore,100,this.props.interaction._finalScore+"%",18,64,64,16,16,"#ffffff",e,"#454545")}),this))},getFeedbackSection:function(){var e=this.props.interaction.feedbackMessage;return c.createElement("div",{className:"ev-capture-results-overview-feedback-container"},this.getFeedbackVisuals(),c.createElement(d,{html:e}))},getFeedbackVisuals:function(){var e,t=this.props.interaction._isCorrect,n=this.props.interaction._resultsScreen||{},s=!1;t&&n.correctGif?(s=!0,e=n.correctGif):!t&&n.incorrectGif&&(s=!0,e=n.incorrectGif);var i=a("ev-capture-results-overview-feedback-visuals ev-clearfix",{"ev-has-image":s});return c.createElement("div",{className:i},this.renderFeedbackVisualsImage(e),c.createElement("div",{className:"ev-capture-results-overview-donut",ref:"donut"}))},renderFeedbackVisualsImage:function(e){if(e)return c.createElement("div",{className:"ev-capture-results-overview-image"},c.createElement("img",{src:l(e)}))},getScreenResults:function(){var e=this.props.interaction._resultsScreen||{};if(this.props.interaction._resultsScreen._shouldShowScreenResults)return c.createElement("div",{className:"ev-capture-results-overview-list"},c.createElement("div",{className:"content-title ev-capture-results-overview-section-text"},c.createElement("div",{className:"content-title ev-capture-results-overview-section-title"},c.createElement(d,{element:"h2",html:e.screenResultsTitle})),c.createElement(d,{className:"ev-capture-results-overview-section-body",html:e.screenResultsBody})),this.getScreenOverviews())},getScreenOverviews:function(){return r(this.props.interaction._screens,function(e){if(e._isMarkable)return c.createElement(p,{key:e._id,screen:e,viewCompletedScreen:this.props.viewCompletedScreen,interaction:this.props.interaction})}.bind(this))},getRecommendationSection:function(){if(!this.props.interaction._resultsScreen._shouldShowRecommendations)return null;var e=this.props.interaction._resultsScreen||{};return this.props.interaction._isCorrect?void 0:c.createElement("div",{className:"ev-capture-results-overview-recommendation ev-capture-results-overview-section-text"},c.createElement("div",{className:"ev-content-title ev-capture-results-overview-section-title"},c.createElement(d,{element:"h2",html:e.recommendationsTitle})),c.createElement("div",{className:"ev-capture-results-overview-section-body"},c.createElement(d,{html:e.recommendationsBody})),this.getRecommendations())},getRecommendations:function(){if(!this.props.interaction._isCorrect&&this.props.interaction._resultsScreen){var e=this.props.interaction._resultsScreen._recommendations;return r(e,(function(e,t){return c.createElement("div",{key:t,className:"ev-capture-results-overview-recommendation-item"},c.createElement("div",{className:"ev-capture-results-overview-recommendation-item-title"},e.title),c.createElement("div",{className:"ev-capture-results-overview-recommendation-item-body"},e.body),c.createElement("div",null,c.createElement("a",{className:"ev-button ev-primary",href:e.link,target:"_blank"},e.linkText)))}))}},getButtons:function(){return c.createElement("div",{className:"ev-capture-results-buttons"},c.createElement("button",{className:"ev-button",onClick:this.props.toggleFullScreenMode},this.props.interaction._captureButtons.closeCaptureButtonText))},render:function(){var e=this.props.interaction._resultsScreen||{};return c.createElement("div",{className:"ev-capture-results-overview"},c.createElement("div",{className:"ev-capture-results-overview-header"},c.createElement("div",{className:"ev-header-title"},c.createElement(d,{element:"h1",html:e.title})),this.getFeedbackSection()),this.getScreenResults(),this.getRecommendationSection(),this.getButtons())}});e.exports=h}).call(this,n(29))},1778:function(e,t,n){"use strict";const s=n(2);var i=n(0),r=n(7);const o=n(24);var c=s({displayName:"CaptureResultsOverviewScreen",getScreenMarking:function(){var e=r("ev-info-detail-display","ev-icon",{"ev-icon-checkmark-circle":this.props.screen._isCorrect,"ev-icon-cross-circle":!this.props.screen._isCorrect});return i.createElement("div",{className:"ev-capture-results-screen-marking"},i.createElement("div",{className:e}))},getScoreProgressBar:function(){var e=100/this.props.screen._totalScore*(this.props.screen._usersScore||0),t=(this.props.screen._usersScore||0)+"/"+this.props.screen._totalScore;return i.createElement("div",{className:"ev-capture-results-overview-points"},i.createElement("div",{className:"ev-capture-progress-bar"},i.createElement("div",{className:"ev-capture-progress-bar-inner",style:{width:e+"%"}})),i.createElement("div",{className:"ev-capture-results-overview-points-count"},t))},getScreenResultsText:function(){if(this.props.screen.scorePrefixTitle||this.props.screen.scorePrefixBody)return i.createElement("div",{className:"ev-capture-results-overview-screen-prefix"},this.getScreenResultsTextTitle(),this.getScreenResultsTextBody())},getScreenResultsTextTitle:function(){if(this.props.screen.scorePrefixTitle)return i.createElement("div",{className:"ev-component-title"},i.createElement(o,{element:"h4",className:"ev-component-title-inner",html:this.props.screen.scorePrefixTitle}))},getScreenResultsTextBody:function(){if(this.props.screen.scorePrefixBody)return i.createElement("div",{className:"ev-component-body"},i.createElement(o,{className:"ev-component-body-inner",html:this.props.screen.scorePrefixBody}))},getReviewButton:function(){var e=this.props.interaction._resultsScreen||{};return this.props.screen._hasBeenViewed?i.createElement("div",{className:"ev-capture-results-item-review-status"},i.createElement("a",{href:"#",tabIndex:"0",onClick:this.onViewCompletedScreenClicked},e.reviewText)):i.createElement("div",{className:"ev-capture-results-item-review-status"},e.noReviewText)},onViewCompletedScreenClicked:function(e){e.preventDefault(),this.props.viewCompletedScreen(this.props.screen._id)},render:function(){return i.createElement("div",null,this.getScreenResultsText(),i.createElement("div",{className:"ev-capture-results-overview-screen list-item ev-clearfix"},this.getScreenMarking(),i.createElement("div",{className:"ev-capture-results-item-content"},i.createElement("div",{className:"ev-capture-results-item-content-inner"},i.createElement("div",{className:"ev-list-item-title"},i.createElement("div",{className:"ev-component-title"},i.createElement(o,{className:"ev-component-title-inner",html:this.props.screen.displayTitle||this.props.screen.title}))),this.getReviewButton())),i.createElement("div",{className:"ev-capture-results-item-analytics"},i.createElement("div",{className:"ev-capture-results-item-analytics-inner"},this.getScoreProgressBar()))))}});e.exports=c},1779:function(e,t,n){"use strict";const s=n(1402);e.exports=function(e,t,n,i,r,o,c,a,p,u,l,d,h,m){var _=s(e,t,n);_.customAttributes.arc=function(e,t,n,s,i){var r=360/s*n,o=(90-r)*Math.PI/180,c=e+i*Math.cos(o),a=t-i*Math.sin(o);return{path:s==n?[["M",e,t-i],["A",i,i,0,1,1,e-.01,t-i]]:[["M",e,t-i],["A",i,i,0,+(r>180),1,c,a]]}};_.circle(t/2,n/2,p).attr({stroke:d,"stroke-width":l});var S=_.path().attr({stroke:h,"stroke-width":u,arc:[t/2,n/2,0,r,a]});_.text(t/2,n/2,o).attr({"font-size":c,fill:m,"font-weight":"bold"}),S.rotate(0,0,0).animate({arc:[t/2,n/2,i,r,a]},1900)}},1780:function(e,t,n){"use strict";const s=n(10),i=n(18),r=n(11),o=n(8),c=n(31),a=n(301),{SETUP_COMPONENT:p}=n(61),{CAPTURE_START:u,CAPTURE_UPDATE_FORM_VALUE:l,CAPTURE_SUBMIT_SCREEN:d,CAPTURE_REJECT_SCREEN:h,CAPTURE_FAIL_SCREEN:m,CAPTURE_SET_BUTTON_AS_CLICKED:_,CAPTURE_SET_DROPDOWN_AS_CLICKED:S,CAPTURE_SET_SLIDER_HANDLE_VALUE:g,CAPTURE_SET_SEARCH_DROPDOWN_OPTIONS:v,CAPTURE_SET_FEEDBACK_POPUP:f,CAPTURE_TOGGLE_INSTRUCTIONS:C,CAPTURE_VIEW_COMPLETED_SCREEN:E,CAPTURE_RETURN_TO_RESULTS_SCREEN:A,CAPTURE_NAVIGATE_TO_PREVIOUS_SCREEN:b,CAPTURE_NAVIGATE_TO_NEXT_SCREEN:y,CAPTURE_RESET_SCREEN:T,CAPTURE_SCREEN_CLICKED:I,CAPTURE_SCREEN_TIMER_ENDED:k,CAPTURE_TOGGLE_INSTRUCTIONS_OPEN:N,CAPTURE_OPEN_DIRECTIONS:x,CAPTURE_OPEN_INSTRUCTIONS:O,CAPTURE_TOGGLE_MENU:R,CAPTURE_TOGGLE_CORRECT_ANSWER:P,CAPTURE_TOGGLE_SCENARIO_OPEN:w,CAPTURE_COMPLETED:M}=n(1433),D={isShowingCorrectAnswer:!1,isScenarioOpen:!1,isMenuOpen:!1,isInstructionsOpen:!0,isDirectionsOpen:!1,activeScreenId:null},B=n(220),L=n(1375);e.exports=(e,t)=>function(e){const t={};if(e._currentScreenId&&e._currentScreenId!==e.activeScreenId){const n=e._isReviewing||!1;t.isDirectionsOpen=!1,t.isInstructionsOpen=!n,t.activeScreenId=e._currentScreenId;0===i(e._screens,{_id:e._currentScreenId})._instructions.length&&(t.isDirectionsOpen=!0,t.isInstructionsOpen=!1)}return s({},e,t)}(e=function(e,t){switch(t.type){case p:return s({},e,D);case u:return function(e){return e=s({},e,{_hasStarted:!0,_currentScreenId:e._screens[0]._id,_isInstructionsVisible:!!e._screens[0].popupInstruction,_isComplete:!!e._screens[0]._shouldSetComponentAsComplete}),r(e._screens,(function(t){t._attempts=void 0===t._attempts?parseInt(e._attempts):t._attempts,t._attemptsTaken=void 0===t._attemptsTaken?0:t._attemptsTaken,t._attemptsLeft=void 0===t._attemptsLeft?t._attempts:t._attemptsLeft})),e._feedbackPopup=null,e._feedbackAvatar=null,e}(e);case d:case h:return function(e,t){const{itemId:n}=t.payload;if(e._isReviewing)return e;let c,a;e=s({},e),r(e._screens,(function(t,n){t._id===e._currentScreenId&&(a=n,c=t)})),L.updateScreenAttempts(c,e),L.markScreen(c,e),L.setScreenAsViewed(c);var p=i(c._items,{_id:n}),u=L.getScreenFeedback(c,p),l=L.getScreenFeedbackAvatar(c,u),d=e._screens[a+1];if(!c._isCorrect&&c._attemptsLeft>=1||!c._isCorrect&&e._shouldForceUserToAnswerScreensCorrectly)return e=s(e,{_currentScreenId:c._id,_previousScreenId:c._id,_isInstructionsVisible:!1,_feedbackPopup:{body:u},_feedbackAvatar:l});if(p._actionNavigation){var h=i(e._screens,{_id:p._actionNavigation});h&&(d=h)}if(d){var m=!!e._isComplete||!!d._shouldSetComponentAsComplete;e=s(e,{_currentScreenId:d._id,_previousScreenId:c._id,_isInstructionsVisible:!!d.popupInstruction,_feedbackPopup:u?{body:u}:null,_feedbackAvatar:l,_isComplete:m})}else{var _=L.markInteraction(e),S=L.getFeedbackMessage(_,e);if(!e._resultsScreen._shouldShowFinalResultsScreen)var g=!0,v=e._screens[0]._id;e=s(e,{_currentScreenId:v||null,_previousScreenId:c._id,_isSubmitted:!0,_isComplete:!0,_isCorrect:_._isCorrect,_isPartlyCorrect:_._isPartlyCorrect,feedbackMessage:S,_finalScore:_._finalScore,_isInstructionsVisible:!1,isMenuOpen:!o(e,"_completionDialog._showCompletionDialog")&&(g||!1),_isReviewing:g||!1})}return e}(e,t);case l:return function(e,t){const{itemId:n,value:i}=t.payload;if(e._isReviewing)return e;const r=c(e._screens,t=>{if(t._id===e._currentScreenId){const e=c(t._items,e=>e._id===n?s({},e,{value:i}):e);return s({},t,{_items:e})}return t});return s({},e,{_screens:r})}(e,t);case m:return function(e,t){const{itemId:n}=t.payload;e=s({},e);var r=i(e._screens,{_id:e._currentScreenId});L.updateScreenAttempts(r,e),L.markScreen(r),L.setScreenAsViewed(r);var o=L.markInteraction(e),c=L.getFeedbackMessage(o,e);if(!e._resultsScreen._shouldShowFinalResultsScreen)var a=!0,p=e._screens[0]._id;return s(e,{_currentScreenId:p||null,_previousScreenId:r._id,_isSubmitted:!0,_isComplete:!0,_isCorrect:o._isCorrect,_isPartlyCorrect:o._isPartlyCorrect,feedbackMessage:c,_finalScore:o._finalScore,_isInstructionsVisible:!1,isMenuOpen:a||!1,_isReviewing:a||!1})}(e,t);case _:return function(e,t){if(e._isReviewing)return e;const{itemId:n}=t.payload;var r=i(e._screens,{_id:e._currentScreenId});return i(r._items,{_id:n})._hasBeenClicked=!0,s({},e)}(e,t);case S:return function(e,t){if(e._isReviewing)return e;const{itemId:n,optionValue:o}=t.payload;var c=i(e._screens,{_id:e._currentScreenId}),a=i(c._items,{_id:n});return r(a._options,(function(e){e._hasBeenClicked=!1})),i(a._options,{text:o})._hasBeenClicked=!0,s({},e)}(e,t);case g:return function(e,t){if(e._isReviewing)return e;const{itemId:n,handleId:r,sliderValue:o}=t.payload;var c=i(e._screens,{_id:e._currentScreenId}),a=i(c._items,{_id:n});return i(a._handles,{_id:r})._value=o,s({},e)}(e,t);case v:return function(e,t){if(e._isReviewing)return e;const{itemId:n,options:r}=t.payload;var o=i(e._screens,{_id:e._currentScreenId});return i(o._items,{_id:n})._options=r,s({},e)}(e,t);case f:return function(e,t){return s({},e,{_feedbackPopup:t.payload.feedback,_feedbackAvatar:t.payload.feedback?e._feedbackAvatar:null})}(e,t);case C:return function(e){return s({},e,{_isInstructionsVisible:!e._isInstructionsVisible})}(e);case N:return function(e){return s({},e,{isInstructionsOpen:!e.isInstructionsOpen})}(e);case E:return function(e,t){return s({},e,{_isReviewing:!0,_currentScreenId:t.payload.screenId})}(e,t);case A:return function(e){return s({},e,{_isReviewing:!1,_currentScreenId:null})}(e);case b:return function(e){const t=function e(t,n){var s;if(r(t._screens,(function(e,t){e._id===n&&(s=t)})),!s)return null;var i=t._screens[s-1];return i._hasBeenViewed?i:e(t,i._id)}(e,e._currentScreenId);if(!t)return e;return s({},e,{_currentScreenId:t._id,isMenuOpen:!1})}(e);case y:return function(e){var t=function e(t,n){var s;r(t._screens,(function(e,t){e._id===n&&(s=t)}));var i=t._screens[s+1];if(!i)return null;return i._hasBeenViewed?i:e(t,i._id)}(e,e._currentScreenId),n=null,i={};if(t)n=t._id,i.isMenuOpen=!1;else{if(!e._resultsScreen._shouldShowFinalResultsScreen)return e;n=null,i._isReviewing=!1}return i._currentScreenId=n,s({},e,i)}(e);case I:return function(e){var t=i(e._screens,{_id:e._currentScreenId});if(t&&(0===t._items.length||!t._isMarkable||t._shouldSubmitScreenByTimer&&!t._shouldTimeScreenInteraction)){var n;r(e._screens,(function(e,s){e._id===t._id&&(e._isCorrect=!0,n=s)}));var c=e._screens[n+1];if(c)e._currentScreenId=c._id,e._previousScreenId=t._id,e._isInstructionsVisible=!!c.popupInstruction;else{var a=L.markInteraction(e),p=L.getFeedbackMessage(a,e);if(!e._resultsScreen._shouldShowFinalResultsScreen)var u=!0,l=e._screens[0]._id;e=s(e,{_currentScreenId:l||null,_previousScreenId:t._id,_isSubmitted:!0,_isComplete:!0,_isCorrect:a._isCorrect,_isPartlyCorrect:a._isPartlyCorrect,feedbackMessage:p,_finalScore:a._finalScore,_isInstructionsVisible:!1,_isReviewing:u||!1,isMenuOpen:!o(e,"_completionDialog._showCompletionDialog")&&(u||!1)})}return s({},e)}return e}(e);case k:return function(e){const t=a(e._screens,{_id:e._currentScreenId}),n=e._screens[t];if(0===n._attemptsLeft)return e;const i=s({},n,{_attemptsTaken:n._attempts,_attemptsLeft:0});var r=L.getScreenFeedback(i),o=L.getScreenFeedbackAvatar(i,r);return s({},e,{_screens:[...e._screens.slice(0,t),i,...e._screens.slice(t+1)],_isInstructionsVisible:!1,_feedbackPopup:{body:r},_feedbackAvatar:o})}(e);case T:return function(e){var t=i(e._screens,{_id:e._currentScreenId});return L.resetScreenItems(t),s({},e)}(e);case x:return s({},e,{isDirectionsOpen:!0});case O:return s({},e,{isInstructionsOpen:!0});case N:return s({},e,{isInstructionsOpen:!e.isInstructionsOpen});case R:return s({},e,{isMenuOpen:!e.isMenuOpen});case w:return s({},e,{isScenarioOpen:!e.isScenarioOpen});case P:return s({},e,{isShowingCorrectAnswer:!e.isShowingCorrectAnswer});case M:return function(e){const t=B(),n={_completedAt:t};e._isCorrect&&(n._correctAt=t);return s({},e,n)}(e);default:return e}}(e,t))},1781:function(e,t,n){"use strict";const{componentCompleted:s}=n(61),{CLOSE_FULLSCREEN:i}=n(100),{addPrompt:r}=n(95),{Observable:o}=n(5),{CAPTURE_START:c,CAPTURE_SUBMIT_SCREEN:a,CAPTURE_SCREEN_CLICKED:p,CAPTURE_FAIL_SCREEN:u,CAPTURE_COMPLETED:l,captureCompleted:d}=n(1433);t.captureFinishedEpic=(e,t)=>e.ofType(c,a,u,p).mergeMap(({payload:e})=>{const{componentId:n}=e,s=t.getState().components[n];return s._isComplete&&!s._completedAt?o.of(d({componentId:n})):o.empty()}),t.captureCompletedEpic=(e,t)=>e.ofType(l).mergeMap(({payload:e})=>{const{components:n}=t.getState(),{componentId:c}=e,a=n[c],p=[s({componentId:c,state:t.getState()})];return a._completionDialog&&a._completionDialog._showCompletionDialog&&p.push(r(function(e){const{dialogTitle:t,dialogBody:n,dialogCloseButtonText:s,dialogGraphic:r}=e._completionDialog;return{title:t,body:n,_hasPriority:!0,_dismiss:{text:s,_type:i,_payload:{scrollToContentItem:e}},graphic:r}}(a))),o.of(...p)})},1782:function(e,t,n){"use strict";e.exports={_interactionType:{type:"String",default:"question",shouldRestore:!1},_attemptsLeft:{fieldKey:"_attemptsLeft",type:"Number",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0},_screens:{fieldKey:"_screens",type:"Array",shouldRestore:!0,subMap:{_id:{fieldKey:"_id",type:"String"},_hasBeenViewed:{fieldKey:"_hasBeenViewed",type:"Boolean",shouldRestore:!0},_isCorrect:{fieldKey:"_isCorrect",type:"Boolean",shouldRestore:!0},_attemptsTaken:{fieldKey:"_attemptsTaken",type:"Number",shouldRestore:!0},_usersScore:{fieldKey:"_usersScore",type:"Number",shouldRestore:!0}}}}}}]);